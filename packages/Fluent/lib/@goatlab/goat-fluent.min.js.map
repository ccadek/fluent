{"version":3,"sources":["webpack://@goatlab/goat-fluent/webpack/universalModuleDefinition","webpack://@goatlab/goat-fluent/webpack/bootstrap","webpack://@goatlab/goat-fluent/./node_modules/@stamp/it/index.js","webpack://@goatlab/goat-fluent/./node_modules/@stamp/is/object.js","webpack://@goatlab/goat-fluent/./node_modules/@stamp/compose/index.js","webpack://@goatlab/goat-fluent/./node_modules/@stamp/is/function.js","webpack://@goatlab/goat-fluent/(webpack)/buildin/global.js","webpack://@goatlab/goat-fluent/./node_modules/@stamp/is/array.js","webpack://@goatlab/goat-fluent/./node_modules/@stamp/is/stamp.js","webpack://@goatlab/goat-fluent/./node_modules/@stamp/core/assign.js","webpack://@goatlab/goat-fluent/./node_modules/@stamp/core/merge.js","webpack://@goatlab/goat-fluent/./src/Fluent/Model.js","webpack://@goatlab/goat-fluent/./src/Fluent/Collection.js","webpack://@goatlab/goat-fluent/./src/Fluent/utilities.js","webpack://@goatlab/goat-fluent/./src/Fluent/Interface.js","webpack://@goatlab/goat-fluent/./src/index.js","webpack://@goatlab/goat-fluent/./src/Fluent/Fluent.js","webpack://@goatlab/goat-fluent/./node_modules/@stamp/is/composable.js","webpack://@goatlab/goat-fluent/./node_modules/@stamp/is/plain-object.js","webpack://@goatlab/goat-fluent/./node_modules/@stamp/shortcut/index.js","webpack://@goatlab/goat-fluent/./node_modules/@stamp/is/string.js","webpack://@goatlab/goat-fluent/./node_modules/@stamp/privatize/index.js","webpack://@goatlab/goat-fluent/./src/Fluent/MergeConnector.js","webpack://@goatlab/goat-fluent/./src/Fluent/Event.js"],"names":["root","factory","exports","module","define","amd","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","compose","Shortcut","isStamp","isString","isObject","isFunction","merge","assign","concat","Array","extractFunctions","fns","apply","arguments","filter","length","undefined","standardiseDescriptor","descr","methods","properties","props","initializers","init","composers","deepProperties","deepProps","pd","propertyDescriptors","staticProperties","statics","staticDeepProperties","deepStatics","configuration","conf","deepConfiguration","deepConf","dp","sp","sdp","spd","staticPropertyDescriptors","dc","ii","cc","descriptor","stampit","args","arg","push","baseStampit","shortcuts","prop","type","Boolean","isArray","isComposable","slice","createStamp","composeFunction","Stamp","options","obj","__proto__","defineProperties","inits","initializer","returnedValue","instance","stamp","composeImplementation","concatAssignFunctions","dstObject","srcArray","propName","dstArray","fn","indexOf","combineProperties","srcObject","action","deepMergeAssign","mergeAssign","mergeComposable","dstDescriptor","srcComposable","srcDescriptor","composables","j","composer","g","Function","e","window","isPlainObject","mergeOne","dst","src","returnValue","keys","srcValue","dstValue","newDst","_it2","default","config","remote","path","token","pullForm","local","connector","getModelName","getFluentConfig","FLUENT","_FLUENT_","global","getConnector","connectors","connectorName","getConnectorFromArray","_this","Lcon","find","base","_ref","_ref$token","_ref$pullForm","_ref$connectorName","_ref$path","Error","remoteConnector","remoteConnection","_ref2$connectorName","localConnector","merged","mergeConnector","Privatize","data","all","avg","average","sum","reduce","acc","element","extract","Utilities","getFromPath","chunkApply","size","callback","regeneratorRuntime","mark","_callee","totalSize","count","reducer","promiseChain","wrap","_context","prev","next","chunks","chain","batch","then","Promise","map","console","log","resolve","abrupt","stop","results","splice","collapse","forEach","chunk","unChunk","combine","array","result","index","_extends","_value","_toConsumableArray","contains","Fx","some","val","duplicatesBy","duplicates","submission","finalKey","string","functionToCheck","toString","def","freeze","_path","includes","split","assignedName","trim","fullPath","replace","label","every","step","chainReference","whereArray","orWhereArray","selectArray","orderByArray","limitNumber","offsetNumber","populateArray","pullSize","ownerId","paginator","rawQuery","operators","id","findOne","remove","softDelete","insert","update","clear","updateOrCreate","findAndRemove","paginate","tableView","raw","owner","user","method","own","first","_asyncToGenerator","sent","collect","_this2","_callee2","_context2","_Collection2","select","_len","columns","_key","prepareInput","elem","pos","arr","jsApplySelect","_this3","_data","newElement","attribute","_typeof","offset","populate","_len2","relations","_key2","skip","where","_this4","_len3","_key3","JSON","stringify","andWhere","_this5","_len4","_key4","orWhere","_this6","_len5","_key5","limit","take","pluck","keyPath","_this7","_callee3","_context3","extracted","orderBy","_len6","_key6","jsApplyOrderBy","field","order","sort","a","b","A","B","Date","input","cols","item","ArrayInsert","dataArray","_this8","_callee4","initial","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","_context4","iterator","done","showProgress","t0","t1","return","finish","Model","Fluent","Interface","MergeConnector","Event","registerGlobalVariable","model","registerModel","_Model2","extend","models","_ref$REMOTE_CONNECTOR","REMOTE_CONNECTORS","_ref$LOCAL_CONNECTORS","LOCAL_CONNECTORS","_ref$MERGE_CONNECTORS","MERGE_CONNECTORS","getConfig","registerConnector","_ref2","ctx","deregisterConnector","_ref3","filteredConnectors","getPrototypeOf","createShortcut","param","privates","WeakMap","makeProxyFunction","proxiedFn","fields","configurable","_","opts","privateMethodNames","newObject","set","methodNames","stampSymbol","for","privatizeMethods","_Interface","localFx","remoteFx","localData","remoteData","prepareMergedFunctions","CustomEvent","event","params","evt","document","createEvent","bubbles","cancelable","detail","initCustomEvent","emit","text","customEvent","dispatchEvent","listen","addEventListener","removeEventListener"],"mappings":"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","file":"@goatlab/goat-fluent.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"@goatlab/goat-fluent\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"@goatlab/goat-fluent\"] = factory();\n\telse\n\t\troot[\"@goatlab/goat-fluent\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 13);\n","var compose = require('@stamp/compose');\nvar Shortcut = require('@stamp/shortcut');\nvar isStamp = require('@stamp/is/stamp');\nvar isString = require('@stamp/is/string');\nvar isObject = require('@stamp/is/object');\nvar isFunction = require('@stamp/is/function');\nvar merge = require('@stamp/core/merge');\nvar assign = require('@stamp/core/assign');\n\nvar concat = Array.prototype.concat;\nfunction extractFunctions() {\n  var fns = concat.apply([], arguments).filter(isFunction);\n  return fns.length === 0 ? undefined : fns;\n}\n\nfunction standardiseDescriptor(descr) {\n  if (!isObject(descr)) return descr;\n\n  var methods = descr.methods;\n  var properties = descr.properties;\n  var props = descr.props;\n  var initializers = descr.initializers;\n  var init = descr.init;\n  var composers = descr.composers;\n  var deepProperties = descr.deepProperties;\n  var deepProps = descr.deepProps;\n  var pd = descr.propertyDescriptors;\n  var staticProperties = descr.staticProperties;\n  var statics = descr.statics;\n  var staticDeepProperties = descr.staticDeepProperties;\n  var deepStatics = descr.deepStatics;\n  var configuration = descr.configuration;\n  var conf = descr.conf;\n  var deepConfiguration = descr.deepConfiguration;\n  var deepConf = descr.deepConf;\n\n  var p = isObject(props) || isObject(properties) ?\n    assign({}, props, properties) : undefined;\n\n  var dp = isObject(deepProps) ? merge({}, deepProps) : undefined;\n  dp = isObject(deepProperties) ? merge(dp, deepProperties) : dp;\n\n  var sp = isObject(statics) || isObject(staticProperties) ?\n    assign({}, statics, staticProperties) : undefined;\n\n  var sdp = isObject(deepStatics) ? merge({}, deepStatics) : undefined;\n  sdp = isObject(staticDeepProperties) ? merge(sdp, staticDeepProperties) : sdp;\n\n  var spd = descr.staticPropertyDescriptors;\n  if (isString(descr.name)) spd = assign({}, spd || {}, { name: { value: descr.name } });\n\n  var c = isObject(conf) || isObject(configuration) ?\n    assign({}, conf, configuration) : undefined;\n\n  var dc = isObject(deepConf) ? merge({}, deepConf) : undefined;\n  dc = isObject(deepConfiguration) ? merge(dc, deepConfiguration) : dc;\n\n  var ii = extractFunctions(init, initializers);\n\n  var cc = extractFunctions(composers);\n\n  var descriptor = {};\n  if (methods) descriptor.methods = methods;\n  if (p) descriptor.properties = p;\n  if (ii) descriptor.initializers = ii;\n  if (cc) descriptor.composers = cc;\n  if (dp) descriptor.deepProperties = dp;\n  if (sp) descriptor.staticProperties = sp;\n  if (sdp) descriptor.staticDeepProperties = sdp;\n  if (pd) descriptor.propertyDescriptors = pd;\n  if (spd) descriptor.staticPropertyDescriptors = spd;\n  if (c) descriptor.configuration = c;\n  if (dc) descriptor.deepConfiguration = dc;\n\n  return descriptor;\n}\n\nfunction stampit() {\n  'use strict'; // to make sure `this` is not pointing to `global` or `window`\n  var length = arguments.length, args = [];\n  for (var i = 0; i < length; i += 1) {\n    var arg = arguments[i];\n    args.push(isStamp(arg) ? arg : standardiseDescriptor(arg));\n  }\n\n  return compose.apply(this || baseStampit, args); // jshint ignore:line\n}\n\nvar baseStampit = Shortcut.compose({\n  staticProperties: {\n    create: function () { return this.apply(this, arguments); },\n    compose: stampit // infecting\n  }\n});\n\nvar shortcuts = Shortcut.compose.staticProperties;\nfor (var prop in shortcuts) stampit[prop] = shortcuts[prop].bind(baseStampit);\nstampit.compose = stampit.bind();\n\nmodule.exports = stampit;\n","module.exports = function isObject(arg) {\n  var type = typeof arg;\n  return Boolean(arg) && (type === 'object' || type === 'function');\n};\n","var isArray = require('@stamp/is/array');\nvar isFunction = require('@stamp/is/function');\nvar isObject = require('@stamp/is/object');\nvar isStamp = require('@stamp/is/stamp');\nvar isComposable = require('@stamp/is/composable');\n\nvar assign = require('@stamp/core/assign');\nvar merge = require('@stamp/core/merge');\n\nvar slice = Array.prototype.slice;\n\n/**\n * Creates new factory instance.\n * @returns {Function} The new factory function.\n */\nfunction createFactory() {\n  return function Stamp(options) {\n    var descriptor = Stamp.compose || {};\n    // Next line was optimized for most JS VMs. Please, be careful here!\n    var obj = {__proto__: descriptor.methods}; // jshint ignore:line\n\n    merge(obj, descriptor.deepProperties);\n    assign(obj, descriptor.properties);\n    Object.defineProperties(obj, descriptor.propertyDescriptors || {});\n\n    if (!descriptor.initializers || descriptor.initializers.length === 0) return obj;\n\n    if (options === undefined) options = {};\n    var inits = descriptor.initializers;\n    var length = inits.length;\n    for (var i = 0; i < length; i += 1) {\n      var initializer = inits[i];\n      if (isFunction(initializer)) {\n        var returnedValue = initializer.call(obj, options,\n          {instance: obj, stamp: Stamp, args: slice.apply(arguments)});\n        obj = returnedValue === undefined ? obj : returnedValue;\n      }\n    }\n\n    return obj;\n  };\n}\n\n/**\n * Returns a new stamp given a descriptor and a compose function implementation.\n * @param {Descriptor} [descriptor={}] The information about the object the stamp will be creating.\n * @param {Compose} composeFunction The \"compose\" function implementation.\n * @returns {Stamp}\n */\nfunction createStamp(descriptor, composeFunction) {\n  var Stamp = createFactory();\n\n  if (descriptor.staticDeepProperties) {\n    merge(Stamp, descriptor.staticDeepProperties);\n  }\n  if (descriptor.staticProperties) {\n    assign(Stamp, descriptor.staticProperties);\n  }\n  if (descriptor.staticPropertyDescriptors) {\n    Object.defineProperties(Stamp, descriptor.staticPropertyDescriptors);\n  }\n\n  var composeImplementation = isFunction(Stamp.compose) ? Stamp.compose : composeFunction;\n  Stamp.compose = function _compose() {\n    'use strict'; // to make sure `this` is not pointing to `global` or `window`\n    return composeImplementation.apply(this, arguments);\n  };\n  assign(Stamp.compose, descriptor);\n\n  return Stamp;\n}\n\nfunction concatAssignFunctions(dstObject, srcArray, propName) {\n  if (!isArray(srcArray)) return;\n\n  var length = srcArray.length;\n  var dstArray = dstObject[propName] || [];\n  dstObject[propName] = dstArray;\n  for (var i = 0; i < length; i += 1) {\n    var fn = srcArray[i];\n    if (isFunction(fn) && dstArray.indexOf(fn) < 0) {\n      dstArray.push(fn);\n    }\n  }\n}\n\n\nfunction combineProperties(dstObject, srcObject, propName, action) {\n  if (!isObject(srcObject[propName])) return;\n  if (!isObject(dstObject[propName])) dstObject[propName] = {};\n  action(dstObject[propName], srcObject[propName]);\n}\n\nfunction deepMergeAssign(dstObject, srcObject, propName) {\n  combineProperties(dstObject, srcObject, propName, merge);\n}\nfunction mergeAssign(dstObject, srcObject, propName) {\n  combineProperties(dstObject, srcObject, propName, assign);\n}\n\n/**\n * Mutates the dstDescriptor by merging the srcComposable data into it.\n * @param {Descriptor} dstDescriptor The descriptor object to merge into.\n * @param {Composable} [srcComposable] The composable\n * (either descriptor or stamp) to merge data form.\n */\nfunction mergeComposable(dstDescriptor, srcComposable) {\n  var srcDescriptor = (srcComposable && srcComposable.compose) || srcComposable;\n\n  mergeAssign(dstDescriptor, srcDescriptor, 'methods');\n  mergeAssign(dstDescriptor, srcDescriptor, 'properties');\n  deepMergeAssign(dstDescriptor, srcDescriptor, 'deepProperties');\n  mergeAssign(dstDescriptor, srcDescriptor, 'propertyDescriptors');\n  mergeAssign(dstDescriptor, srcDescriptor, 'staticProperties');\n  deepMergeAssign(dstDescriptor, srcDescriptor, 'staticDeepProperties');\n  mergeAssign(dstDescriptor, srcDescriptor, 'staticPropertyDescriptors');\n  mergeAssign(dstDescriptor, srcDescriptor, 'configuration');\n  deepMergeAssign(dstDescriptor, srcDescriptor, 'deepConfiguration');\n  concatAssignFunctions(dstDescriptor, srcDescriptor.initializers, 'initializers');\n  concatAssignFunctions(dstDescriptor, srcDescriptor.composers, 'composers');\n}\n\n/**\n * Given the list of composables (stamp descriptors and stamps) returns\n * a new stamp (composable factory function).\n * @typedef {Function} Compose\n * @param {...(Composable)} [arguments] The list of composables.\n * @returns {Stamp} A new stamp (aka composable factory function)\n */\nmodule.exports = function compose() {\n  'use strict'; // to make sure `this` is not pointing to `global` or `window`\n  var descriptor = {};\n  var composables = [];\n  if (isComposable(this)) {\n    mergeComposable(descriptor, this);\n    composables.push(this);\n  }\n\n  for (var i = 0; i < arguments.length; i++) {\n    var arg = arguments[i];\n    if (isComposable(arg)) {\n      mergeComposable(descriptor, arg);\n      composables.push(arg);\n    }\n  }\n\n  var stamp = createStamp(descriptor, compose);\n\n  var composers = descriptor.composers;\n  if (isArray(composers) && composers.length > 0) {\n    for (var j = 0; j < composers.length; j += 1) {\n      var composer = composers[j];\n      var returnedValue = composer({stamp: stamp, composables: composables});\n      stamp = isStamp(returnedValue) ? returnedValue : stamp;\n    }\n  }\n\n  return stamp;\n};\n\n\n/**\n * The Stamp Descriptor\n * @typedef {Function|Object} Descriptor\n * @returns {Stamp} A new stamp based on this Stamp\n * @property {Object} [methods] Methods or other data used as object instances' prototype\n * @property {Array<Function>} [initializers] List of initializers called for each object instance\n * @property {Array<Function>} [composers] List of callbacks called each time a composition happens\n * @property {Object} [properties] Shallow assigned properties of object instances\n * @property {Object} [deepProperties] Deeply merged properties of object instances\n * @property {Object} [staticProperties] Shallow assigned properties of Stamps\n * @property {Object} [staticDeepProperties] Deeply merged properties of Stamps\n * @property {Object} [configuration] Shallow assigned properties of Stamp arbitrary metadata\n * @property {Object} [deepConfiguration] Deeply merged properties of Stamp arbitrary metadata\n * @property {Object} [propertyDescriptors] ES5 Property Descriptors applied to object instances\n * @property {Object} [staticPropertyDescriptors] ES5 Property Descriptors applied to Stamps\n */\n\n/**\n * The Stamp factory function\n * @typedef {Function} Stamp\n * @returns {*} Instantiated object\n * @property {Descriptor} compose - The Stamp descriptor and composition function\n */\n\n/**\n * A composable object - stamp or descriptor\n * @typedef {Stamp|Descriptor} Composable\n */\n\n","module.exports = function isFunction(arg) {\n  return typeof arg === 'function';\n};\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","module.exports = Array.isArray;\n","var isFunction = require('./function');\n\nmodule.exports = function isStamp(arg) {\n  return isFunction(arg) && isFunction(arg.compose);\n};\n","module.exports = Object.assign;\n","var isPlainObject = require('@stamp/is/plain-object');\nvar isObject = require('@stamp/is/object');\nvar isArray = require('@stamp/is/array');\n\n/**\n * The 'src' argument plays the command role.\n * The returned values is always of the same type as the 'src'.\n * @param dst The object to merge into\n * @param src The object to merge from\n * @returns {*}\n */\nfunction mergeOne(dst, src) {\n  if (src === undefined) return dst;\n\n  // According to specification arrays must be concatenated.\n  // Also, the '.concat' creates a new array instance. Overrides the 'dst'.\n  if (isArray(src)) return (isArray(dst) ? dst : []).concat(src);\n\n  // Now deal with non plain 'src' object. 'src' overrides 'dst'\n  // Note that functions are also assigned! We do not deep merge functions.\n  if (!isPlainObject(src)) return src;\n\n  // See if 'dst' is allowed to be mutated.\n  // If not - it's overridden with a new plain object.\n  var returnValue = isObject(dst) ? dst : {};\n\n  var keys = Object.keys(src);\n  for (var i = 0; i < keys.length; i += 1) {\n    var key = keys[i];\n\n    var srcValue = src[key];\n    // Do not merge properties with the 'undefined' value.\n    if (srcValue !== undefined) {\n      var dstValue = returnValue[key];\n      // Recursive calls to mergeOne() must allow only plain objects or arrays in dst\n      var newDst = isPlainObject(dstValue) || isArray(srcValue) ? dstValue : {};\n\n      // deep merge each property. Recursion!\n      returnValue[key] = mergeOne(newDst, srcValue);\n    }\n  }\n\n  return returnValue;\n}\n\nmodule.exports = function (dst) {\n  for (var i = 1; i < arguments.length; i++) {\n    dst = mergeOne(dst, arguments[i]);\n  }\n  return dst;\n};\n","import stampit from \"@stamp/it\";\nimport Privatize from \"@stamp/privatize\";\n\nexport default stampit({\n  properties: {\n    name: \"baseModel\",\n    config: {\n      remote: {\n        path: undefined,\n        token: undefined,\n        pullForm: false\n      },\n      local: {\n        connector: \"loki\"\n      },\n      merge: {\n        connector: \"formio-loki\"\n      }\n    }\n  },\n  methods: {\n    /**\n     *\n     */\n    getModelName() {\n      return this.name;\n    },\n    /**\n     *\n     */\n    getFluentConfig() {\n      let FLUENT;\n      if (typeof window !== \"undefined\" && window && window._FLUENT_) {\n        FLUENT = window._FLUENT_;\n      } else if (global && global._FLUENT_) {\n        FLUENT = global._FLUENT_;\n      }\n\n      return FLUENT;\n    },\n    /**\n     *\n     * @param {*} connectors\n     * @param {*} type\n     */\n    getConnector(connectors, type, connectorName = false) {\n      if (Array.isArray(connectors)) {\n        return this.getConnectorFromArray(connectors, type, connectorName);\n      }\n\n      if (connectors instanceof Object) {\n        return connectors;\n      }\n\n      return undefined;\n    },\n    /**\n     *\n     * @param {*} connectors\n     * @param {*} type\n     */\n    getConnectorFromArray(connectors, type, connectorName = false) {\n      // Default case\n      if (connectors.length === 1) return connectors[0];\n\n      // If the model assigns specific one\n      if (this.config && this.config[type] && this.config[type].connector) {\n        const Lcon = connectors.find(\n          c => c.name === this.config[type].connector\n        );\n\n        if (Lcon instanceof Object) return Lcon;\n      }\n\n      // If connectorName is specified\n      if (connectorName) {\n        const Lcon = connectors.find(c => c.name === connectorName);\n\n        if (Lcon instanceof Object) return Lcon;\n      }\n\n      const base = connectors.find(c => c.default);\n\n      if (base instanceof Object) return base;\n\n      return undefined;\n    },\n    /**\n     * [remote description]\n     * @return {[type]} [description]\n     */\n    remote({\n      token = undefined,\n      pullForm = undefined,\n      connectorName = undefined,\n      path = undefined\n    } = {}) {\n      const FLUENT = this.getFluentConfig();\n      const connectors =\n        FLUENT && FLUENT.connectors && FLUENT.connectors.remote;\n\n      if (!connectors) {\n        throw new Error(\n          \"No remote connector was defined. Please define it using Fluent.config()\"\n        );\n      }\n\n      const remoteConnector = this.getConnector(\n        connectors,\n        \"remote\",\n        connectorName || false\n      );\n\n      this.config.remote.token = token || this.config.remote.token;\n      this.config.remote.path = path || this.config.remote.path;\n\n      if (pullForm) {\n        this.config.remote.pullForm = pullForm || this.config.remote.pullForm;\n      }\n\n      if (remoteConnector) {\n        return remoteConnector.connector({\n          remoteConnection: this.config.remote,\n          connector: remoteConnector\n        });\n      }\n\n      throw new Error(\n        \"No default remote connector found. Please assign one as your default in Fluent.config\"\n      );\n    },\n    /**\n     * [local description]\n     * @return {[type]} [description]\n     */\n    local({ connectorName = undefined } = {}) {\n      const FLUENT = this.getFluentConfig();\n      const connectors = FLUENT && FLUENT.connectors && FLUENT.connectors.local;\n\n      if (!connectors)\n        throw new Error(\n          \"No local connector was defined. Please define it using Fluent.config()\"\n        );\n\n      const localConnector = this.getConnector(\n        connectors,\n        \"local\",\n        connectorName || false\n      );\n\n      if (localConnector)\n        return localConnector.connector({\n          name: this.name,\n          connector: localConnector\n        });\n\n      throw new Error(\n        \"No default local connector found. Please assign one as your default in Fluent.config\"\n      );\n    },\n    /**\n     * [local description]\n     * @return {[type]} [description]\n     */\n    merged() {\n      const local = this.local();\n      const remote = this.remote();\n\n      const FLUENT = this.getFluentConfig();\n      const connectors = FLUENT && FLUENT.connectors && FLUENT.connectors.merge;\n\n      if (!connectors) {\n        throw new Error(\n          \"No merge connector was defined. Please define it using Fluent.config()\"\n        );\n      }\n\n      const mergeConnector = this.getConnector(connectors, \"merge\");\n\n      if (mergeConnector) {\n        return mergeConnector.connector({\n          local,\n          remote,\n          name: this.name,\n          connector: mergeConnector\n        });\n      }\n\n      throw new Error(\n        \"No default merge connector found. Please assign one as your default in Fluent.config\"\n      );\n    }\n  }\n}).compose(Privatize);\n","import stampit from '@stamp/it';\nimport Utilities from './utilities';\n\nexport default stampit({\n  init(data) {\n    if (!Array.isArray(data)) {\n      throw new Error('Collect method only accepts arrays of data');\n    }\n    this.data = data;\n  },\n  properties: {\n    data: []\n  },\n  methods: {\n    /**\n     * \n     */\n    get() {\n      return this.data;\n    },\n    /**\n     * Alias for the \"get\" method\n     * @return function\n     */\n    all() {\n      return this.get();\n    },\n    /**\n     * Alias for the \"average\" method.\n     *\n     * @param  {String}  path Path of the key\n     * @return function\n     */\n    avg(path) {\n      return this.average(path);\n    },\n    /**\n     * Get the average value of a given key.\n     *\n     * @param  {String}  path Path of the key\n     * @return static\n     */\n    average(path = '') {\n      let data = [...this.data]\n      const sum = data.reduce((acc, element) => {\n        let value = element;\n\n        if (element instanceof Object) {\n          let extract = Utilities.getFromPath(element, path, undefined);\n          if (typeof extract !== 'undefined' && extract.value) {\n            value = extract.value\n          }\n        }\n        return acc + value;\n      }, 0);\n\n      try {\n        const avg = sum / data.length;\n        return avg;\n      } catch (e) {\n        throw new Error('Division between \"' + sum + '\" and \"' + data.length + '\" is not valid.');\n      }\n    },\n    async chunkApply(size, callback) {\n      if (callback === undefined) {\n        throw new Error('Callback function not defined.');\n      }\n\n      const totalSize = this.data.length;\n      let count = 0;\n\n      this.chunks(size);\n\n      // console.log(`Processed ${count}/${totalSize} elements...`);\n\n      /* for (const chunk of this.data) {\n        const promises = [];\n\n        chunk.forEach((element) => {\n          promises.push(callback(element, count));\n          count = count + 1;\n        });\n\n        await Promise.all(promises);\n\n        // count = (count + size) > totalSize ? totalSize : count + size;\n        console.log(`Processed ${count}/${totalSize} elements...`);\n      } */\n\n      const reducer = (chain, batch) =>\n        chain.then(() => Promise.all(batch.map(d => callback(d))))\n          .then(() => {\n            count = (count + size) > totalSize ? totalSize : count + size;\n            console.log(`Processed ${count}/${totalSize} elements...`);\n          });\n\n      console.log(`Processed ${count}/${totalSize} elements...`);\n      const promiseChain = this.data.reduce(reducer, Promise.resolve());\n\n      return promiseChain;\n    },\n    /**\n     * Chunks the given array\n     *\n     * @param {Int} size\n     * @return static\n     */\n    chunks(size) {\n      let data = [...this.data];\n      var results = [];\n\n      while (data.length) {\n        results.push(data.splice(0, size));\n      }\n\n      this.data = results;\n      return this;\n    },\n    /**\n     * \n     */\n    collapse() {\n      let data = [...this.data];\n      var results = [];\n\n      data.forEach((chunk) => {\n        if (Array.isArray(chunk)) {\n          chunk.forEach((element) => {\n            results.push(element);\n          });\n        } else {\n          results.push(chunk);\n        }\n      });\n      this.data = results;\n\n      return this;\n    },\n    unChunk() {\n      return this.collapse();\n    },\n    combine(array) {\n      const data = [...this.data];\n      let result;\n      data.forEach((e, index) => {\n        if (!(e instanceof Object)) {\n          if (!result) {\n            result = {}\n          }\n          result[e] = array[index]\n        } else {\n          if (!result) {\n            result = []\n          }\n          result[index] = { ...e, _value: array[index] }\n        }\n      })\n\n      this.data = result;\n      return this;\n    },\n    concat(array) {\n      this.data = [...this.data, ...array];\n      return this;\n    },\n    contains(...args) {\n      let value;\n      let path;\n      let Fx;\n      if (args.length === 1) {\n        if (this.isFunction(args[0])) {\n          Fx = args[0]\n        }\n        value = args[0]\n      } else {\n        value = args[1];\n        path = args[0];\n      }\n      let data = [...this.data];\n\n      return data.some((e, index) => {\n        if (Fx) {\n          return !!Fx(e, index);\n        }\n        let val = e;\n        if (e instanceof Object) {\n          let extract = Utilities.getFromPath(e, path, undefined)\n          if (extract.value) {\n            val = extract.value\n          }\n        }\n        return val === value\n\n      })\n    },\n    /**\n     * Returns an array of duplicate submissions, based on an array of keys.\n     * @param {Array} keys - Keys where the function compares an object to evaluate its similarity. \n     */\n    duplicatesBy(keys) {\n      const data = [...this.data];\n      const duplicates = [];\n\n      data.reduce((object, submission) => {\n        const finalKey = keys.reduce((string, key) =>\n          string + Utilities.getFromPath(submission, key, '').value\n        , '');\n\n        if (object.hasOwnProperty(finalKey)) {\n          duplicates.push(submission);\n        } else {\n          object[finalKey] = true;\n        }\n\n        return object;\n      }, {});\n\n      this.data = duplicates;\n\n      return this;\n    },\n    count() {\n      return this.data.length;\n    },\n    isFunction(functionToCheck) {\n      return functionToCheck && {}.toString.call(functionToCheck) === '[object Function]';\n    }\n  }\n});\n","/* eslint-disable no-unused-vars */\nlet Utilities = (() => {\n  /**\n   * Given an Object and its path, if exisits it will\n   * return the value of it, if not the default\n   * @param {Object} obj\n   * @param {String} path\n   * @param {*} def\n   */\n  const get = (fn, def) => {\n    try {\n      return fn();\n    } catch (e) {\n      return def;\n    }\n  };\n  /**\n   *\n   * @param {*} obj\n   * @param {*} path\n   * @param {*} def\n   */\n  const getFromPath = (obj, path, def) => {\n    let _path = path;\n\n    if (path.includes(' as ')) {\n      path = path.split(' as ');\n      _path = path[0];\n    }\n\n    let assignedName = get(() => {\n      return Array.isArray(path) && path[1].trim();\n    }, undefined);\n\n    let fullPath = _path\n      .replace(/\\[/g, '.')\n      .replace(/]/g, '')\n      .split('.')\n      .filter(Boolean)\n      .map(e => e.trim());\n\n    function everyFunc (step) {\n      return !(step && (obj = obj[step]) === undefined);\n    }\n\n    let result = fullPath.every(everyFunc) ? obj : def;\n\n    return { label: assignedName || _path, value: result };\n  };\n\n \n  return Object.freeze({\n    get,\n    getFromPath\n  });\n})();\n\nexport default Utilities;\n","import stampit from \"@stamp/it\";\nimport Utilities from \"./utilities\";\nimport Collection from \"./Collection\";\n\nexport default stampit({\n  init({ name, remoteConnection, connector }) {\n    if (!name && !remoteConnection) {\n      throw new Error(\"Model must have a name or path\");\n    }\n\n    if (!connector) {\n      throw new Error(\n        \"Model must have a connector. Please register one using Fluent.config\"\n      );\n    }\n    this.name = name || this.name;\n    this.remoteConnection = remoteConnection || this.remoteConnection;\n    this.connector = connector || this.connector;\n    this.chainReference = [];\n    this.whereArray = [];\n    this.orWhereArray = [];\n    this.selectArray = [];\n    this.orderByArray = [];\n    this.limitNumber = undefined;\n    this.offsetNumber = undefined;\n    this.populateArray = [];\n    this.chunk = null;\n    this.pullSize = null;\n    this.ownerId = undefined;\n    this.paginator = undefined;\n    this.rawQuery = undefined;\n  },\n  properties: {\n    operators: [\n      \"=\",\n      \"<\",\n      \">\",\n      \"<=\",\n      \">=\",\n      \"<>\",\n      \"!=\",\n      \"in\",\n      \"nin\",\n      \"like\",\n      \"regexp\",\n      \"startsWith\",\n      \"endsWith\",\n      \"contains\"\n    ]\n  },\n  methods: {\n    /**\n     *\n     */\n    get() {\n      throw new Error(\"get() method not implemented\");\n    },\n    /**\n     *\n     */\n    all() {\n      throw new Error(\"all() method not implemented\");\n    },\n    /**\n     *\n     */\n    find(id) {\n      throw new Error(\"find() method not implemented\");\n    },\n    /**\n     *\n     */\n    findOne() {\n      throw new Error(\"findOne() method not implemented\");\n    },\n    /**\n     *\n     */\n    remove() {\n      throw new Error(\"remove() method not implemented\");\n    },\n    /**\n     *\n     */\n    softDelete() {\n      throw new Error(\"softDelete() method not implemented\");\n    },\n    /**\n     *\n     */\n    insert() {\n      throw new Error(\"insert() method not implemented\");\n    },\n    /**\n     *\n     */\n    update() {\n      throw new Error(\"update() method not implemented\");\n    },\n    /**\n     *\n     */\n    clear() {\n      throw new Error(\"clear() method not implemented\");\n    },\n    /**\n     *\n     */\n    updateOrCreate() {\n      throw new Error(\"updateOrCreate() method not implemented\");\n    },\n    /**\n     *\n     */\n    findAndRemove() {\n      throw new Error(\"findAndRemove() method not implemented\");\n    },\n    /**\n     *\n     * @param {*} paginator\n     */\n    paginate() {\n      throw new Error(\"paginate() method not implemented\");\n    },\n    /**\n     * @param {*} tableView\n     */\n    tableView() {\n      throw new Error(\"tableView() method not implemented\");\n    },\n    /**\n     * @param {*} raw\n     */\n    raw() {\n      throw new Error(\"raw() method not implemented\");\n    },\n    owner(user) {\n      this.chainReference.push({ method: \"owner\", args: user });\n      this.ownerId = user;\n      return this;\n    },\n    own(user) {\n      return this.owner(user);\n    },\n    /**\n     * Executes the Get() method and\n     * returns the its first result\n     *\n     * @return {Object} First result\n     */\n    async first() {\n      let data = await this.get();\n\n      return Utilities.get(() => data[0], []);\n    },\n    /**\n     *\n     * Gets the data in the current query and\n     * transforms it into a collection\n     * @returns {Collection} Fluent Collection\n     */\n    async collect() {\n      let data = await this.get();\n\n      if (!Array.isArray(data)) {\n        throw new Error(\"Collect method only accepts arrays of data\");\n      }\n\n      return Collection(data);\n    },\n    /**\n     * Adds the given columns to the SelectArray\n     * to use as column filter for the data\n     *\n     * @param {Array|String} columns The columns to select\n     * @returns {Model} Fluent Model\n     */\n    select(...columns) {\n      columns = this.prepareInput(columns);\n      this.chainReference.push({ method: \"select\", args: columns });\n      this.selectArray = this.selectArray\n        .concat(columns)\n        .filter((elem, pos, arr) => {\n          return arr.indexOf(elem) === pos;\n        });\n\n      return this;\n    },\n    /**\n     * Maps the given Data to show only those fields\n     * explicitly detailed on the Select function\n     *\n     * @param {Array} data Data from local or remote DB\n     * @returns {Array} Formatted data with the selected columns\n     */\n    jsApplySelect(data) {\n      let _data = Array.isArray(data) ? [...data] : [data];\n\n      if (this.selectArray.length > 0) {\n        _data = _data.map(element => {\n          let newElement = {};\n\n          this.selectArray.forEach(attribute => {\n            let extract = Utilities.getFromPath(element, attribute, undefined);\n\n            let value = Utilities.get(() => extract.value, undefined);\n\n            if (typeof value !== \"undefined\") {\n              if (\n                typeof value === \"object\" &&\n                value.hasOwnProperty(\"data\") &&\n                value.data.hasOwnProperty(\"name\")\n              ) {\n                newElement[extract.label] = value.data.name;\n              } else {\n                newElement[extract.label] = value;\n              }\n            }\n          });\n\n          return newElement;\n        });\n      }\n\n      return _data;\n    },\n    /**\n     *  Sets the offset number for\n     *  the given query\n     *\n     * @param {int} offset The given offset\n     * @returns {Model} Fluent Model\n     */\n    offset(offset) {\n      this.chainReference.push({ method: \"offset\", args: offset });\n      this.offsetNumber = offset;\n      return this;\n    },\n    /**\n     *  Sets the relations to be\n     *  loded with the query\n     *\n     * @param {int} offset The given offset\n     * @returns {Model} Fluent Model\n     */\n    populate(...relations) {\n      this.chainReference.push({ method: \"relations\", args: relations });\n      this.populateArray = relations;\n      return this;\n    },\n    /**\n     *  Alias for the offset methods\n     *\n     * @param {int} offset the given offset\n     */\n    skip(offset) {\n      return this.offset(offset);\n    },\n    /**\n     *  Adds where filters to the query\n     *  whereArray\n     * @param {String|Array} args Where filters\n     * @returns {Model} Fluent Model\n     */\n    where(...args) {\n      this.chainReference.push({ method: \"where\", args: args });\n      this.whereArray = [];\n      args = Array.isArray(args[0]) ? args : [args];\n      args.forEach(arg => {\n        if (arg.length !== 3) {\n          throw new Error(\n            'There where clouse is not properly formatted, expecting: [\"attribute\", \"operator\",\"value\"] but got \"' +\n              JSON.stringify(arg) +\n              '\" '\n          );\n        }\n        this.whereArray.push(arg);\n      });\n      return this;\n    },\n    /**\n     * Pushes where filters with AND condition\n     * to the whereArray\n     *\n     * @param {String|Array} args Where filters\n     * @returns {Model} Fluent Model\n     */\n    andWhere(...args) {\n      this.chainReference.push({ method: \"andWhere\", args: args });\n      args = Array.isArray(args[0]) ? args : [args];\n      args.forEach(arg => {\n        if (arg.length !== 3) {\n          throw new Error(\n            'There where clouse is not properly formatted, expecting: [\"attribute\", \"operator\",\"value\"] but got \"' +\n              JSON.stringify(arg) +\n              '\" '\n          );\n        }\n        this.whereArray.push(arg);\n      });\n      return this;\n    },\n    /**\n     * Pushes where filter with OR condition\n     * to the orWhereArray\n     *\n     * @param {String|Array} args OR where filters\n     * @returns {Model} Fluent Model\n     */\n    orWhere(...args) {\n      this.chainReference.push({ method: \"orWhere\", args: args });\n      args = Array.isArray(args[0]) ? args : [args];\n      args.forEach(arg => {\n        if (arg.length !== 3) {\n          throw new Error(\n            'There orWhere clouse is not properly formatted, expecting: [\"attribute\", \"operator\",\"value\"] but got \"' +\n              JSON.stringify(arg) +\n              '\" '\n          );\n        }\n        this.orWhereArray.push(arg);\n      });\n      return this;\n    },\n    /**\n     * Limits the number of results for the\n     * given query\n     * @param {int} limit limit number\n     * @returns {Model} Fluent Model\n     */\n    limit(limit) {\n      this.chainReference.push({ method: \"limit\", args: limit });\n      this.limitNumber = limit;\n      return this;\n    },\n    /**\n     * Alias for the limit method\n     *\n     * @param {*} limit limit number\n     * @returns {Model} Fluent Model\n     */\n    take(limit) {\n      return this.limit(limit);\n    },\n    /**\n     * Gets all values for a given KEY\n     * @param {String} keyPath The path to the key\n     * @returns {Array}\n     */\n    async pluck(keyPath) {\n      this.chainReference.push({ method: \"pluck\", args: keyPath });\n      let data = await this.get();\n\n      data = data.map(e => {\n        let extracted = Utilities.getFromPath(e, keyPath, undefined);\n\n        if (typeof extracted.value !== \"undefined\") {\n          return extracted.value;\n        }\n      });\n      return data;\n    },\n    /**\n     *\n     * @param {*} args\n     */\n    orderBy(...args) {\n      this.chainReference.push({ method: \"orderBy\", args: args });\n      this.orderByArray = args;\n      return this;\n    },\n    /**\n     *\n     * @param {*} data\n     */\n    jsApplyOrderBy(data) {\n      let _data = [...data];\n\n      if (this.orderByArray.length === 0) {\n        return _data;\n      }\n      let field = this.orderByArray[0];\n\n      if (\n        this.selectArray.length > 0 &&\n        (field.includes(\".\") || field.includes(\"[\"))\n      ) {\n        throw new Error(\n          'Cannot orderBy nested attribute \"' +\n            field +\n            '\" when using Select. You must rename the attribute'\n        );\n      }\n\n      let order = this.orderByArray[1];\n      let type = this.orderByArray[2];\n\n      if (!type) {\n        type = \"string\";\n      }\n\n      _data = _data.sort((a, b) => {\n        let A = Utilities.getFromPath(a, field, undefined).value;\n        let B = Utilities.getFromPath(b, field, undefined).value;\n\n        if (typeof A === \"undefined\" || typeof B === \"undefined\") {\n          throw new Error(\n            'Cannot order by property \"' +\n              field +\n              '\" not all values have this property'\n          );\n        }\n        // For default order and numbers\n        if (type.includes(\"string\") || type.includes(\"number\")) {\n          if (order === \"asc\") {\n            return A > B ? 1 : A < B ? -1 : 0;\n          }\n          return A > B ? -1 : A < B ? 1 : 0;\n        } else if (type.includes(\"date\")) {\n          if (order === \"asc\") {\n            return new Date(A) - new Date(B);\n          }\n          return new Date(B) - new Date(A);\n        }\n      });\n      return _data;\n    },\n    /**\n     *\n     * @param {*} input\n     */\n    prepareInput(input) {\n      let cols = [];\n\n      input.forEach(item => {\n        let value = Array.isArray(item) ? item : item.split(\",\");\n\n        value = value.map(e => {\n          return e.trim();\n        });\n        cols = cols.concat(value);\n      });\n\n      cols.filter((elem, pos, arr) => {\n        return arr.indexOf(elem) === pos;\n      });\n\n      return cols;\n    },\n    async ArrayInsert(dataArray, options) {\n      let initial = 1;\n      const length = dataArray.length;\n      for (const element of dataArray) {\n        if (options && options.showProgress) {\n          console.log(`Inserting ${initial} of ${length}`);\n        }\n        try {\n          const a = await this.insert(element, options);\n          if (options && options.showProgress) {\n            console.log(`Element ${initial} inserted`);\n          }\n          initial++;\n        } catch (e) {\n          console.log(\n            `ERROR - Element ${initial} - ${JSON.stringify(\n              element\n            )} could not be inserted`\n          );\n          console.log(e);\n          initial++;\n        }\n      }\n    }\n  }\n});\n","import Fluent from \"./Fluent/Fluent\";\nimport Model from \"./Fluent/Model\";\nimport Interface from \"./Fluent/Interface\";\nimport MergeConnector from \"./Fluent/MergeConnector\";\nimport Event from \"./Fluent/Event\";\nexport { Model, Fluent, Interface, MergeConnector, Event };\n","import stampit from \"@stamp/it\";\nimport Model from \"./Model\";\nimport Collection from \"./Collection\";\n\nconst Fluent = stampit({\n  init() {\n    this.registerGlobalVariable();\n  },\n  properties: {},\n  methods: {\n    model(...args) {\n      this.registerModel(args);\n      return Model.compose(...args);\n    },\n    extend(...args) {\n      this.registerModel(args);\n      return Model.compose(...args);\n    },\n    compose(...args) {\n      this.registerModel(args);\n      return Model.compose(...args);\n    },\n    collect(args) {\n      return Collection(args);\n    },\n    registerGlobalVariable() {\n      if (typeof window !== \"undefined\" && window && !window._FLUENT_) {\n        window._FLUENT_ = {\n          connectors: {},\n          models: {}\n        };\n      }\n\n      if (global && !global._FLUENT_) {\n        global._FLUENT_ = {\n          connectors: {},\n          models: {}\n        };\n      }\n    },\n    registerModel(args) {\n      let name =\n        args && args[0] && args[0].properties && args[0].properties.name\n          ? args[0].properties.name\n          : undefined;\n\n      if (!name || name === \"baseModel\") {\n        return;\n      }\n\n      if (!(typeof name === \"string\")) {\n        throw new Error(\n          \"You must assign a name to your Model when using Fluent.compose\"\n        );\n      }\n\n      if (typeof window !== \"undefined\") {\n        window._FLUENT_.models[name] = true;\n        return;\n      }\n      global._FLUENT_.models[name] = true;\n    },\n    config({\n      REMOTE_CONNECTORS = undefined,\n      LOCAL_CONNECTORS = undefined,\n      MERGE_CONNECTORS = undefined\n    }) {\n      if (typeof window !== \"undefined\" && window) {\n        window._FLUENT_.connectors = {\n          local: LOCAL_CONNECTORS,\n          remote: REMOTE_CONNECTORS,\n          merge: MERGE_CONNECTORS\n        };\n      }\n\n      if (typeof global !== \"undefined\" && global) {\n        global._FLUENT_.connectors = {\n          local: LOCAL_CONNECTORS,\n          remote: REMOTE_CONNECTORS,\n          merge: MERGE_CONNECTORS\n        };\n      }\n    },\n    getConfig() {\n      if (typeof window !== \"undefined\" && window) {\n        return window._FLUENT_;\n      }\n\n      if (typeof global !== \"undefined\" && global) {\n        return global._FLUENT_;\n      }\n    },\n    registerConnector({ type, connector }) {\n      if (!type || !connector)\n        throw new Error(\"type and connector must be defined\");\n      if (![\"local\", \"remote\", \"merge\"].includes(type))\n        throw new Error(\"type must be either local, remote or merge\");\n\n      const ctx =\n        typeof window !== \"undefined\" && window\n          ? window._FLUENT_\n          : global._FLUENT_;\n      const connectors = ctx.connectors.hasOwnProperty(type)\n        ? ctx.connectors[type]\n        : [];\n\n      if (connectors.length === 0) {\n        connector = {\n          ...connector,\n          default: true\n        };\n\n        connectors.push(connector);\n        ctx.connectors[type] = connectors;\n        return;\n      }\n\n      if (connectors.find(o => o.name === connector.name)) {\n        console.log(\n          `A ${type} connector with the name '${connector.name}' already exists`\n        );\n        return;\n      }\n\n      connectors.push(connector);\n      ctx.connectors[type] = connectors;\n    },\n    deregisterConnector({ type, name }) {\n      if (!type || !name) throw new Error(\"type and name must be defined\");\n      if (![\"local\", \"remote\", \"merge\"].includes(type))\n        throw new Error(\"type must be either local, remote or merge\");\n\n      const ctx =\n        typeof window !== \"undefined\" && window\n          ? window._FLUENT_\n          : global._FLUENT_;\n      const connectors = ctx.connectors.hasOwnProperty(type)\n        ? ctx.connectors[type]\n        : [];\n\n      if (connectors.length === 0) return;\n\n      const filteredConnectors = connectors.filter(o => o.name !== name);\n      ctx.connectors[type] = filteredConnectors;\n    }\n  }\n})();\n\nexport default Fluent;\n","// More proper implementation would be\n// isDescriptor(obj) || isStamp(obj)\n// but there is no sense since stamp is function and function is object.\nmodule.exports = require('./object');\n","module.exports = function isPlainObject(value) {\n  return Boolean(value) && typeof value === 'object' &&\n    Object.getPrototypeOf(value) === Object.prototype;\n};\n","var compose = require('@stamp/compose');\n\nfunction createShortcut(propName) {\n  return function (arg) {\n    'use strict';\n    var param = {};\n    param[propName] = arg;\n    return this && this.compose ? this.compose(param) : compose(param);\n  };\n}\n\nvar properties = createShortcut('properties');\nvar staticProperties = createShortcut('staticProperties');\nvar configuration = createShortcut('configuration');\nvar deepProperties = createShortcut('deepProperties');\nvar staticDeepProperties = createShortcut('staticDeepProperties');\nvar deepConfiguration = createShortcut('deepConfiguration');\nvar initializers = createShortcut('initializers');\n\nmodule.exports = compose({\n  staticProperties: {\n    methods: createShortcut('methods'),\n\n    props: properties,\n    properties: properties,\n\n    statics: staticProperties,\n    staticProperties: staticProperties,\n\n    conf: configuration,\n    configuration: configuration,\n\n    deepProps: deepProperties,\n    deepProperties: deepProperties,\n\n    deepStatics: staticDeepProperties,\n    staticDeepProperties: staticDeepProperties,\n\n    deepConf: deepConfiguration,\n    deepConfiguration: deepConfiguration,\n\n    init: initializers,\n    initializers: initializers,\n\n    composers: createShortcut('composers'),\n\n    propertyDescriptors: createShortcut('propertyDescriptors'),\n\n    staticPropertyDescriptors: createShortcut('staticPropertyDescriptors')\n  }\n});\n","module.exports = function isString(arg) {\n  return typeof arg === 'string';\n};\n","var compose = require('@stamp/compose');\nvar privates = new WeakMap(); // WeakMap works in IE11, node 0.12\n\nvar makeProxyFunction = function (fn, name) {\n  function proxiedFn() {\n    'use strict';\n    var fields = privates.get(this); // jshint ignore:line\n    return fn.apply(fields, arguments);\n  }\n\n  Object.defineProperty(proxiedFn, 'name', {\n    value: name,\n    configurable: true\n  });\n\n  return proxiedFn;\n};\n\nfunction initializer(_, opts) {\n  var descriptor = opts.stamp.compose;\n  var privateMethodNames = descriptor.deepConfiguration.Privatize.methods;\n\n  var newObject = {}; // our proxy object\n  privates.set(newObject, this);\n\n  var methods = descriptor.methods;\n  if (!methods) {\n    return newObject;\n  }\n\n  var methodNames = Object.keys(methods);\n  for (var i = 0; i < methodNames.length; i++) {\n    var name = methodNames[i];\n    if (privateMethodNames.indexOf(name) < 0) { // not private, thus wrap\n      newObject[name] = makeProxyFunction(methods[name], name);\n    }\n  }\n\n  // Integration with @stamp/instanceof\n  if (typeof Symbol !== \"undefined\") {\n    var stampSymbol = Symbol.for('stamp');\n    if (methods[stampSymbol]) {\n      newObject[stampSymbol] = opts.stamp;\n    }\n  }\n\n  return newObject;\n}\n\nvar Privatize = compose({\n  initializers: [initializer],\n  deepConfiguration: {Privatize: {methods: []}},\n  staticProperties: {\n    privatizeMethods: function () {\n      'use strict';\n      var methodNames = [];\n      for (var i = 0; i < arguments.length; i++) {\n        var arg = arguments[i];\n        if (typeof arg === 'string' && arg.length > 0) {\n          methodNames.push(arg);\n        }\n      }\n      var Stamp = this && this.compose ? this : Privatize;\n      return Stamp.compose({\n        deepConfiguration: {\n          Privatize: {\n            methods: methodNames\n          }\n        }\n      });\n    }\n  },\n  composers: [function (opts) {\n    var initializers = opts.stamp.compose.initializers;\n    // Keep our initializer the last to return proxy object\n    initializers.splice(initializers.indexOf(initializer), 1);\n    initializers.push(initializer);\n  }]\n});\n\nmodule.exports = Privatize;\n","import Interface from \"./Interface\";\n\nexport default Interface.compose({\n  properties: {\n    localFx: undefined,\n    remoteFx: undefined\n  },\n  init(connectors) {\n    this.connectors = connectors;\n  },\n  methods: {\n    async get() {\n      this.prepareMergedFunctions();\n      const localData = await this.localFx.get();\n      const remoteData = await this.remoteFx.get();\n\n      return localData.concat(remoteData);\n    },\n    prepareMergedFunctions() {\n      this.localFx = this.connectors.local;\n      this.remoteFx = this.connectors.remote;\n\n      this.chainReference.forEach(chain => {\n        const method = chain.method;\n        const args = chain.args;\n\n        this.localFx = this.localFx[method](args);\n        this.remoteFx = this.remoteFx[method](args);\n      });\n    }\n  }\n});\n","let Event = (() => {\n  let CustomEvent = function(event, params) {\n    var evt = document.createEvent(\"CustomEvent\");\n\n    params = params || { bubbles: false, cancelable: false, detail: undefined };\n\n    evt.initCustomEvent(\n      event,\n      params.bubbles,\n      params.cancelable,\n      params.detail\n    );\n    return evt;\n  };\n\n  function emit({ name, data, text }) {\n    if (!name) throw new Error(\"Event must have a name.\");\n    if (!data) throw new Error(\"Event must have data.\");\n    if (!text) throw new Error(\"Event must have a text.\");\n    let customEvent = CustomEvent(name, {\n      detail: {\n        data: data,\n        text: text\n      }\n    });\n\n    window.dispatchEvent(customEvent);\n  }\n  function listen({ name, callback }) {\n    if (!name) throw new Error(\"Listener must have a name.\");\n    if (!callback) throw new Error(\"Listener must have a callback.\");\n    window.addEventListener(name, callback);\n  }\n\n  function remove({ name, callback }) {\n    if (!name) throw new Error(\"Listener must have a name to detach\");\n    if (!callback) throw new Error(\"Listener must have a callback to detach\");\n    window.removeEventListener(name, callback);\n  }\n  return Object.freeze({\n    emit,\n    listen,\n    remove\n  });\n})();\n\nexport default Event;\n"],"sourceRoot":""}