!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react-native")):"function"==typeof define&&define.amd?define("@goatlab/sockets-pusherrn",["react-native"],e):"object"==typeof exports?exports["@goatlab/sockets-pusherrn"]=e(require("react-native")):t["@goatlab/sockets-pusherrn"]=e(t["react-native"])}(this,function(t){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=17)}([function(t,e){t.exports=function(t){var e=typeof t;return Boolean(t)&&("object"===e||"function"===e)}},function(t,e){t.exports=function(t){return"function"==typeof t}},function(t,e,r){t.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=39)}([function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r,n,o,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=(r=function(t,e){try{return t()}catch(t){return e}},n=function(t,e,n){var o=e;e.includes(" as ")&&(o=(e=e.split(" as "))[0]);var i=r(function(){return Array.isArray(e)&&e[1].trim()},void 0),a=o.replace(/\[/g,".").replace(/]/g,"").split(".").filter(Boolean).map(function(t){return t.trim()});return{label:i||o,value:a.every(function(e){return!(e&&void 0===(t=t[e]))})?t:n}},o=function t(e,r,n,o,a){e&&(o=o||"",e.forEach(function(e){if(e){var s=e.columns&&Array.isArray(e.columns),u=e.rows&&Array.isArray(e.rows),c=e.components&&Array.isArray(e.components),l=!1,f=e.key?o?o+"."+e.key:e.key:"";a&&(e.parent=i({},a),delete e.parent.components,delete e.parent.componentMap,delete e.parent.columns,delete e.parent.rows),(n||e.tree||!s&&!u&&!c)&&(l=r(e,f));var h=function(){return e.key&&!["panel","table","well","columns","fieldset","tabs","form"].includes(e.type)&&(["datagrid","container","editgrid"].includes(e.type)||e.tree)?f:e.key&&"form"===e.type?f+".data":o};l||(s?e.columns.forEach(function(o){return t(o.components,r,n,h(),a?e:null)}):u?e.rows.forEach(function(o){Array.isArray(o)&&o.forEach(function(o){return t(o.components,r,n,h(),a?e:null)})}):c&&t(e.components,r,n,h(),a?e:null))}}))},Object.freeze({cloneDeep:function(t){return JSON.parse(JSON.stringify(t))},getLanguage:function(){return localStorage.getItem("defaultLanguage")||t.env.DEFAULT_LANGUAGE},setLanguage:function(t){localStorage.setItem("defaultLanguage",t)},get:r,orderBy:function(){},isEmpty:function(t){if(!t)return!0;if(Array.isArray(t)||"string"==typeof t)return!t.length;for(var e in t)if(hasOwnProperty.call(t,e))return!1;return!0},debounce:function(t,e){var r=void 0;return function(){var n=this,o=arguments;clearTimeout(r),r=setTimeout(function(){return t.apply(n,o)},e)}},getFromPath:n,deleteNulls:function t(e){var r=e,n=r instanceof Array;for(var o in r)null===r[o]?n?r.splice(o,1):delete r[o]:"object"===a(r[o])&&t(r[o]);return r},eachComponent:o,findComponents:function(t,e){var r=[];return o(t,function(t,o){(function(t,e){if("string"==typeof e)return t.key===e;var r=!1;return Object.keys(e).forEach(function(o){if(!(r=n(t,o).value===e[o]))return!1}),r})(t,e)&&(t.path=o,r.push(t))},!0),r},unixDate:function(){return Math.round(+new Date/1e3)}}));e.default=s}).call(this,r(20))},function(t,e,r){"use strict";var n=r(22),o=r(23),i=Object.prototype.toString;function a(t){return"[object Array]"===i.call(t)}function s(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===i.call(t)}function c(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),a(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}t.exports={isArray:a,isArrayBuffer:function(t){return"[object ArrayBuffer]"===i.call(t)},isBuffer:o,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:u,isStream:function(t){return s(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function t(){var e={};function r(r,n){"object"==typeof e[n]&&"object"==typeof r?e[n]=t(e[n],r):e[n]=r}for(var n=0,o=arguments.length;n<o;n++)c(arguments[n],r);return e},extend:function(t,e,r){return c(e,function(e,o){t[o]=r&&"function"==typeof e?n(e,r):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o=r(3),i=s(r(0)),a=s(r(4));function s(t){return t&&t.__esModule?t:{default:t}}function u(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}("next")})}}e.default=o.Fluent.model({properties:{name:"Configuration",config:{remote:{connector:"formioConfig",token:""}}},methods:{set:function(t){var e=this;return u(regeneratorRuntime.mark(function r(){var n=t.appConf,o=t.forceOnline;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o){t.next=2;break}return t.abrupt("return",e.setOffline({appConf:n}));case 2:return t.abrupt("return",e.setOnline({appConf:n}));case 3:case"end":return t.stop()}},r,e)}))()},setOffline:function(t){var e=this;return u(regeneratorRuntime.mark(function r(){var o,i,s,u=t.appConf;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.local().first();case 2:if(o=t.sent,i=e.getConfigDate(o),s=u.offlineFiles.lastUpdated.date,!(i>s)){t.next=7;break}return t.abrupt("return",o);case 7:if(!o){t.next=10;break}return t.next=10,e.local().clear({sure:!0});case 10:return t.abrupt("return",e.local().insert(n({},u.offlineFiles.Configuration.data,{fastUpdated:(0,a.default)().unix()})));case 11:case"end":return t.stop()}},r,e)}))()},setOnline:function(t){var e=this;return u(regeneratorRuntime.mark(function r(){var o,i;return t.appConf,regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.local().first();case 2:return o=t.sent,t.next=5,e.remote().first();case 5:if(i=t.sent,o||i){t.next=8;break}throw new Error("Application is not connected to internet, or the configuration file cannot be pulled");case 8:if(i){t.next=10;break}return t.abrupt("return",o);case 10:if(!o){t.next=13;break}return t.next=13,e.local().clear({sure:!0});case 13:return t.abrupt("return",e.local().insert(n({},i.data,{fastUpdated:(0,a.default)().unix()})));case 14:case"end":return t.stop()}},r,e)}))()},getConfigDate:function(t){return i.default.get(function(){return t.fastUpdated},0)}}}).compose(o.Fluent.privatize).privatizeMethods("setOnlineConfig","setOfflineConfig","getConfigDate","assingGlobalVariable","getRemote")()},function(t,e,r){t.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=13)}([function(t,e,r){var n=r(2),o=r(17),i=r(6),a=r(18),s=r(1),u=r(3),c=r(8),l=r(7),f=Array.prototype.concat;function h(){var t=f.apply([],arguments).filter(u);return 0===t.length?void 0:t}function p(t){if(!s(t))return t;var e=t.methods,r=t.properties,n=t.props,o=t.initializers,i=t.init,u=t.composers,f=t.deepProperties,p=t.deepProps,d=t.propertyDescriptors,v=t.staticProperties,y=t.statics,m=t.staticDeepProperties,g=t.deepStatics,b=t.configuration,w=t.conf,x=t.deepConfiguration,_=t.deepConf,k=s(n)||s(r)?l({},n,r):void 0,S=s(p)?c({},p):void 0;S=s(f)?c(S,f):S;var O=s(y)||s(v)?l({},y,v):void 0,E=s(g)?c({},g):void 0;E=s(m)?c(E,m):E;var P=t.staticPropertyDescriptors;a(t.name)&&(P=l({},P||{},{name:{value:t.name}}));var A=s(w)||s(b)?l({},w,b):void 0,C=s(_)?c({},_):void 0;C=s(x)?c(C,x):C;var T=h(i,o),R=h(u),M={};return e&&(M.methods=e),k&&(M.properties=k),T&&(M.initializers=T),R&&(M.composers=R),S&&(M.deepProperties=S),O&&(M.staticProperties=O),E&&(M.staticDeepProperties=E),d&&(M.propertyDescriptors=d),P&&(M.staticPropertyDescriptors=P),A&&(M.configuration=A),C&&(M.deepConfiguration=C),M}function d(){"use strict";for(var t=arguments.length,e=[],r=0;r<t;r+=1){var o=arguments[r];e.push(i(o)?o:p(o))}return n.apply(this||v,e)}var v=o.compose({staticProperties:{create:function(){return this.apply(this,arguments)},compose:d}}),y=o.compose.staticProperties;for(var m in y)d[m]=y[m].bind(v);d.compose=d.bind(),t.exports=d},function(t,e){t.exports=function(t){var e=typeof t;return Boolean(t)&&("object"===e||"function"===e)}},function(t,e,r){var n=r(5),o=r(3),i=r(1),a=r(6),s=r(15),u=r(7),c=r(8),l=Array.prototype.slice;function f(t,e){var r=function t(e){var r=t.compose||{},n={__proto__:r.methods};if(c(n,r.deepProperties),u(n,r.properties),Object.defineProperties(n,r.propertyDescriptors||{}),!r.initializers||0===r.initializers.length)return n;void 0===e&&(e={});for(var i=r.initializers,a=i.length,s=0;s<a;s+=1){var f=i[s];if(o(f)){var h=f.call(n,e,{instance:n,stamp:t,args:l.apply(arguments)});n=void 0===h?n:h}}return n};t.staticDeepProperties&&c(r,t.staticDeepProperties),t.staticProperties&&u(r,t.staticProperties),t.staticPropertyDescriptors&&Object.defineProperties(r,t.staticPropertyDescriptors);var n=o(r.compose)?r.compose:e;return u(r.compose=function(){"use strict";return n.apply(this,arguments)},t),r}function h(t,e,r){if(n(e)){var i=e.length,a=t[r]||[];t[r]=a;for(var s=0;s<i;s+=1){var u=e[s];o(u)&&a.indexOf(u)<0&&a.push(u)}}}function p(t,e,r,n){i(e[r])&&(i(t[r])||(t[r]={}),n(t[r],e[r]))}function d(t,e,r){p(t,e,r,c)}function v(t,e,r){p(t,e,r,u)}function y(t,e){var r=e&&e.compose||e;v(t,r,"methods"),v(t,r,"properties"),d(t,r,"deepProperties"),v(t,r,"propertyDescriptors"),v(t,r,"staticProperties"),d(t,r,"staticDeepProperties"),v(t,r,"staticPropertyDescriptors"),v(t,r,"configuration"),d(t,r,"deepConfiguration"),h(t,r.initializers,"initializers"),h(t,r.composers,"composers")}t.exports=function t(){"use strict";var e={},r=[];s(this)&&(y(e,this),r.push(this));for(var o=0;o<arguments.length;o++){var i=arguments[o];s(i)&&(y(e,i),r.push(i))}var u=f(e,t),c=e.composers;if(n(c)&&c.length>0)for(var l=0;l<c.length;l+=1){var h=(0,c[l])({stamp:u,composables:r});u=a(h)?h:u}return u}},function(t,e){t.exports=function(t){return"function"==typeof t}},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e){t.exports=Array.isArray},function(t,e,r){var n=r(3);t.exports=function(t){return n(t)&&n(t.compose)}},function(t,e){t.exports=Object.assign},function(t,e,r){var n=r(16),o=r(1),i=r(5);function a(t,e){if(void 0===e)return t;if(i(e))return(i(t)?t:[]).concat(e);if(!n(e))return e;for(var r=o(t)?t:{},s=Object.keys(e),u=0;u<s.length;u+=1){var c=s[u],l=e[c];if(void 0!==l){var f=r[c],h=n(f)||i(l)?f:{};r[c]=a(h,l)}}return r}t.exports=function(t){for(var e=1;e<arguments.length;e++)t=a(t,arguments[e]);return t}},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=i(r(0)),o=i(r(19));function i(t){return t&&t.__esModule?t:{default:t}}e.default=(0,n.default)({properties:{name:"baseModel",config:{remote:{path:void 0,token:void 0,pullForm:!1},local:{connector:"loki"},merge:{connector:"formio-loki"}}},methods:{getModelName:function(){return this.name},getFluentConfig:function(){var e=void 0;return"undefined"!=typeof window&&window&&window._FLUENT_?e=window._FLUENT_:t&&t._FLUENT_&&(e=t._FLUENT_),e},getConnector:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Array.isArray(t)?this.getConnectorFromArray(t,e,r):t instanceof Object?t:void 0},getConnectorFromArray:function(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(1===t.length)return t[0];if(this.config&&this.config[e]&&this.config[e].connector){var o=t.find(function(t){return t.name===r.config[e].connector});if(o instanceof Object)return o}if(n){var i=t.find(function(t){return t.name===n});if(i instanceof Object)return i}var a=t.find(function(t){return t.default});return a instanceof Object?a:void 0},remote:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.token,r=void 0===e?void 0:e,n=t.pullForm,o=void 0===n?void 0:n,i=t.connectorName,a=void 0===i?void 0:i,s=t.path,u=void 0===s?void 0:s,c=this.getFluentConfig(),l=c&&c.connectors&&c.connectors.remote;if(!l)throw new Error("No remote connector was defined. Please define it using Fluent.config()");var f=this.getConnector(l,"remote",a||!1);if(this.config.remote.token=r||this.config.remote.token,this.config.remote.path=u||this.config.remote.path,o&&(this.config.remote.pullForm=o||this.config.remote.pullForm),f)return f.connector({remoteConnection:this.config.remote,connector:f});throw new Error("No default remote connector found. Please assign one as your default in Fluent.config")},local:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).connectorName,e=void 0===t?void 0:t,r=this.getFluentConfig(),n=r&&r.connectors&&r.connectors.local;if(!n)throw new Error("No local connector was defined. Please define it using Fluent.config()");var o=this.getConnector(n,"local",e||!1);if(o)return o.connector({name:this.name,connector:o});throw new Error("No default local connector found. Please assign one as your default in Fluent.config")},merged:function(){var t=this.local(),e=this.remote(),r=this.getFluentConfig(),n=r&&r.connectors&&r.connectors.merge;if(!n)throw new Error("No merge connector was defined. Please define it using Fluent.config()");var o=this.getConnector(n,"merge");if(o)return o.connector({local:t,remote:e,name:this.name,connector:o});throw new Error("No default merge connector found. Please assign one as your default in Fluent.config")}}}).compose(o.default)}).call(this,r(4))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o=a(r(0)),i=a(r(11));function a(t){return t&&t.__esModule?t:{default:t}}function s(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}e.default=(0,o.default)({init:function(t){if(!Array.isArray(t))throw new Error("Collect method only accepts arrays of data");this.data=t},properties:{data:[]},methods:{get:function(){return this.data},all:function(){return this.get()},avg:function(t){return this.average(t)},average:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=[].concat(s(this.data)),r=e.reduce(function(e,r){var n=r;if(r instanceof Object){var o=i.default.getFromPath(r,t,void 0);void 0!==o&&o.value&&(n=o.value)}return e+n},0);try{return r/e.length}catch(t){throw new Error('Division between "'+r+'" and "'+e.length+'" is not valid.')}},chunkApply:function(t,e){var r,n=this;return(r=regeneratorRuntime.mark(function r(){var o,i,a,s;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==e){r.next=2;break}throw new Error("Callback function not defined.");case 2:return o=n.data.length,i=0,n.chunks(t),a=function(r,n){return r.then(function(){return Promise.all(n.map(function(t){return e(t)}))}).then(function(){i=i+t>o?o:i+t,console.log("Processed "+i+"/"+o+" elements...")})},console.log("Processed "+i+"/"+o+" elements..."),s=n.data.reduce(a,Promise.resolve()),r.abrupt("return",s);case 9:case"end":return r.stop()}},r,n)}),function(){var t=r.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});e(s)}("next")})})()},chunks:function(t){for(var e=[].concat(s(this.data)),r=[];e.length;)r.push(e.splice(0,t));return this.data=r,this},collapse:function(){var t=[].concat(s(this.data)),e=[];return t.forEach(function(t){Array.isArray(t)?t.forEach(function(t){e.push(t)}):e.push(t)}),this.data=e,this},unChunk:function(){return this.collapse()},combine:function(t){var e=[].concat(s(this.data)),r=void 0;return e.forEach(function(e,o){e instanceof Object?(r||(r=[]),r[o]=n({},e,{_value:t[o]})):(r||(r={}),r[e]=t[o])}),this.data=r,this},concat:function(t){return this.data=[].concat(s(this.data),s(t)),this},contains:function(){var t=void 0,e=void 0,r=void 0;return 1===arguments.length?(this.isFunction(arguments.length<=0?void 0:arguments[0])&&(r=arguments.length<=0?void 0:arguments[0]),t=arguments.length<=0?void 0:arguments[0]):(t=arguments.length<=1?void 0:arguments[1],e=arguments.length<=0?void 0:arguments[0]),[].concat(s(this.data)).some(function(n,o){if(r)return!!r(n,o);var a=n;if(n instanceof Object){var s=i.default.getFromPath(n,e,void 0);s.value&&(a=s.value)}return a===t})},duplicatesBy:function(t){var e=[].concat(s(this.data)),r=[];return e.reduce(function(e,n){var o=t.reduce(function(t,e){return t+i.default.getFromPath(n,e,"").value},"");return e.hasOwnProperty(o)?r.push(n):e[o]=!0,e},{}),this.data=r,this},count:function(){return this.data.length},isFunction:function(t){return t&&"[object Function]"==={}.toString.call(t)}}})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=(n=function(t,e){try{return t()}catch(t){return e}},Object.freeze({get:n,getFromPath:function(t,e,r){var o=e;e.includes(" as ")&&(o=(e=e.split(" as "))[0]);var i=n(function(){return Array.isArray(e)&&e[1].trim()},void 0),a=o.replace(/\[/g,".").replace(/]/g,"").split(".").filter(Boolean).map(function(t){return t.trim()});return{label:i||o,value:a.every(function(e){return!(e&&void 0===(t=t[e]))})?t:r}}}));e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=s(r(0)),i=s(r(11)),a=s(r(10));function s(t){return t&&t.__esModule?t:{default:t}}function u(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function c(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}("next")})}}e.default=(0,o.default)({init:function(t){var e=t.name,r=t.remoteConnection,n=t.connector;if(!e&&!r)throw new Error("Model must have a name or path");if(!n)throw new Error("Model must have a connector. Please register one using Fluent.config");this.name=e||this.name,this.remoteConnection=r||this.remoteConnection,this.connector=n||this.connector,this.chainReference=[],this.whereArray=[],this.orWhereArray=[],this.selectArray=[],this.orderByArray=[],this.limitNumber=void 0,this.offsetNumber=void 0,this.populate=[],this.chunk=null,this.pullSize=null,this.ownerId=void 0,this.paginator=void 0,this.rawQuery=void 0},properties:{operators:["=","<",">","<=",">=","<>","!=","in","nin","like","regexp","startsWith","endsWith","contains"]},methods:{get:function(){throw new Error("get() method not implemented")},all:function(){throw new Error("all() method not implemented")},find:function(t){throw new Error("find() method not implemented")},findOne:function(){throw new Error("findOne() method not implemented")},remove:function(){throw new Error("remove() method not implemented")},softDelete:function(){throw new Error("softDelete() method not implemented")},insert:function(){throw new Error("insert() method not implemented")},update:function(){throw new Error("update() method not implemented")},clear:function(){throw new Error("clear() method not implemented")},updateOrCreate:function(){throw new Error("updateOrCreate() method not implemented")},findAndRemove:function(){throw new Error("findAndRemove() method not implemented")},paginate:function(){throw new Error("paginate() method not implemented")},tableView:function(){throw new Error("tableView() method not implemented")},raw:function(){throw new Error("raw() method not implemented")},owner:function(t){return this.chainReference.push({method:"owner",args:t}),this.ownerId=t,this},own:function(t){return this.owner(t)},first:function(){var t=this;return c(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get();case 2:return r=e.sent,e.abrupt("return",i.default.get(function(){return r[0]},[]));case 4:case"end":return e.stop()}},e,t)}))()},collect:function(){var t=this;return c(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get();case 2:if(r=e.sent,Array.isArray(r)){e.next=5;break}throw new Error("Collect method only accepts arrays of data");case 5:return e.abrupt("return",(0,a.default)(r));case 6:case"end":return e.stop()}},e,t)}))()},select:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e=this.prepareInput(e),this.chainReference.push({method:"select",args:e}),this.selectArray=this.selectArray.concat(e).filter(function(t,e,r){return r.indexOf(t)===e}),this},jsApplySelect:function(t){var e=this,r=Array.isArray(t)?[].concat(u(t)):[t];return this.selectArray.length>0&&(r=r.map(function(t){var r={};return e.selectArray.forEach(function(e){var o=i.default.getFromPath(t,e,void 0),a=i.default.get(function(){return o.value},void 0);void 0!==a&&("object"===(void 0===a?"undefined":n(a))&&a.hasOwnProperty("data")&&a.data.hasOwnProperty("name")?r[o.label]=a.data.name:r[o.label]=a)}),r})),r},offset:function(t){return this.chainReference.push({method:"offset",args:t}),this.offsetNumber=t,this},skip:function(t){return this.offset(t)},where:function(){for(var t=this,e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.chainReference.push({method:"where",args:r}),this.whereArray=[],(r=Array.isArray(r[0])?r:[r]).forEach(function(e){if(3!==e.length)throw new Error('There where clouse is not properly formatted, expecting: ["attribute", "operator","value"] but got "'+JSON.stringify(e)+'" ');t.whereArray.push(e)}),this},andWhere:function(){for(var t=this,e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.chainReference.push({method:"andWhere",args:r}),(r=Array.isArray(r[0])?r:[r]).forEach(function(e){if(3!==e.length)throw new Error('There where clouse is not properly formatted, expecting: ["attribute", "operator","value"] but got "'+JSON.stringify(e)+'" ');t.whereArray.push(e)}),this},orWhere:function(){for(var t=this,e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.chainReference.push({method:"orWhere",args:r}),(r=Array.isArray(r[0])?r:[r]).forEach(function(e){if(3!==e.length)throw new Error('There orWhere clouse is not properly formatted, expecting: ["attribute", "operator","value"] but got "'+JSON.stringify(e)+'" ');t.orWhereArray.push(e)}),this},limit:function(t){return this.chainReference.push({method:"limit",args:t}),this.limitNumber=t,this},take:function(t){return this.limit(t)},pluck:function(t){var e=this;return c(regeneratorRuntime.mark(function r(){var n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e.chainReference.push({method:"pluck",args:t}),r.next=3,e.get();case 3:return n=(n=r.sent).map(function(e){var r=i.default.getFromPath(e,t,void 0);if(void 0!==r.value)return r.value}),r.abrupt("return",n);case 6:case"end":return r.stop()}},r,e)}))()},orderBy:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.chainReference.push({method:"orderBy",args:e}),this.orderByArray=e,this},jsApplyOrderBy:function(t){var e=[].concat(u(t));if(0===this.orderByArray.length)return e;var r=this.orderByArray[0];if(this.selectArray.length>0&&(r.includes(".")||r.includes("[")))throw new Error('Cannot orderBy nested attribute "'+r+'" when using Select. You must rename the attribute');var n=this.orderByArray[1],o=this.orderByArray[2];return o||(o="string"),e=e.sort(function(t,e){var a=i.default.getFromPath(t,r,void 0).value,s=i.default.getFromPath(e,r,void 0).value;if(void 0===a||void 0===s)throw new Error('Cannot order by property "'+r+'" not all values have this property');return o.includes("string")||o.includes("number")?"asc"===n?a>s?1:a<s?-1:0:a>s?-1:a<s?1:0:o.includes("date")?"asc"===n?new Date(a)-new Date(s):new Date(s)-new Date(a):void 0})},prepareInput:function(t){var e=[];return t.forEach(function(t){var r=Array.isArray(t)?t:t.split(",");r=r.map(function(t){return t.trim()}),e=e.concat(r)}),e.filter(function(t,e,r){return r.indexOf(t)===e}),e},ArrayInsert:function(t,e){var r=this;return c(regeneratorRuntime.mark(function n(){var o,i,a,s,u,c,l,f;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:o=1,i=t.length,a=!0,s=!1,u=void 0,n.prev=5,c=t[Symbol.iterator]();case 7:if(a=(l=c.next()).done){n.next=26;break}return f=l.value,e&&e.showProgress&&console.log("Inserting "+o+" of "+i),n.prev=10,n.next=13,r.insert(f,e);case 13:n.sent,e&&e.showProgress&&console.log("Element "+o+" inserted"),o++,n.next=23;break;case 18:n.prev=18,n.t0=n.catch(10),console.log("ERROR - Element "+o+" - "+JSON.stringify(f)+" could not be inserted"),console.log(n.t0),o++;case 23:a=!0,n.next=7;break;case 26:n.next=32;break;case 28:n.prev=28,n.t1=n.catch(5),s=!0,u=n.t1;case 32:n.prev=32,n.prev=33,!a&&c.return&&c.return();case 35:if(n.prev=35,!s){n.next=38;break}throw u;case 38:return n.finish(35);case 39:return n.finish(32);case 40:case"end":return n.stop()}},n,r,[[5,28,32,40],[10,18],[33,,35,39]])}))()}}})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Event=e.MergeConnector=e.Interface=e.Fluent=e.Model=void 0;var n=u(r(14)),o=u(r(9)),i=u(r(12)),a=u(r(20)),s=u(r(21));function u(t){return t&&t.__esModule?t:{default:t}}e.Model=o.default,e.Fluent=n.default,e.Interface=i.default,e.MergeConnector=a.default,e.Event=s.default},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o=s(r(0)),i=s(r(9)),a=s(r(10));function s(t){return t&&t.__esModule?t:{default:t}}function u(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var c=(0,o.default)({init:function(){this.registerGlobalVariable()},properties:{},methods:{model:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.registerModel(e),i.default.compose.apply(i.default,u(e))},extend:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.registerModel(e),i.default.compose.apply(i.default,u(e))},compose:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.registerModel(e),i.default.compose.apply(i.default,u(e))},collect:function(t){return(0,a.default)(t)},registerGlobalVariable:function(){"undefined"!=typeof window&&window&&!window._FLUENT_&&(window._FLUENT_={connectors:{},models:{}}),t&&!t._FLUENT_&&(t._FLUENT_={connectors:{},models:{}})},registerModel:function(e){var r=e&&e[0]&&e[0].properties&&e[0].properties.name?e[0].properties.name:void 0;if(r&&"baseModel"!==r){if("string"!=typeof r)throw new Error("You must assign a name to your Model when using Fluent.compose");"undefined"==typeof window?t._FLUENT_.models[r]=!0:window._FLUENT_.models[r]=!0}},config:function(e){var r=e.REMOTE_CONNECTORS,n=void 0===r?void 0:r,o=e.LOCAL_CONNECTORS,i=void 0===o?void 0:o,a=e.MERGE_CONNECTORS,s=void 0===a?void 0:a;"undefined"!=typeof window&&window&&(window._FLUENT_.connectors={local:i,remote:n,merge:s}),void 0!==t&&t&&(t._FLUENT_.connectors={local:i,remote:n,merge:s})},getConfig:function(){return"undefined"!=typeof window&&window?window._FLUENT_:void 0!==t&&t?t._FLUENT_:void 0},registerConnector:function(e){var r=e.type,o=e.connector;if(!r||!o)throw new Error("type and connector must be defined");if(!["local","remote","merge"].includes(r))throw new Error("type must be either local, remote or merge");var i="undefined"!=typeof window&&window?window._FLUENT_:t._FLUENT_,a=i.connectors.hasOwnProperty(r)?i.connectors[r]:[];if(0===a.length)return o=n({},o,{default:!0}),a.push(o),void(i.connectors[r]=a);a.find(function(t){return t.name===o.name})?console.log("A "+r+" connector with the name '"+o.name+"' already exists"):(a.push(o),i.connectors[r]=a)},deregisterConnector:function(e){var r=e.type,n=e.name;if(!r||!n)throw new Error("type and name must be defined");if(!["local","remote","merge"].includes(r))throw new Error("type must be either local, remote or merge");var o="undefined"!=typeof window&&window?window._FLUENT_:t._FLUENT_,i=o.connectors.hasOwnProperty(r)?o.connectors[r]:[];if(0!==i.length){var a=i.filter(function(t){return t.name!==n});o.connectors[r]=a}}}})();e.default=c}).call(this,r(4))},function(t,e,r){t.exports=r(1)},function(t,e){t.exports=function(t){return Boolean(t)&&"object"==typeof t&&Object.getPrototypeOf(t)===Object.prototype}},function(t,e,r){var n=r(2);function o(t){return function(e){"use strict";var r={};return r[t]=e,this&&this.compose?this.compose(r):n(r)}}var i=o("properties"),a=o("staticProperties"),s=o("configuration"),u=o("deepProperties"),c=o("staticDeepProperties"),l=o("deepConfiguration"),f=o("initializers");t.exports=n({staticProperties:{methods:o("methods"),props:i,properties:i,statics:a,staticProperties:a,conf:s,configuration:s,deepProps:u,deepProperties:u,deepStatics:c,staticDeepProperties:c,deepConf:l,deepConfiguration:l,init:f,initializers:f,composers:o("composers"),propertyDescriptors:o("propertyDescriptors"),staticPropertyDescriptors:o("staticPropertyDescriptors")}})},function(t,e){t.exports=function(t){return"string"==typeof t}},function(t,e,r){var n=r(2),o=new WeakMap,i=function(t,e){function r(){"use strict";var e=o.get(this);return t.apply(e,arguments)}return Object.defineProperty(r,"name",{value:e,configurable:!0}),r};function a(t,e){var r=e.stamp.compose,n=r.deepConfiguration.Privatize.methods,a={};o.set(a,this);var s=r.methods;if(!s)return a;for(var u=Object.keys(s),c=0;c<u.length;c++){var l=u[c];n.indexOf(l)<0&&(a[l]=i(s[l],l))}if("undefined"!=typeof Symbol){var f=Symbol.for("stamp");s[f]&&(a[f]=e.stamp)}return a}var s=n({initializers:[a],deepConfiguration:{Privatize:{methods:[]}},staticProperties:{privatizeMethods:function(){"use strict";for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];"string"==typeof r&&r.length>0&&t.push(r)}return(this&&this.compose?this:s).compose({deepConfiguration:{Privatize:{methods:t}}})}},composers:[function(t){var e=t.stamp.compose.initializers;e.splice(e.indexOf(a),1),e.push(a)}]});t.exports=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=r(12),i=(n=o)&&n.__esModule?n:{default:n};e.default=i.default.compose({properties:{localFx:void 0,remoteFx:void 0},init:function(t){this.connectors=t},methods:{get:function(){var t,e=this;return(t=regeneratorRuntime.mark(function t(){var r,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.prepareMergedFunctions(),t.next=3,e.localFx.get();case 3:return r=t.sent,t.next=6,e.remoteFx.get();case 6:return n=t.sent,t.abrupt("return",r.concat(n));case 8:case"end":return t.stop()}},t,e)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}("next")})})()},prepareMergedFunctions:function(){var t=this;this.localFx=this.connectors.local,this.remoteFx=this.connectors.remote,this.chainReference.forEach(function(e){var r=e.method,n=e.args;t.localFx=t.localFx[r](n),t.remoteFx=t.remoteFx[r](n)})}}})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.freeze({emit:function(t){var e=t.name,r=t.data,n=t.text;if(!e)throw new Error("Event must have a name.");if(!r)throw new Error("Event must have data.");if(!n)throw new Error("Event must have a text.");var o=function(t,e){var r=document.createEvent("CustomEvent");return e=e||{bubbles:!1,cancelable:!1,detail:void 0},r.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),r}(e,{detail:{data:r,text:n}});window.dispatchEvent(o)},listen:function(t){var e=t.name,r=t.callback;if(!e)throw new Error("Listener must have a name.");if(!r)throw new Error("Listener must have a callback.");window.addEventListener(e,r)},remove:function(t){var e=t.name,r=t.callback;if(!e)throw new Error("Listener must have a name to detach");if(!r)throw new Error("Listener must have a callback to detach");window.removeEventListener(e,r)}});e.default=n}])},function(t,e,r){t.exports=function(){"use strict";var t="millisecond",e="second",r="minute",n="hour",o="day",i="week",a="month",s="quarter",u="year",c=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,l=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=function(t,e,r){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(r)+t},h={s:f,z:function(t){var e=-t.utcOffset(),r=Math.abs(e),n=Math.floor(r/60),o=r%60;return(e<=0?"+":"-")+f(n,2,"0")+":"+f(o,2,"0")},m:function(t,e){var r=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(r,a),o=e-n<0,i=t.clone().add(r+(o?-1:1),a);return Number(-(r+(e-n)/(o?n-i:i-n))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(c){return{M:a,y:u,w:i,d:o,h:n,m:r,s:e,ms:t,Q:s}[c]||String(c||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},p={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},d="en",v={};v[d]=p;var y=function(t){return t instanceof w},m=function(t,e,r){var n;if(!t)return null;if("string"==typeof t)v[t]&&(n=t),e&&(v[t]=e,n=t);else{var o=t.name;v[o]=t,n=o}return r||(d=n),n},g=function(t,e,r){if(y(t))return t.clone();var n=e?"string"==typeof e?{format:e,pl:r}:e:{};return n.date=t,new w(n)},b=h;b.l=m,b.i=y,b.w=function(t,e){return g(t,{locale:e.$L,utc:e.$u})};var w=function(){function f(t){this.$L=this.$L||m(t.locale,null,!0)||d,this.parse(t)}var h=f.prototype;return h.parse=function(t){this.$d=function(t){var e=t.date,r=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(c);if(n)return r?new Date(Date.UTC(n[1],n[2]-1,n[3]||1,n[4]||0,n[5]||0,n[6]||0,n[7]||0)):new Date(n[1],n[2]-1,n[3]||1,n[4]||0,n[5]||0,n[6]||0,n[7]||0)}return new Date(e)}(t),this.init()},h.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},h.$utils=function(){return b},h.isValid=function(){return!("Invalid Date"===this.$d.toString())},h.isSame=function(t,e){var r=g(t);return this.startOf(e)<=r&&r<=this.endOf(e)},h.isAfter=function(t,e){return g(t)<this.startOf(e)},h.isBefore=function(t,e){return this.endOf(e)<g(t)},h.$g=function(t,e,r){return b.u(t)?this[e]:this.set(r,t)},h.year=function(t){return this.$g(t,"$y",u)},h.month=function(t){return this.$g(t,"$M",a)},h.day=function(t){return this.$g(t,"$W",o)},h.date=function(t){return this.$g(t,"$D","date")},h.hour=function(t){return this.$g(t,"$H",n)},h.minute=function(t){return this.$g(t,"$m",r)},h.second=function(t){return this.$g(t,"$s",e)},h.millisecond=function(e){return this.$g(e,"$ms",t)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(t,s){var c=this,l=!!b.u(s)||s,f=b.p(t),h=function(t,e){var r=b.w(c.$u?Date.UTC(c.$y,e,t):new Date(c.$y,e,t),c);return l?r:r.endOf(o)},p=function(t,e){return b.w(c.toDate()[t].apply(c.toDate(),(l?[0,0,0,0]:[23,59,59,999]).slice(e)),c)},d=this.$W,v=this.$M,y=this.$D,m="set"+(this.$u?"UTC":"");switch(f){case u:return l?h(1,0):h(31,11);case a:return l?h(1,v):h(0,v+1);case i:var g=this.$locale().weekStart||0,w=(d<g?d+7:d)-g;return h(l?y-w:y+(6-w),v);case o:case"date":return p(m+"Hours",0);case n:return p(m+"Minutes",1);case r:return p(m+"Seconds",2);case e:return p(m+"Milliseconds",3);default:return this.clone()}},h.endOf=function(t){return this.startOf(t,!1)},h.$set=function(i,s){var c,l=b.p(i),f="set"+(this.$u?"UTC":""),h=(c={},c[o]=f+"Date",c.date=f+"Date",c[a]=f+"Month",c[u]=f+"FullYear",c[n]=f+"Hours",c[r]=f+"Minutes",c[e]=f+"Seconds",c[t]=f+"Milliseconds",c)[l],p=l===o?this.$D+(s-this.$W):s;if(l===a||l===u){var d=this.clone().set("date",1);d.$d[h](p),d.init(),this.$d=d.set("date",Math.min(this.$D,d.daysInMonth())).toDate()}else h&&this.$d[h](p);return this.init(),this},h.set=function(t,e){return this.clone().$set(t,e)},h.get=function(t){return this[b.p(t)]()},h.add=function(t,s){var c,l=this;t=Number(t);var f=b.p(s),h=function(e){var r=g(l);return b.w(r.date(r.date()+Math.round(e*t)),l)};if(f===a)return this.set(a,this.$M+t);if(f===u)return this.set(u,this.$y+t);if(f===o)return h(1);if(f===i)return h(7);var p=(c={},c[r]=6e4,c[n]=36e5,c[e]=1e3,c)[f]||1,d=this.valueOf()+t*p;return b.w(d,this)},h.subtract=function(t,e){return this.add(-1*t,e)},h.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var r=t||"YYYY-MM-DDTHH:mm:ssZ",n=b.z(this),o=this.$locale(),i=this.$H,a=this.$m,s=this.$M,u=o.weekdays,c=o.months,f=function(t,n,o,i){return t&&(t[n]||t(e,r))||o[n].substr(0,i)},h=function(t){return b.s(i%12||12,t,"0")},p=o.meridiem||function(t,e,r){var n=t<12?"AM":"PM";return r?n.toLowerCase():n},d={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:b.s(s+1,2,"0"),MMM:f(o.monthsShort,s,c,3),MMMM:c[s]||c(this,r),D:this.$D,DD:b.s(this.$D,2,"0"),d:String(this.$W),dd:f(o.weekdaysMin,this.$W,u,2),ddd:f(o.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(i),HH:b.s(i,2,"0"),h:h(1),hh:h(2),a:p(i,a,!0),A:p(i,a,!1),m:String(a),mm:b.s(a,2,"0"),s:String(this.$s),ss:b.s(this.$s,2,"0"),SSS:b.s(this.$ms,3,"0"),Z:n};return r.replace(l,function(t,e){return e||d[t]||n.replace(":","")})},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(t,c,l){var f,h=b.p(c),p=g(t),d=6e4*(p.utcOffset()-this.utcOffset()),v=this-p,y=b.m(this,p);return y=(f={},f[u]=y/12,f[a]=y,f[s]=y/3,f[i]=(v-d)/6048e5,f[o]=(v-d)/864e5,f[n]=v/36e5,f[r]=v/6e4,f[e]=v/1e3,f)[h]||v,l?y:b.a(y)},h.daysInMonth=function(){return this.endOf(a).$D},h.$locale=function(){return v[this.$L]},h.locale=function(t,e){if(!t)return this.$L;var r=this.clone();return r.$L=m(t,e,!0),r},h.clone=function(){return b.w(this.toDate(),this)},h.toDate=function(){return new Date(this.$d)},h.toJSON=function(){return this.toISOString()},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},f}();return g.prototype=w.prototype,g.extend=function(t,e){return t(e,w,g),g},g.locale=m,g.isDayjs=y,g.unix=function(t){return g(1e3*t)},g.en=v[d],g.Ls=v,g}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=u(r(4)),o=u(r(0)),i=r(3),a=u(r(41)),s=u(r(2));function u(t){return t&&t.__esModule?t:{default:t}}function c(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}("next")})}}e.default=i.Fluent.model({properties:{name:"Form",config:{remote:{path:"form",pullForm:!0}}},methods:{getModel:function(t){var e=t.path;return i.Fluent.model({properties:{config:{remote:{path:e}}}})()},find:function(t){var e=t.path;return this.local().where("data.path","=",e).first()},cardFormattedForms:function(t){var e=this;return c(regeneratorRuntime.mark(function r(){var o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.local().get();case 2:return o={cards:o=(o=(o=(o=r.sent).filter(function(t){return t.data.tags.indexOf("visible")>-1})).sort(function(t,e){return(t=t.data.title)>(e=e.data.title)?1:t<e?-1:0})).map(function(e){return{title:e.data.title,tags:e.data.tags,customIcon:!0,icon:"create"===t?"statics/customSVG/startSurvey.svg":"statics/customSVG/collectedData.svg",subtitle:"Last updated: "+(0,n.default)(e.data.modified).fromNow(),actions:[{text:"create"===t?"Start":"View data",target:"form",view:t,path:e.data.path}]}})},r.abrupt("return",o);case 8:case"end":return r.stop()}},r,e)}))()},FormLabels:function(t){var e=this;return c(regeneratorRuntime.mark(function r(){var n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.local().get();case 2:return n=r.sent,r.abrupt("return",a.default.get(n,t));case 4:case"end":return r.stop()}},r,e)}))()},getUpdatedAt:function(t){return o.default.get(function(){return t[0].fastUpdated},0)},setOffline:function(t){var e=this;return c(regeneratorRuntime.mark(function r(){var i,a,u,l,f,h=t.appConf;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.local().get();case 2:return i=t.sent,a=e.getUpdatedAt(i),t.next=6,s.default.local().first();case 6:if(u=t.sent,l=o.default.get(function(){return h.offlineFiles.Forms}),!(u.fastUpdated<a)){t.next=10;break}return t.abrupt("return",i);case 10:if(!i){t.next=13;break}return t.next=13,e.local().clear({sure:!0});case 13:return f=(0,n.default)().unix(),l.forEach(function(){var t=c(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.local().insert({data:r,fastUpdated:f});case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()),t.abrupt("return",l);case 16:case"end":return t.stop()}},r,e)}))()},setOnline:function(){var t=this;return c(regeneratorRuntime.mark(function e(){var r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.remote().limit(9999999).get();case 2:if(r=e.sent,i=(0,n.default)().unix(),!r||o.default.isEmpty(r)){e.next=11;break}return e.next=7,t.local().clear({sure:!0});case 7:return a=r.reduce(function(t,e){var r={data:e,fastUpdated:i};return t.push(r),t},[]),e.next=10,t.local().insert(a,{showProgress:!0});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e,t)}))()},set:function(t){var e=this;return c(regeneratorRuntime.mark(function r(){var n=t.appConf,o=t.forceOnline;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o){t.next=2;break}return t.abrupt("return",e.setOffline({appConf:n}));case 2:return t.abrupt("return",e.setOnline());case 3:case"end":return t.stop()}},r,e)}))()},getFastTableTemplates:function(t){var e=this;return c(regeneratorRuntime.mark(function r(){var n,i,a=t.path;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.local().where("data.path","=",a).first();case 2:return n=t.sent,i=[],o.default.eachComponent(n.data.components,function(t){t.properties&&t.properties.FAST_TABLE_TEMPLATE&&i.push({key:t.key,template:t.properties.FAST_TABLE_TEMPLATE})}),t.abrupt("return",i);case 6:case"end":return t.stop()}},r,e)}))()}}})()},function(t,e,r){"use strict";function n(t,e){return t.then(function(t){return[null,t]}).catch(function(t){return e&&Object.assign(t,e),[t,void 0]})}r.r(e),r.d(e,"to",function(){return n}),e.default=n},function(t,e,r){t.exports=r(44)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(r(9)),o=i(r(7));function i(t){return t&&t.__esModule?t:{default:t}}var a=function(){var t="undefined"==typeof window||!window||!window.navigator||window.navigator.onLine;return Object.freeze({isOnline:function(){return new Promise(function(t,e){o.default.get("https://yesno.wtf/api").then(function(e){t(!0)}).catch(function(e){t(!1)})})},initEventListeners:function(){n.default.listen({name:"online",callback:function(){console.log("App is now online"),t||(t=!0,n.default.emit({name:"GOAT:CONNECTION:ONLINE",data:t,text:"Application is now online"}))}}),n.default.listen({name:"offline",callback:function(){console.log("App is now offline"),t&&(t=!1,n.default.emit({name:"GOAT:CONNECTION:OFFLINE",data:t,text:"Application is now offline"}))}})}})}();e.default=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.freeze({emit:function(t){var e=t.name,r=t.data,n=t.text;if(!e)throw new Error("Event must have a name.");if(!r)throw new Error("Event must have data.");if(!n)throw new Error("Event must have a text.");var o=function(t,e){var r=document.createEvent("CustomEvent");return e=e||{bubbles:!1,cancelable:!1,detail:void 0},r.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),r}(e,{detail:{data:r,text:n}});window.dispatchEvent(o)},listen:function(t){var e=t.name,r=t.callback;if(!e)throw new Error("Listener must have a name.");if(!r)throw new Error("Listener must have a callback.");window.addEventListener(e,r)},remove:function(t){var e=t.name,r=t.callback;if(!e)throw new Error("Listener must have a name to detach");if(!r)throw new Error("Listener must have a callback to detach");window.removeEventListener(e,r)}});e.default=n},function(t,e,r){var n=r(28),o=r(63),i=r(30),a=r(64),s=r(13),u=r(18),c=r(32),l=r(31),f=Array.prototype.concat;function h(){var t=f.apply([],arguments).filter(u);return 0===t.length?void 0:t}function p(t){if(!s(t))return t;var e=t.methods,r=t.properties,n=t.props,o=t.initializers,i=t.init,u=t.composers,f=t.deepProperties,p=t.deepProps,d=t.propertyDescriptors,v=t.staticProperties,y=t.statics,m=t.staticDeepProperties,g=t.deepStatics,b=t.configuration,w=t.conf,x=t.deepConfiguration,_=t.deepConf,k=s(n)||s(r)?l({},n,r):void 0,S=s(p)?c({},p):void 0;S=s(f)?c(S,f):S;var O=s(y)||s(v)?l({},y,v):void 0,E=s(g)?c({},g):void 0;E=s(m)?c(E,m):E;var P=t.staticPropertyDescriptors;a(t.name)&&(P=l({},P||{},{name:{value:t.name}}));var A=s(w)||s(b)?l({},w,b):void 0,C=s(_)?c({},_):void 0;C=s(x)?c(C,x):C;var T=h(i,o),R=h(u),M={};return e&&(M.methods=e),k&&(M.properties=k),T&&(M.initializers=T),R&&(M.composers=R),S&&(M.deepProperties=S),O&&(M.staticProperties=O),E&&(M.staticDeepProperties=E),d&&(M.propertyDescriptors=d),P&&(M.staticPropertyDescriptors=P),A&&(M.configuration=A),C&&(M.deepConfiguration=C),M}function d(){"use strict";for(var t=arguments.length,e=[],r=0;r<t;r+=1){var o=arguments[r];e.push(i(o)?o:p(o))}return n.apply(this||v,e)}var v=o.compose({staticProperties:{create:function(){return this.apply(this,arguments)},compose:d}}),y=o.compose.staticProperties;for(var m in y)d[m]=y[m].bind(v);d.compose=d.bind(),t.exports=d},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=p(r(12)),a=p(r(4)),s=p(r(0)),u=p(r(5)),c=r(3),l=p(r(77)),f=p(r(6)),h=p(r(7));function p(t){return t&&t.__esModule?t:{default:t}}function d(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function v(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}("next")})}}e.default=c.Fluent.model({properties:{name:"Submission",config:{remote:void 0}},init:function(t){var e=t.path;this.path=e,this.config={remote:{path:e}}},methods:{form:function(){var t=this;return v(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},e,t)}))()},getUnsync:function(){var t=this;return v(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.local().where("sync","=",!1).andWhere("draft","=",!1).andWhere("syncError","=",!1).owner((0,i.default)().connector().email()).orderBy("created","desc","date").get();case 2:return e.t0=function(t){return!t.queuedForSync},r=e.sent.filter(e.t0),e.abrupt("return",r);case 5:case"end":return e.stop()}},e,t)}))()},showView:function(t){var e=this;return v(regeneratorRuntime.mark(function r(){var c,p,v,y,m,g,b,w,x,_,k,S,O,E,P,A,C,T,R=t.from,M=t.limit,j=t.owner,I=t.paginator,D=t.filter,N=t.url,L=t.timeFilter,U=t.companyFilter,F=t.classifier;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.default.getTableView(e.path);case 2:if(c=t.sent,p=c.map(function(t){return"data."+t.path+" as "+t.path}),c=c.map(function(t){return t.path}),p=[].concat(d(p),["_id","created","modified","syncError","draft","sync"]),v=[],"remote"!==R){t.next=39;break}if(y=void 0,m=void 0,I){t.next=27;break}if(L){t.next=19;break}return t.next=13,(0,f.default)(e.remote().select(p).limit(M).get());case 13:g=t.sent,b=o(g,2),y=b[0],m=b[1],t.next=25;break;case 19:return t.next=21,(0,f.default)(e.remote().where("modified",">=",(0,a.default)().subtract(1,L).toISOString()).select(p).limit(M).get());case 21:w=t.sent,x=o(w,2),y=x[0],m=x[1];case 25:t.next=35;break;case 27:return _={tableCols:c,paginator:I,filter:D,classifiedBy:j},F&&(_=n({},_,{timeFilter:(0,a.default)().subtract(1,L).toISOString(),extraFilters:"all"!==U?{"data.company":U}:{}})),t.next=31,h.default.get(N.base+"/tableSearch/"+N.form,{params:_});case 31:k=t.sent,S=k.data.docs.map(function(t){var e={},r=!0,n=!1,o=void 0;try{for(var i,a=p[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var u=i.value,c=s.default.getFromPath(t,u,"");e[c.label]=c.value}}catch(t){n=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(n)throw o}}return e}),I={page:k.data.page,rowsPerPage:k.data.limit,rowsNumber:k.data.totalDocs},m={paginator:I,data:S};case 35:y&&(console.log("error",y),v=[]),v=!y&&m,t.next=52;break;case 39:return t.next=41,e.local().select(p).limit(M).owner(j).get();case 41:return v=t.sent,t.next=44,(0,f.default)(e.remote().select(p).limit(M).owner((0,i.default)().connector().user()._id).get());case 44:O=t.sent,E=o(O,2),P=E[0],A=E[1],P&&console.log("error",P),C=P?[]:A,v=[].concat(d(v),d(C));case 52:return t.next=54,u.default.getFastTableTemplates({path:e.path});case 54:return T=t.sent,I?(v.data=v.data.map(function(t){var e={_id:t._id,status:!1===t.sync?"offline":"online",draft:t.draft,HumanUpdated:Number.isInteger(t.modified)?a.default.unix(t.modified).fromNow():(0,a.default)(t.modified).fromNow(),syncError:!!t.syncError&&t.syncError,updated:Number.isInteger(t.modified)?t.modified:(0,a.default)(t.modified).unix()};return T.forEach(function(e){var r=new Function("value","data",e.template);try{t[e.key]=r(t[e.key],t)}catch(t){console.log("There is an error in one of your calculations",t)}}),n({},e,t)}),v.data=v.data.sort(function(t,e){return(t=new Date(t.updated))>(e=new Date(e.updated))?-1:t<e?1:0})):v=(v=v.map(function(t){var e={_id:t._id,status:!1===t.sync?"offline":"online",draft:t.draft,HumanUpdated:Number.isInteger(t.modified)?a.default.unix(t.modified).fromNow():(0,a.default)(t.modified).fromNow(),syncError:!!t.syncError&&t.syncError,updated:Number.isInteger(t.modified)?t.modified:(0,a.default)(t.modified).unix()};return T.forEach(function(e){var r=new Function("value","data",e.template);try{t[e.key]=r(t[e.key],t)}catch(t){console.log("There is an error in one of your calculations",t)}}),n({},e,t)})).sort(function(t,e){return(t=new Date(t.updated))>(e=new Date(e.updated))?-1:t<e?1:0}),t.abrupt("return",v);case 57:case"end":return t.stop()}},r,e)}))()},getParallelParticipants:function(t,e){var r=this;return v(regeneratorRuntime.mark(function n(){var o,i,a,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.local().where("_id","=",t).first();case 2:return o=n.sent,i=(i=s.default.get(function(){return o.data.parallelSurvey}))&&"[object Object]"!==i?JSON.parse(i).groupId:void 0,n.next=7,r.local().where("path","=",e).get();case 7:return a=n.sent,u=a.filter(function(t){var e=s.default.get(function(){return t.data.parallelSurvey});try{return(e=e&&"[object Object]"!==e?JSON.parse(e).groupId:void 0)&&e===i}catch(t){return!1}}),n.abrupt("return",u.map(function(t){return JSON.parse(t.data.parallelSurvey)}));case 10:case"end":return n.stop()}},n,r)}))()},getParallelSurvey:function(t){var e=s.default.get(function(){return t.parallelSurvey});return e=e&&"[object Object]"!==e?JSON.parse(e):void 0},setParallelSurvey:function(t){return JSON.stringify(t)},getGroups:function(t){var e=this;return v(regeneratorRuntime.mark(function r(){var n,o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.local().where("path","=",t).get();case 2:return n=r.sent,n=t?n.filter(function(e){return e.data.formio.formId===t}):n,o=(o=n.map(function(t){return e.local().getParallelSurvey(t)?{groupId:e.local().getParallelSurvey(t).groupId,groupName:e.local().getParallelSurvey(t).groupName}:void 0})).filter(function(t){return void 0!==t}),r.abrupt("return",s.default.uniqBy(o,"groupId"));case 7:case"end":return r.stop()}},r,e)}))()},getGroup:function(t){var e=this;return v(regeneratorRuntime.mark(function r(){var n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.local().getGroups();case 2:return n=(n=r.sent).filter(function(e){return e.groupId===t}),r.abrupt("return",n[0]);case 5:case"end":return r.stop()}},r,e)}))()},removeFromGroup:function(t){var e=this;return v(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,e)}))()},assingToGroup:function(t,e){var r=this;return v(regeneratorRuntime.mark(function o(){var i,a,s,u;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,r.local().getGroup(e[0]);case 2:return i=o.sent,o.next=5,r.local().get(t);case 5:return a=o.sent,s=r.local().getParallelSurvey(a),u=n({},s,{groupId:i.groupId,groupName:i.groupName}),a.data.data.parallelSurvey=r.local().setParallelSurvey(u),o.next=11,r.local().update(a);case 11:case"end":return o.stop()}},o,r)}))()}}})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(r(10)),o=a(r(65)),i=a(r(67));function a(t){return t&&t.__esModule?t:{default:t}}e.default=(0,n.default)({init:function(t){var e=t.baseUrl;this.baseUrl=e},properties:{default:"Formio",baseUrl:void 0,connectors:{Formio:o.default,Keycloak:i.default}},methods:{getConnector:function(t){return this.connectors[t]({baseUrl:this.baseUrl})},connector:function(t){return t?this.getConnector(t):this.getConnector(this.default)}}})},function(t,e){t.exports=function(t){var e=typeof t;return Boolean(t)&&("object"===e||"function"===e)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o=u(r(0)),i=r(3),a=u(r(2)),s=u(r(4));function u(t){return t&&t.__esModule?t:{default:t}}function c(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}("next")})}}e.default=i.Fluent.model({properties:{name:"Translation",config:{remote:{path:"translations"}}},methods:{getFormTranslations:function(){var t=this;return c(regeneratorRuntime.mark(function e(){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.next=3,t.local().first();case 3:return n=e.sent,n=o.default.get(function(){return n.data},{}),Object.keys(n).forEach(function(t){"type"!==t&&(r[t]=n[t])}),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,t)}))()},supportedLanguages:function(){var t=this;return c(regeneratorRuntime.mark(function e(){var r,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.local().get();case 2:if(0!==(r=e.sent).length){e.next=5;break}return e.abrupt("return",[]);case 5:return n=t.getIsoLanguages(),i=[],r=o.default.get(function(){return r[0].data},[]),Object.keys(r).forEach(function(t){var e=n.find(function(e){return e.code===t});e&&i.push(e)}),i=i.sort(function(t,e){return(t=t.label)>(e=e.label)?1:t<e?-1:0}),e.abrupt("return",i);case 11:case"end":return e.stop()}},e,t)}))()},getIsoLanguages:function(){return r(42)},getLocalizationDate:function(t){return o.default.get(function(){return t[0].fastUpdated},0)},set:function(t){var e=this;return c(regeneratorRuntime.mark(function r(){var n=t.appConf,o=t.forceOnline;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o){t.next=2;break}return t.abrupt("return",e.setOffline({appConf:n}));case 2:return t.abrupt("return",e.setOnline({appConf:n}));case 3:case"end":return t.stop()}},r,e)}))()},setOffline:function(t){var e=this;return c(regeneratorRuntime.mark(function r(){var n,o,i,s,u,c=t.appConf;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.local().get();case 2:return n=t.sent,o=e.getLocalizationDate(n),t.next=6,a.default.local().first();case 6:if(i=t.sent,s=c.offlineFiles.Translations,!(i.fastUpdated<o)){t.next=10;break}return t.abrupt("return",n[0].data);case 10:return t.next=12,e.process(s);case 12:return u=t.sent,t.abrupt("return",e.storeTranslations(u));case 14:case"end":return t.stop()}},r,e)}))()},setOnline:function(t){var e=this;return c(regeneratorRuntime.mark(function r(){var n,o;return t.appConf,regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.local().get();case 2:return n=t.sent,t.next=5,e.remote().limit(5e4).get();case 5:if(!(o=t.sent)){t.next=14;break}return t.next=9,e.process(o);case 9:return o=t.sent,t.next=12,e.storeTranslations(o);case 12:return o=t.sent,t.abrupt("return",o);case 14:if(!(n.length>0&&n[0].data)){t.next=16;break}return t.abrupt("return",n[0].data);case 16:case"end":return t.stop()}},r,e)}))()},storeTranslations:function(t){var e=this;return c(regeneratorRuntime.mark(function r(){var n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e.local().clear({sure:!0}),r.next=3,e.local().insert({data:t,fastUpdated:(0,s.default)().unix()});case 3:return n=r.sent,r.abrupt("return",n.data);case 5:case"end":return r.stop()}},r,e)}))()},process:function(t){var e=this;return c(regeneratorRuntime.mark(function r(){var n,o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.getIsoLanguages(),(o={}).label={},n.forEach(function(e){t.forEach(function(t){t.data&&t.data[e.code]&&(o[e.code]||(o[e.code]={}),o[e.code][t.data.label]=t.data[e.code]),t.data&&t.data.label&&(o.label[t.data.label]=t.data.label)})}),r.abrupt("return",o);case 5:case"end":return r.stop()}},r,e)}))()},updateLabel:function(t,e){var r=this;return c(regeneratorRuntime.mark(function o(){var i,a,s,u;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,r.remote().where("data.label","=",t).first();case 2:return i=o.sent,a=i._id,s=n({},i.data,e),o.next=7,r.remote().update({_id:a,data:s});case 7:return u=o.sent,o.abrupt("return",u);case 9:case"end":return o.stop()}},o,r)}))()},createTranslation:function(t){var e=this;return c(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",e.remote().insert({data:{en:t,label:t}}));case 1:case"end":return r.stop()}},r,e)}))()}}})()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i=r(3),a=l(r(0)),s=l(r(2)),u=l(r(6)),c=l(r(4));function l(t){return t&&t.__esModule?t:{default:t}}function f(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}("next")})}}e.default=i.Fluent.model({properties:{name:"Pages",config:{remote:{path:"fast-app-pages",token:void 0}}},methods:{set:function(t){var e=this;return f(regeneratorRuntime.mark(function r(){var n=t.appConf,o=t.forceOnline;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o){t.next=2;break}return t.abrupt("return",e.setOffline({appConf:n}));case 2:return t.abrupt("return",e.setOnline());case 3:case"end":return t.stop()}},r,e)}))()},setOffline:function(t){var e=this;return f(regeneratorRuntime.mark(function r(){var n,i,u,l,f,h,p=t.appConf;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.local().first();case 2:return n=t.sent,i=e.getUpdatedDate(n),t.next=6,s.default.local().first();case 6:if(u=t.sent,!(l=a.default.get(function(){return p.offlineFiles.Pages[0].data})).hasOwnProperty("pages")){for(f=[],h=0;h<p.offlineFiles.Pages.length;h+=1)f.push(p.offlineFiles.Pages[h].data);l={pages:f,submit:!0}}if(!(u.fastUpdated<i)){t.next=11;break}return t.abrupt("return",a.default.get(function(){return n.data}));case 11:if(!n){t.next=14;break}return t.next=14,e.local().clear({sure:!0});case 14:return t.abrupt("return",e.local().insert(o({},l,{fastUpdated:(0,c.default)().unix()})));case 15:case"end":return t.stop()}},r,e)}))()},setOnline:function(){var t=this;return f(regeneratorRuntime.mark(function e(){var r,i,s,l,f,h,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.local().first();case 2:return r=e.sent,e.next=5,(0,u.default)(t.remote().limit(9999999).get());case 5:if(i=e.sent,s=n(i,2),l=s[0],f=s[1],!l){e.next=12;break}throw console.log(l),new Error("Could not get remote Pages.");case 12:if(f[0].data.hasOwnProperty("pages"))f=a.default.get(function(){return f[0].data});else{for(h=[],p=0;p<f.length;p+=1)h.push(f[p].data);f={pages:h,submit:!0}}if(!f||a.default.isEmpty(f)){e.next=18;break}if(!r){e.next=17;break}return e.next=17,t.local().clear({sure:!0});case 17:return e.abrupt("return",t.local().insert(o({},f,{fastUpdated:(0,c.default)().unix()})));case 18:return e.abrupt("return",r);case 19:case"end":return e.stop()}},e,t)}))()},getUpdatedDate:function(t){return a.default.get(function(){return t.fastUpdated},0)}}})()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=f(r(7)),i=f(r(2)),a=f(r(0)),s=r(3),u=f(r(8)),c=f(r(6)),l=f(r(5));function f(t){return t&&t.__esModule?t:{default:t}}function h(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}("next")})}}e.default=s.Fluent.model({properties:{name:"User",config:{remote:{path:"user",token:void 0}}},methods:{storeLocally:function(t){var e=this;return h(regeneratorRuntime.mark(function r(){var o,i,s,f,h;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.local().where("data.email","=",t.data.email).first();case 2:if(o=r.sent,t=a.default.deleteNulls(t),!o||a.default.isEmpty(o)){r.next=7;break}throw new Error("The user email is already taken");case 7:if(!u.default.isOnline()){r.next=17;break}return r.next=10,(0,c.default)(l.default.getModel({path:"userregister"}).remote().insert(t));case 10:if(i=r.sent,s=n(i,2),f=s[0],h=s[1],!f){r.next=16;break}throw new Error("The user email is already taken");case 16:return r.abrupt("return",e.local().insert(h));case 17:return r.abrupt("return",e.local().insert(t));case 18:case"end":return r.stop()}},r,e)}))()},updateUser:function(t){var e=this;return h(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.local().where("data.email","=",t.data.email).pluck("_id");case 2:return r.sent.forEach(function(){var t=h(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.local().remove(r);case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()),t=a.default.deleteNulls(t),r.abrupt("return",e.local().insert(t));case 6:case"end":return r.stop()}},r,e)}))()},login:function(t){var e=this;return h(regeneratorRuntime.mark(function r(){var n,a=t.credentials,s=t.role;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.default.local().first();case 2:return n=t.sent.APP_URL,n+="admin"===s?"/admin/login":"/user/login",t.abrupt("return",o.default.post(n,{data:a}));case 5:case"end":return t.stop()}},r,e)}))()}}})()},function(t,e,r){"use strict";(function(e){var n=r(1),o=r(46),i={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s={adapter:function(){var t;return"undefined"!=typeof XMLHttpRequest?t=r(24):void 0!==e&&(t=r(24)),t}(),transformRequest:[function(t,e){return o(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t)?t:n.isArrayBufferView(t)?t.buffer:n.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):n.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],function(t){s.headers[t]={}}),n.forEach(["post","put","patch"],function(t){s.headers[t]=n.merge(i)}),t.exports=s}).call(this,r(20))},function(t,e){t.exports=function(t){return"function"==typeof t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=r(3),i=c(r(0)),a=c(r(8)),s=c(r(6)),u=c(r(4));function c(t){return t&&t.__esModule?t:{default:t}}function l(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}("next")})}}e.default=o.Fluent.model({properties:{name:"Role",config:{remote:{path:"access",token:void 0,pullForm:!0}}},methods:{set:function(t){var e=this;return l(regeneratorRuntime.mark(function r(){var n=t.url,o=t.appConf,i=t.forceOnline;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i){t.next=2;break}return t.abrupt("return",e.setOffline({appConf:o}));case 2:return t.abrupt("return",e.setOnline({url:n}));case 3:case"end":return t.stop()}},r,e)}))()},getRolesDate:function(t){return i.default.get(function(){return t.fastUpdated},0)},setOnline:function(){var t=this;return l(regeneratorRuntime.mark(function e(){var r,o,c,l,f,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0,o=void 0,e.next=4,t.local().first();case 4:return c=e.sent,e.next=7,a.default.isOnline();case 7:if(!e.sent){e.next=17;break}return e.next=11,(0,s.default)(t.remote().first());case 11:if(l=e.sent,f=n(l,2),r=f[0],o=f[1],!r){e.next=17;break}throw new Error(r);case 17:if(!(o=i.default.get(function(){return o.roles}))){e.next=27;break}if(!c){e.next=22;break}return e.next=22,t.local().clear();case 22:return o.fastUpdated=(0,u.default)().unix(),e.next=25,t.local().insert(o);case 25:return h=e.sent,e.abrupt("return",h);case 27:return e.abrupt("return",c);case 28:case"end":return e.stop()}},e,t)}))()},setOffline:function(t){var e=this;return l(regeneratorRuntime.mark(function r(){var n,o,i,a=t.appConf;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.local().first();case 2:if(n=t.sent,o=e.getRolesDate(n),!(a.offlineFiles.lastUpdated.date>o)&&n){t.next=13;break}if(!n){t.next=9;break}return t.next=9,e.local().clear();case 9:return t.next=11,e.local().insert(a.offlineFiles.Roles);case 11:return i=t.sent,t.abrupt("return",i);case 13:return t.abrupt("return",n);case 14:case"end":return t.stop()}},r,e)}))()}}})()},function(t,e){var r,n,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!l){var t=s(h);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new d(t,e)),1!==c.length||l||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=c(r(16)),i=c(r(12)),a=c(r(11)),s=c(r(78)),u=c(r(38));function c(t){return t&&t.__esModule?t:{default:t}}function l(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}("next")})}}var f=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return n(t,null,[{key:"now",value:function(){var e=l(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.syncUsers();case 2:if(!(0,i.default)().connector().check()){e.next=5;break}return e.next=5,t.syncSubmission(r);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"syncSubmission",value:function(){var e=l(regeneratorRuntime.mark(function e(){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.areUsersSynced();case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,(0,a.default)().getUnsync();case 7:return r=e.sent,e.next=10,u.default.isSyncing();case 10:n=e.sent,r.length>0&&!n&&s.default.send(r);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getUsersToSync",value:function(){var t=l(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.default.local().where("sync","=",!1).andWhere("queuedForSync","=",!1).andWhere("syncError","=",!1).get();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"areUsersSynced",value:function(){var e=l(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getUsersToSync();case 2:return r=e.sent,e.abrupt("return",!!r&&Array.isArray(r)&&0===r.length);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"syncUsers",value:function(){var e=l(regeneratorRuntime.mark(function e(){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getUsersToSync();case 2:return r=e.sent,e.next=5,u.default.isSyncing();case 5:n=e.sent,Array.isArray(r)&&r.length>0&&!n&&s.default.syncUsers(r);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}();e.default=f},function(t,e,r){"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}},function(t,e){function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */t.exports=function(t){return null!=t&&(r(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,r){"use strict";var n=r(1),o=r(47),i=r(49),a=r(50),s=r(51),u=r(25),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||r(52);t.exports=function(t){return new Promise(function(e,l){var f=t.data,h=t.headers;n.isFormData(f)&&delete h["Content-Type"];var p=new XMLHttpRequest,d="onreadystatechange",v=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in p||s(t.url)||(p=new window.XDomainRequest,d="onload",v=!0,p.onprogress=function(){},p.ontimeout=function(){}),t.auth){var y=t.auth.username||"",m=t.auth.password||"";h.Authorization="Basic "+c(y+":"+m)}if(p.open(t.method.toUpperCase(),i(t.url,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,p[d]=function(){if(p&&(4===p.readyState||v)&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null,n={data:t.responseType&&"text"!==t.responseType?p.response:p.responseText,status:1223===p.status?204:p.status,statusText:1223===p.status?"No Content":p.statusText,headers:r,config:t,request:p};o(e,l,n),p=null}},p.onerror=function(){l(u("Network Error",t,null,p)),p=null},p.ontimeout=function(){l(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",p)),p=null},n.isStandardBrowserEnv()){var g=r(53),b=(t.withCredentials||s(t.url))&&t.xsrfCookieName?g.read(t.xsrfCookieName):void 0;b&&(h[t.xsrfHeaderName]=b)}if("setRequestHeader"in p&&n.forEach(h,function(t,e){void 0===f&&"content-type"===e.toLowerCase()?delete h[e]:p.setRequestHeader(e,t)}),t.withCredentials&&(p.withCredentials=!0),t.responseType)try{p.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){p&&(p.abort(),l(t),p=null)}),void 0===f&&(f=null),p.send(f)})}},function(t,e,r){"use strict";var n=r(48);t.exports=function(t,e,r,o,i){var a=new Error(t);return n(a,e,r,o,i)}},function(t,e,r){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,r){"use strict";function n(t){this.message=t}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,t.exports=n},function(t,e,r){var n=r(29),o=r(18),i=r(13),a=r(30),s=r(61),u=r(31),c=r(32),l=Array.prototype.slice;function f(t,e){var r=function t(e){var r=t.compose||{},n={__proto__:r.methods};if(c(n,r.deepProperties),u(n,r.properties),Object.defineProperties(n,r.propertyDescriptors||{}),!r.initializers||0===r.initializers.length)return n;void 0===e&&(e={});for(var i=r.initializers,a=i.length,s=0;s<a;s+=1){var f=i[s];if(o(f)){var h=f.call(n,e,{instance:n,stamp:t,args:l.apply(arguments)});n=void 0===h?n:h}}return n};t.staticDeepProperties&&c(r,t.staticDeepProperties),t.staticProperties&&u(r,t.staticProperties),t.staticPropertyDescriptors&&Object.defineProperties(r,t.staticPropertyDescriptors);var n=o(r.compose)?r.compose:e;return u(r.compose=function(){"use strict";return n.apply(this,arguments)},t),r}function h(t,e,r){if(n(e)){var i=e.length,a=t[r]||[];t[r]=a;for(var s=0;s<i;s+=1){var u=e[s];o(u)&&a.indexOf(u)<0&&a.push(u)}}}function p(t,e,r,n){i(e[r])&&(i(t[r])||(t[r]={}),n(t[r],e[r]))}function d(t,e,r){p(t,e,r,c)}function v(t,e,r){p(t,e,r,u)}function y(t,e){var r=e&&e.compose||e;v(t,r,"methods"),v(t,r,"properties"),d(t,r,"deepProperties"),v(t,r,"propertyDescriptors"),v(t,r,"staticProperties"),d(t,r,"staticDeepProperties"),v(t,r,"staticPropertyDescriptors"),v(t,r,"configuration"),d(t,r,"deepConfiguration"),h(t,r.initializers,"initializers"),h(t,r.composers,"composers")}t.exports=function t(){"use strict";var e={},r=[];s(this)&&(y(e,this),r.push(this));for(var o=0;o<arguments.length;o++){var i=arguments[o];s(i)&&(y(e,i),r.push(i))}var u=f(e,t),c=e.composers;if(n(c)&&c.length>0)for(var l=0;l<c.length;l+=1){var h=(0,c[l])({stamp:u,composables:r});u=a(h)?h:u}return u}},function(t,e){t.exports=Array.isArray},function(t,e,r){var n=r(18);t.exports=function(t){return n(t)&&n(t.compose)}},function(t,e){t.exports=Object.assign},function(t,e,r){var n=r(62),o=r(13),i=r(29);function a(t,e){if(void 0===e)return t;if(i(e))return(i(t)?t:[]).concat(e);if(!n(e))return e;for(var r=o(t)?t:{},s=Object.keys(e),u=0;u<s.length;u+=1){var c=s[u],l=e[c];if(void 0!==l){var f=r[c],h=n(f)||i(l)?f:{};r[c]=a(h,l)}}return r}t.exports=function(t){for(var e=1;e<arguments.length;e++)t=a(t,arguments[e]);return t}},function(t,e,r){var n,o,i,a,s;n=r(66),o=r(34).utf8,i=r(23),a=r(34).bin,(s=function(t,e){t.constructor==String?t=e&&"binary"===e.encoding?a.stringToBytes(t):o.stringToBytes(t):i(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||(t=t.toString());for(var r=n.bytesToWords(t),u=8*t.length,c=1732584193,l=-271733879,f=-1732584194,h=271733878,p=0;p<r.length;p++)r[p]=16711935&(r[p]<<8|r[p]>>>24)|4278255360&(r[p]<<24|r[p]>>>8);r[u>>>5]|=128<<u%32,r[14+(u+64>>>9<<4)]=u;var d=s._ff,v=s._gg,y=s._hh,m=s._ii;for(p=0;p<r.length;p+=16){var g=c,b=l,w=f,x=h;c=d(c,l,f,h,r[p+0],7,-680876936),h=d(h,c,l,f,r[p+1],12,-389564586),f=d(f,h,c,l,r[p+2],17,606105819),l=d(l,f,h,c,r[p+3],22,-1044525330),c=d(c,l,f,h,r[p+4],7,-176418897),h=d(h,c,l,f,r[p+5],12,1200080426),f=d(f,h,c,l,r[p+6],17,-1473231341),l=d(l,f,h,c,r[p+7],22,-45705983),c=d(c,l,f,h,r[p+8],7,1770035416),h=d(h,c,l,f,r[p+9],12,-1958414417),f=d(f,h,c,l,r[p+10],17,-42063),l=d(l,f,h,c,r[p+11],22,-1990404162),c=d(c,l,f,h,r[p+12],7,1804603682),h=d(h,c,l,f,r[p+13],12,-40341101),f=d(f,h,c,l,r[p+14],17,-1502002290),c=v(c,l=d(l,f,h,c,r[p+15],22,1236535329),f,h,r[p+1],5,-165796510),h=v(h,c,l,f,r[p+6],9,-1069501632),f=v(f,h,c,l,r[p+11],14,643717713),l=v(l,f,h,c,r[p+0],20,-373897302),c=v(c,l,f,h,r[p+5],5,-701558691),h=v(h,c,l,f,r[p+10],9,38016083),f=v(f,h,c,l,r[p+15],14,-660478335),l=v(l,f,h,c,r[p+4],20,-405537848),c=v(c,l,f,h,r[p+9],5,568446438),h=v(h,c,l,f,r[p+14],9,-1019803690),f=v(f,h,c,l,r[p+3],14,-187363961),l=v(l,f,h,c,r[p+8],20,1163531501),c=v(c,l,f,h,r[p+13],5,-1444681467),h=v(h,c,l,f,r[p+2],9,-51403784),f=v(f,h,c,l,r[p+7],14,1735328473),c=y(c,l=v(l,f,h,c,r[p+12],20,-1926607734),f,h,r[p+5],4,-378558),h=y(h,c,l,f,r[p+8],11,-2022574463),f=y(f,h,c,l,r[p+11],16,1839030562),l=y(l,f,h,c,r[p+14],23,-35309556),c=y(c,l,f,h,r[p+1],4,-1530992060),h=y(h,c,l,f,r[p+4],11,1272893353),f=y(f,h,c,l,r[p+7],16,-155497632),l=y(l,f,h,c,r[p+10],23,-1094730640),c=y(c,l,f,h,r[p+13],4,681279174),h=y(h,c,l,f,r[p+0],11,-358537222),f=y(f,h,c,l,r[p+3],16,-722521979),l=y(l,f,h,c,r[p+6],23,76029189),c=y(c,l,f,h,r[p+9],4,-640364487),h=y(h,c,l,f,r[p+12],11,-421815835),f=y(f,h,c,l,r[p+15],16,530742520),c=m(c,l=y(l,f,h,c,r[p+2],23,-995338651),f,h,r[p+0],6,-198630844),h=m(h,c,l,f,r[p+7],10,1126891415),f=m(f,h,c,l,r[p+14],15,-1416354905),l=m(l,f,h,c,r[p+5],21,-57434055),c=m(c,l,f,h,r[p+12],6,1700485571),h=m(h,c,l,f,r[p+3],10,-1894986606),f=m(f,h,c,l,r[p+10],15,-1051523),l=m(l,f,h,c,r[p+1],21,-2054922799),c=m(c,l,f,h,r[p+8],6,1873313359),h=m(h,c,l,f,r[p+15],10,-30611744),f=m(f,h,c,l,r[p+6],15,-1560198380),l=m(l,f,h,c,r[p+13],21,1309151649),c=m(c,l,f,h,r[p+4],6,-145523070),h=m(h,c,l,f,r[p+11],10,-1120210379),f=m(f,h,c,l,r[p+2],15,718787259),l=m(l,f,h,c,r[p+9],21,-343485551),c=c+g>>>0,l=l+b>>>0,f=f+w>>>0,h=h+x>>>0}return n.endian([c,l,f,h])})._ff=function(t,e,r,n,o,i,a){var s=t+(e&r|~e&n)+(o>>>0)+a;return(s<<i|s>>>32-i)+e},s._gg=function(t,e,r,n,o,i,a){var s=t+(e&n|r&~n)+(o>>>0)+a;return(s<<i|s>>>32-i)+e},s._hh=function(t,e,r,n,o,i,a){var s=t+(e^r^n)+(o>>>0)+a;return(s<<i|s>>>32-i)+e},s._ii=function(t,e,r,n,o,i,a){var s=t+(r^(e|~n))+(o>>>0)+a;return(s<<i|s>>>32-i)+e},s._blocksize=16,s._digestsize=16,t.exports=function(t,e){if(null==t)throw new Error("Illegal argument "+t);var r=n.wordsToBytes(s(t,e));return e&&e.asBytes?r:e&&e.asString?a.bytesToString(r):n.bytesToHex(r)}},function(t,e){var r={utf8:{stringToBytes:function(t){return r.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(r.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],r=0;r<t.length;r++)e.push(255&t.charCodeAt(r));return e},bytesToString:function(t){for(var e=[],r=0;r<t.length;r++)e.push(String.fromCharCode(t[r]));return e.join("")}}};t.exports=r},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=r(10),i=(n=o)&&n.__esModule?n:{default:n};e.default=(0,i.default)({methods:{user:function(){throw new Error("user() method not implemented in this connector")},email:function(){throw new Error("email() method not implemented in this connector")},hasRoleIn:function(){throw new Error("hasRoleIn() method not implemented in this connector")},hasRoleIdIn:function(){throw new Error("hasRoleIdIn() method not implemented in this connector")},hasRole:function(){throw new Error("hasRole() method not implemented in this connector")},check:function(){throw new Error("check() method not implemented in this connector")},logOut:function(){throw new Error("logOut() method not implemented in this connector")},attempt:function(t,e,r){throw new Error("authenticate() method not implemented in this connector")}}})},function(t,e,r){"use strict";var n=Object.prototype.hasOwnProperty,o=Array.isArray,i=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),a=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)void 0!==t[n]&&(r[n]=t[n]);return r};t.exports={arrayToObject:a,assign:function(t,e){return Object.keys(e).reduce(function(t,r){return t[r]=e[r],t},t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],n=0;n<e.length;++n)for(var i=e[n],a=i.obj[i.prop],s=Object.keys(a),u=0;u<s.length;++u){var c=s[u],l=a[c];"object"==typeof l&&null!==l&&-1===r.indexOf(l)&&(e.push({obj:a,prop:c}),r.push(l))}return function(t){for(;t.length>1;){var e=t.pop(),r=e.obj[e.prop];if(o(r)){for(var n=[],i=0;i<r.length;++i)void 0!==r[i]&&n.push(r[i]);e.obj[e.prop]=n}}}(e),t},decode:function(t,e,r){var n=t.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(t){return n}},encode:function(t,e,r){if(0===t.length)return t;var n="string"==typeof t?t:String(t);if("iso-8859-1"===r)return escape(n).replace(/%u[0-9a-f]{4}/gi,function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"});for(var o="",a=0;a<n.length;++a){var s=n.charCodeAt(a);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122?o+=n.charAt(a):s<128?o+=i[s]:s<2048?o+=i[192|s>>6]+i[128|63&s]:s<55296||s>=57344?o+=i[224|s>>12]+i[128|s>>6&63]+i[128|63&s]:(a+=1,s=65536+((1023&s)<<10|1023&n.charCodeAt(a)),o+=i[240|s>>18]+i[128|s>>12&63]+i[128|s>>6&63]+i[128|63&s])}return o},isBuffer:function(t){return!(!t||"object"!=typeof t||!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t)))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},merge:function t(e,r,i){if(!r)return e;if("object"!=typeof r){if(o(e))e.push(r);else{if(!e||"object"!=typeof e)return[e,r];(i&&(i.plainObjects||i.allowPrototypes)||!n.call(Object.prototype,r))&&(e[r]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(r);var s=e;return o(e)&&!o(r)&&(s=a(e,i)),o(e)&&o(r)?(r.forEach(function(r,o){if(n.call(e,o)){var a=e[o];a&&"object"==typeof a&&r&&"object"==typeof r?e[o]=t(a,r,i):e.push(r)}else e[o]=r}),e):Object.keys(r).reduce(function(e,o){var a=r[o];return n.call(e,o)?e[o]=t(e[o],a,i):e[o]=a,e},s)}}},function(t,e,r){"use strict";var n=String.prototype.replace,o=/%20/g;t.exports={default:"RFC3986",formatters:{RFC1738:function(t){return n.call(t,o,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}("next")})}}var i=!1,a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return n(t,null,[{key:"isSyncing",value:function(){var t=o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i);case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"startSync",value:function(){var t=o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=!0,t.abrupt("return",this.isSyncing());case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"stopSync",value:function(){var t=o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=!1,t.abrupt("return",this.isSyncing());case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),t}();e.default=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Utilities=e.Sync=e.Hash=e.Role=e.OfflinePlugin=e.User=e.Import=e.Translation=e.Configuration=e.ParallelSurvey=e.Submission=e.Pages=e.Form=e.Auth=e.Connection=e.GOAT=e.Event=e.Sockets=e.Moment=e.Schedule=void 0;var n=k(r(40)),o=k(r(12)),i=k(r(8)),a=k(r(9)),s=k(r(83)),u=k(r(84)),c=k(r(5)),l=k(r(15)),f=k(r(11)),h=k(r(88)),p=k(r(2)),d=k(r(14)),v=k(r(92)),y=k(r(16)),m=k(r(93)),g=k(r(19)),b=k(r(95)),w=k(r(21)),x=k(r(96)),_=k(r(0));function k(t){return t&&t.__esModule?t:{default:t}}e.Schedule=x.default,e.Moment=s.default,e.Sockets=u.default,e.Event=a.default,e.GOAT=n.default,e.Connection=i.default,e.Auth=o.default,e.Form=c.default,e.Pages=l.default,e.Submission=f.default,e.ParallelSurvey=h.default,e.Configuration=p.default,e.Translation=d.default,e.Import=v.default,e.User=y.default,e.OfflinePlugin=m.default,e.Role=g.default,e.Hash=b.default,e.Sync=w.default,e.Utilities=_.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=v(r(2)),o=v(r(5)),i=v(r(14)),a=v(r(15)),s=v(r(43)),u=v(r(19)),c=r(3),l=v(r(79)),f=v(r(80)),h=v(r(81)),p=v(r(0)),d=v(r(82));function v(t){return t&&t.__esModule?t:{default:t}}function y(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}("next")})}}var m,g,b,w,x=(m=y(regeneratorRuntime.mark(function t(e){var r,v,y,m,g=e.appConf,b=e.forceOnline;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(d.default.interceptAxios(),b){t.next=5;break}return t.next=4,c.Fluent.config({REMOTE_CONNECTORS:[{default:!0,name:"formio",baseUrl:g.fluentFormioBaseUrl,connector:f.default},{name:"formioConfig",baseUrl:g.appConfigUrl,connector:f.default},{name:"loopback",baseUrl:g.loopbackBaseUrl,connector:h.default}],LOCAL_CONNECTORS:[{name:"loki",connector:l.default,default:!0}],MERGE_CONNECTORS:[{default:!0,name:"formioLoki",connector:c.MergeConnector}]});case 4:s.default.set(3e3);case 5:return t.next=7,n.default.set({appConf:g,forceOnline:b});case 7:return r=t.sent,v=[u.default.set({appConf:g,forceOnline:b}),a.default.set({appConf:g,forceOnline:b}),o.default.set({appConf:g,forceOnline:b}),i.default.set({appConf:g,forceOnline:b})],t.next=11,Promise.all(v);case 11:return y=t.sent,m=y[3],t.abrupt("return",{config:r,translations:m,defaultLanguage:p.default.getLanguage()});case 14:case"end":return t.stop()}},t,this)})),b=function(t){return m.apply(this,arguments)},g=y(regeneratorRuntime.mark(function t(e){var r=e.appConf;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",b({appConf:r,forceOnline:!0}));case 1:case"end":return t.stop()}},t,this)})),w=function(t){return g.apply(this,arguments)},Object.freeze({start:b,sync:w}));e.default=x},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=u(r(0)),a=u(r(14)),s=u(r(15));function u(t){return t&&t.__esModule?t:{default:t}}function c(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}("next")})}}var l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return o(t,null,[{key:"get",value:function(){var t=c(regeneratorRuntime.mark(function t(e,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.handle(e,r));case 1:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}()},{key:"handle",value:function(){var t=c(regeneratorRuntime.mark(function t(e,r){var n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fetchAllLabels(e,r);case 2:return n=t.sent,t.next=5,a.default.local().first();case 5:return o=t.sent.data,Object.keys(o).forEach(function(t){var e=o[t];Object.keys(e).forEach(function(r){n[r]&&e[r]&&""!==e[r]&&(n[r].translations[t]=e[r])})}),t.abrupt("return",n);case 8:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}()},{key:"fetchAllLabels",value:function(){var t=c(regeneratorRuntime.mark(function t(e,r){var n,o,i,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={},e=e.map(function(t){return t.data}),o=this.getFormLabels(e),t.next=5,this.getAppLabels(r);case 5:return i=t.sent,n=this.mergeLabels(o,i),t.t0=this,t.next=10,s.default.local().first();case 10:return t.t1=t.sent,t.next=13,t.t0.getPagesLabels.call(t.t0,t.t1);case 13:return a=t.sent,n=this.mergeLabels(n,a),t.abrupt("return",n);case 16:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}()},{key:"createOrAdd",value:function(t){var e=t.labels,r=t.label,o=n({},e);return r?(o[r.text]?r.location&&Array.isArray(r.location)?r.location.forEach(function(t){o[r.text].location.push({text:r.text,template:r.template,type:t.type,picture:t.picture})}):o[r.text].location.push(r):r.location&&Array.isArray(r.location)?(o[r.text]={location:[],template:r.template,translations:{}},r.location.forEach(function(t){o[r.text].location.push({text:r.text,template:r.template,type:t.type,picture:t.picture})})):o[r.text]={location:[r],translations:{}},o):o}},{key:"mergeLabels",value:function(t,e){var r=this,o=n({},t);return Object.keys(e).forEach(function(t){o=r.createOrAdd({labels:o,label:n({},e[t],{text:t})})}),o}},{key:"getFormLabels",value:function(t){var e=this,r=function(t){for(var e=/\{\{\s*?instance.t\(\s*?[\'|\"](.*?)(?=([\'|\"]\s*?\))\s*?\}\})/g,r=[],n=e.exec(t);null!==n;)r.push(n[0].replace(/.*?instance\.t\(\s*[\'|\"']/,"").trim()),n=e.exec(t);return r},n={},o=["suffix","prefix","addAnother","removeRow","saveRow","legend","title","label","placeholder","errorLabel"];return t.forEach(function(t){n=e.createOrAdd({labels:n,label:{text:t.title,type:"formTitle",component:t.path,form:t.path,picture:null}}),i.default.eachComponent(t.components,function(i){if(o.forEach(function(r){i[r]&&""!==i[r]&&(n=e.createOrAdd({labels:n,label:{text:i[r],type:r,component:i.key,form:t.path,picture:null}}))}),i.tooltip){var a=r(i.tooltip);0===a.length&&a.push(i.tooltip),a.forEach(function(r){n=e.createOrAdd({labels:n,label:{text:r,type:"tooltip",component:i.key,form:t.path,picture:null}})})}if(i.values&&i.values.forEach(function(r){r.label&&""!==r.label&&(n=e.createOrAdd({labels:n,label:{text:r.label,type:"value",component:i.key,form:t.path,picture:null}}))}),"htmlelement"===i.type||"content"===i.type){var s=(i.content||i.html||"").trim();if(""!==s){var u=r(s);0!==u.length||/<[a-z][\s\S]*>/i.test(s)||u.push(s),u.forEach(function(r){""!==r&&(n=e.createOrAdd({labels:n,label:{text:r,type:"html",component:i.key,form:t.path,picture:null}}))})}}if("select"===i.type&&i.data&&i.data.values&&i.data.values.forEach(function(r){r.label&&""!==r.label&&(n=e.createOrAdd({labels:n,label:{text:r.label,type:"selectValue",component:i.key,form:t.path,picture:null}}))}),"survey"===i.type&&i.questions&&(i.questions.forEach(function(r){n=e.createOrAdd({labels:n,label:{text:r.label,type:"surveyLabel",component:i.key,form:t.path,picture:null}})}),i.values.forEach(function(r){n=e.createOrAdd({labels:n,label:{text:r.label,type:"surveyValues",component:i.key,form:t.path,picture:null}})})),"editgrid"===i.type&&i.templates){var c=r(i.templates.header),l=r(i.templates.footer);Array().concat(c,l).forEach(function(r){""!==r&&(n=e.createOrAdd({labels:n,label:{text:r,type:"editgrid",component:i.key,form:t.path,picture:null}}))})}},!0)}),n}},{key:"getAppLabels",value:function(){var t=c(regeneratorRuntime.mark(function t(e){var r,n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={},e.forEach(function(t){r=n.createOrAdd({labels:r,label:t})}),t.abrupt("return",r);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getPagesLabels",value:function(){var t=c(regeneratorRuntime.mark(function t(e){var r,n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={},e.pages.forEach(function(t){t.title&&""!==t.title&&(r=n.createOrAdd({labels:r,label:{text:t.title,type:"pageTitle",picture:null,page:t}})),t.cards.forEach(function(e){e.title&&""!==e.title&&(r=n.createOrAdd({labels:r,label:{text:e.title,type:"pageCardTitle",picture:null,card:e,page:t}})),e.subtitle&&""!==e.subtitle&&n.createOrAdd({labels:r,label:{text:e.subtitle,type:"pageCardSubtitle",picture:null,card:e,page:t}}),e.actions.forEach(function(o){o.text&&""!==o.text&&(r=n.createOrAdd({labels:r,label:{text:o.text,type:"pageActionButtonText",picture:null,card:e,page:t}}))})})}),t.abrupt("return",r);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}]),t}();e.default=l},function(t){t.exports=[{code:"ab",direction:"ltr",label:"Abkhazian"},{code:"aa",direction:"ltr",label:"Afar"},{code:"af",direction:"ltr",label:"Afrikaans"},{code:"ak",direction:"ltr",label:"Akan"},{code:"sq",direction:"ltr",label:"Albanian"},{code:"am",direction:"ltr",label:"Amharic"},{code:"ar",direction:"rtl",label:"Arabic"},{code:"an",direction:"ltr",label:"Aragonese"},{code:"hy",direction:"ltr",label:"Armenian"},{code:"as",direction:"ltr",label:"Assamese"},{code:"av",direction:"ltr",label:"Avaric"},{code:"ae",direction:"ltr",label:"Avestan"},{code:"ay",direction:"ltr",label:"Aymara"},{code:"az",direction:"ltr",label:"Azerbaijani"},{code:"bm",direction:"ltr",label:"Bambara"},{code:"ba",direction:"ltr",label:"Bashkir"},{code:"eu",direction:"ltr",label:"Basque"},{code:"be",direction:"ltr",label:"Belarusian"},{code:"bn",direction:"ltr",label:"Bengali"},{code:"bh",direction:"ltr",label:"Bihari languages"},{code:"bi",direction:"ltr",label:"Bislama"},{code:"bs",direction:"ltr",label:"Bosnian"},{code:"br",direction:"ltr",label:"Breton"},{code:"bg",direction:"ltr",label:"Bulgarian"},{code:"my",direction:"ltr",label:"Burmese"},{code:"ca",direction:"ltr",label:"Catalan, Valencian"},{code:"km",direction:"ltr",label:"Central Khmer"},{code:"ch",direction:"ltr",label:"Chamorro"},{code:"ce",direction:"ltr",label:"Chechen"},{code:"ny",direction:"ltr",label:"Chichewa"},{code:"zh",direction:"ltr",label:"Chinese"},{code:"cu",direction:"ltr",label:"Church Slavonic, Old Bulgarian, Old Church Slavonic"},{code:"cv",direction:"ltr",label:"Chuvash"},{code:"kw",direction:"ltr",label:"Cornish"},{code:"co",direction:"ltr",label:"Corsican"},{code:"cr",direction:"ltr",label:"Cree"},{code:"hr",direction:"ltr",label:"Croatian"},{code:"cs",direction:"ltr",label:"Czech"},{code:"da",direction:"ltr",label:"Danish"},{code:"dv",direction:"ltr",label:"Divehi, Dhivehi, Maldivian"},{code:"nl",direction:"ltr",label:"Dutch, Flemish"},{code:"dz",direction:"ltr",label:"Dzongkha"},{code:"en",direction:"ltr",label:"English"},{code:"eo",direction:"ltr",label:"Esperanto"},{code:"et",direction:"ltr",label:"Estonian"},{code:"ee",direction:"ltr",label:"Ewe"},{code:"fo",direction:"ltr",label:"Faroese"},{code:"fj",direction:"ltr",label:"Fijian"},{code:"fi",direction:"ltr",label:"Finnish"},{code:"fr",direction:"ltr",label:"French"},{code:"ff",direction:"ltr",label:"Fulah"},{code:"gd",direction:"ltr",label:"Gaelic, Scottish Gaelic"},{code:"gl",direction:"ltr",label:"Galician"},{code:"lg",direction:"ltr",label:"Ganda"},{code:"ka",direction:"ltr",label:"Georgian"},{code:"de",direction:"ltr",label:"German"},{code:"ki",direction:"ltr",label:"Gikuyu, Kikuyu"},{code:"el",direction:"ltr",label:"Greek (Modern)"},{code:"kl",direction:"ltr",label:"Greenlandic, Kalaallisut"},{code:"gn",direction:"ltr",label:"Guarani"},{code:"gu",direction:"ltr",label:"Gujarati"},{code:"ht",direction:"ltr",label:"Haitian, Haitian Creole"},{code:"ha",direction:"ltr",label:"Hausa"},{code:"he",direction:"ltr",label:"Hebrew"},{code:"hz",direction:"ltr",label:"Herero"},{code:"hi",direction:"ltr",label:"Hindi"},{code:"ho",direction:"ltr",label:"Hiri Motu"},{code:"hu",direction:"ltr",label:"Hungarian"},{code:"is",direction:"ltr",label:"Icelandic"},{code:"io",direction:"ltr",label:"Ido"},{code:"ig",direction:"ltr",label:"Igbo"},{code:"id",direction:"ltr",label:"Indonesian"},{code:"ia",direction:"ltr",label:"Interlingua (International Auxiliary Language Association)"},{code:"ie",direction:"ltr",label:"Interlingue"},{code:"iu",direction:"ltr",label:"Inuktitut"},{code:"ik",direction:"ltr",label:"Inupiaq"},{code:"ga",direction:"ltr",label:"Irish"},{code:"it",direction:"ltr",label:"Italian"},{code:"ja",direction:"ltr",label:"Japanese"},{code:"jv",direction:"ltr",label:"Javanese"},{code:"kn",direction:"ltr",label:"Kannada"},{code:"kr",direction:"ltr",label:"Kanuri"},{code:"ks",direction:"ltr",label:"Kashmiri"},{code:"kk",direction:"ltr",label:"Kazakh"},{code:"rw",direction:"ltr",label:"Kinyarwanda"},{code:"kv",direction:"ltr",label:"Komi"},{code:"kg",direction:"ltr",label:"Kongo"},{code:"ko",direction:"ltr",label:"Korean"},{code:"kj",direction:"ltr",label:"Kwanyama, Kuanyama"},{code:"ku",direction:"ltr",label:"Kurdish"},{code:"ky",direction:"ltr",label:"Kyrgyz"},{code:"lo",direction:"ltr",label:"Lao"},{code:"la",direction:"ltr",label:"Latin"},{code:"lv",direction:"ltr",label:"Latvian"},{code:"lb",direction:"ltr",label:"Letzeburgesch, Luxembourgish"},{code:"li",direction:"ltr",label:"Limburgish, Limburgan, Limburger"},{code:"ln",direction:"ltr",label:"Lingala"},{code:"lt",direction:"ltr",label:"Lithuanian"},{code:"lu",direction:"ltr",label:"Luba-Katanga"},{code:"mk",direction:"ltr",label:"Macedonian"},{code:"mg",direction:"ltr",label:"Malagasy"},{code:"ms",direction:"ltr",label:"Malay"},{code:"ml",direction:"ltr",label:"Malayalam"},{code:"mt",direction:"ltr",label:"Maltese"},{code:"gv",direction:"ltr",label:"Manx"},{code:"mi",direction:"ltr",label:"Maori"},{code:"mr",direction:"ltr",label:"Marathi"},{code:"mh",direction:"ltr",label:"Marshallese"},{code:"ro",direction:"ltr",label:"Moldovan, Moldavian, Romanian"},{code:"mn",direction:"ltr",label:"Mongolian"},{code:"na",direction:"ltr",label:"Nauru"},{code:"nv",direction:"ltr",label:"Navajo, Navaho"},{code:"nd",direction:"ltr",label:"Northern Ndebele"},{code:"ng",direction:"ltr",label:"Ndonga"},{code:"ne",direction:"ltr",label:"Nepali"},{code:"se",direction:"ltr",label:"Northern Sami"},{code:"no",direction:"ltr",label:"Norwegian"},{code:"nb",direction:"ltr",label:"Norwegian Bokmål"},{code:"nn",direction:"ltr",label:"Norwegian Nynorsk"},{code:"ii",direction:"ltr",label:"Nuosu, Sichuan Yi"},{code:"oc",direction:"ltr",label:"Occitan (post 1500)"},{code:"oj",direction:"ltr",label:"Ojibwa"},{code:"or",direction:"ltr",label:"Oriya"},{code:"om",direction:"ltr",label:"Oromo"},{code:"os",direction:"ltr",label:"Ossetian, Ossetic"},{code:"pi",direction:"ltr",label:"Pali"},{code:"pa",direction:"ltr",label:"Panjabi, Punjabi"},{code:"ps",direction:"ltr",label:"Pashto, Pushto"},{code:"fa",direction:"ltr",label:"Persian"},{code:"pl",direction:"ltr",label:"Polish"},{code:"pt",direction:"ltr",label:"Portuguese"},{code:"qu",direction:"ltr",label:"Quechua"},{code:"rm",direction:"ltr",label:"Romansh"},{code:"rn",direction:"ltr",label:"Rundi"},{code:"ru",direction:"ltr",label:"Russian"},{code:"sm",direction:"ltr",label:"Samoan"},{code:"sg",direction:"ltr",label:"Sango"},{code:"sa",direction:"ltr",label:"Sanskrit"},{code:"sc",direction:"ltr",label:"Sardinian"},{code:"sr",direction:"ltr",label:"Serbian"},{code:"sn",direction:"ltr",label:"Shona"},{code:"sd",direction:"ltr",label:"Sindhi"},{code:"si",direction:"ltr",label:"Sinhala, Sinhalese"},{code:"sk",direction:"ltr",label:"Slovak"},{code:"sl",direction:"ltr",label:"Slovenian"},{code:"so",direction:"ltr",label:"Somali"},{code:"st",direction:"ltr",label:"Sotho, Southern"},{code:"nr",direction:"ltr",label:"South Ndebele"},{code:"es",direction:"ltr",label:"Spanish"},{code:"su",direction:"ltr",label:"Sundanese"},{code:"sw",direction:"ltr",label:"Swahili"},{code:"ss",direction:"ltr",label:"Swati"},{code:"sv",direction:"ltr",label:"Swedish"},{code:"tl",direction:"ltr",label:"Tagalog"},{code:"ty",direction:"ltr",label:"Tahitian"},{code:"tg",direction:"ltr",label:"Tajik"},{code:"ta",direction:"ltr",label:"Tamil"},{code:"tt",direction:"ltr",label:"Tatar"},{code:"te",direction:"ltr",label:"Telugu"},{code:"th",direction:"ltr",label:"Thai"},{code:"bo",direction:"ltr",label:"Tibetan"},{code:"ti",direction:"ltr",label:"Tigrinya"},{code:"to",direction:"ltr",label:"Tonga (Tonga Islands)"},{code:"ts",direction:"ltr",label:"Tsonga"},{code:"tn",direction:"ltr",label:"Tswana"},{code:"tr",direction:"ltr",label:"Turkish"},{code:"tk",direction:"ltr",label:"Turkmen"},{code:"tw",direction:"ltr",label:"Twi"},{code:"ug",direction:"ltr",label:"Uighur, Uyghur"},{code:"uk",direction:"ltr",label:"Ukrainian"},{code:"umb",direction:"ltr",label:"Umbundu"},{code:"ur",direction:"ltr",label:"Urdu"},{code:"uz",direction:"ltr",label:"Uzbek"},{code:"ve",direction:"ltr",label:"Venda"},{code:"vi",direction:"ltr",label:"Vietnamese"},{code:"vo",direction:"ltr",label:"Volap_k"},{code:"wa",direction:"ltr",label:"Walloon"},{code:"cy",direction:"ltr",label:"Welsh"},{code:"fy",direction:"ltr",label:"Western Frisian"},{code:"wo",direction:"ltr",label:"Wolof"},{code:"xh",direction:"ltr",label:"Xhosa"},{code:"yi",direction:"ltr",label:"Yiddish"},{code:"yo",direction:"ltr",label:"Yoruba"},{code:"za",direction:"ltr",label:"Zhuang, Chuang"},{code:"zu",direction:"ltr",label:"Zulu"}]},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(r(21)),o=i(r(0));function i(t){return t&&t.__esModule?t:{default:t}}var a,s,u,c=(a=regeneratorRuntime.mark(function t(e){var r,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=function(t,e){var r=Date.now,n="undefined"!=typeof window&&window.requestAnimationFrame,o=r(),i=void 0;return n(function a(){r()-o<e||(o+=e,t()),i||n(a)}),{clear:function(){i=1}}},i=o.default.debounce(n.default.now,2e3),r(i,e);case 3:case"end":return t.stop()}},t,this)}),s=function(){var t=a.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});e(s)}("next")})},u=function(t){return s.apply(this,arguments)},Object.freeze({set:u}));e.default=c},function(t,e,r){"use strict";var n=r(1),o=r(22),i=r(45),a=r(17);function s(t){var e=new i(t),r=o(i.prototype.request,e);return n.extend(r,i.prototype,e),n.extend(r,e),r}var u=s(a);u.Axios=i,u.create=function(t){return s(n.merge(a,t))},u.Cancel=r(27),u.CancelToken=r(59),u.isCancel=r(26),u.all=function(t){return Promise.all(t)},u.spread=r(60),t.exports=u,t.exports.default=u},function(t,e,r){"use strict";var n=r(17),o=r(1),i=r(54),a=r(55);function s(t){this.defaults=t,this.interceptors={request:new i,response:new i}}s.prototype.request=function(t){"string"==typeof t&&(t=o.merge({url:arguments[0]},arguments[1])),(t=o.merge(n,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[a,void 0],r=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)r=r.then(e.shift(),e.shift());return r},o.forEach(["delete","get","head","options"],function(t){s.prototype[t]=function(e,r){return this.request(o.merge(r||{},{method:t,url:e}))}}),o.forEach(["post","put","patch"],function(t){s.prototype[t]=function(e,r,n){return this.request(o.merge(n||{},{method:t,url:e,data:r}))}}),t.exports=s},function(t,e,r){"use strict";var n=r(1);t.exports=function(t,e){n.forEach(t,function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])})}},function(t,e,r){"use strict";var n=r(25);t.exports=function(t,e,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?e(n("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}},function(t,e,r){"use strict";t.exports=function(t,e,r,n,o){return t.config=e,r&&(t.code=r),t.request=n,t.response=o,t}},function(t,e,r){"use strict";var n=r(1);function o(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,r){if(!e)return t;var i;if(r)i=r(e);else if(n.isURLSearchParams(e))i=e.toString();else{var a=[];n.forEach(e,function(t,e){null!=t&&(n.isArray(t)?e+="[]":t=[t],n.forEach(t,function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),a.push(o(e)+"="+o(t))}))}),i=a.join("&")}return i&&(t+=(-1===t.indexOf("?")?"?":"&")+i),t}},function(t,e,r){"use strict";var n=r(1),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,r,i,a={};return t?(n.forEach(t.split("\n"),function(t){if(i=t.indexOf(":"),e=n.trim(t.substr(0,i)).toLowerCase(),r=n.trim(t.substr(i+1)),e){if(a[e]&&o.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([r]):a[e]?a[e]+", "+r:r}}),a):a}},function(t,e,r){"use strict";var n=r(1);t.exports=n.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(t){var n=t;return e&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=o(window.location.href),function(e){var r=n.isString(e)?o(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}},function(t,e,r){"use strict";function n(){this.message="String contains an invalid character"}n.prototype=new Error,n.prototype.code=5,n.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,r,o=String(t),i="",a=0,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.charAt(0|a)||(s="=",a%1);i+=s.charAt(63&e>>8-a%1*8)){if((r=o.charCodeAt(a+=.75))>255)throw new n;e=e<<8|r}return i}},function(t,e,r){"use strict";var n=r(1);t.exports=n.isStandardBrowserEnv()?{write:function(t,e,r,o,i,a){var s=[];s.push(t+"="+encodeURIComponent(e)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(o)&&s.push("path="+o),n.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,r){"use strict";var n=r(1);function o(){this.handlers=[]}o.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){n.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=o},function(t,e,r){"use strict";var n=r(1),o=r(56),i=r(26),a=r(17),s=r(57),u=r(58);function c(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return c(t),t.baseURL&&!s(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||a.adapter)(t).then(function(e){return c(t),e.data=o(e.data,e.headers,t.transformResponse),e},function(e){return i(e)||(c(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,r){"use strict";var n=r(1);t.exports=function(t,e,r){return n.forEach(r,function(r){t=r(t,e)}),t}},function(t,e,r){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,r){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,r){"use strict";var n=r(27);function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var r=this;t(function(t){r.reason||(r.reason=new n(t),e(r.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o(function(e){t=e}),cancel:t}},t.exports=o},function(t,e,r){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,r){t.exports=r(13)},function(t,e){t.exports=function(t){return Boolean(t)&&"object"==typeof t&&Object.getPrototypeOf(t)===Object.prototype}},function(t,e,r){var n=r(28);function o(t){return function(e){"use strict";var r={};return r[t]=e,this&&this.compose?this.compose(r):n(r)}}var i=o("properties"),a=o("staticProperties"),s=o("configuration"),u=o("deepProperties"),c=o("staticDeepProperties"),l=o("deepConfiguration"),f=o("initializers");t.exports=n({staticProperties:{methods:o("methods"),props:i,properties:i,statics:a,staticProperties:a,conf:s,configuration:s,deepProps:u,deepProperties:u,deepStatics:c,staticDeepProperties:c,deepConf:l,deepConfiguration:l,init:f,initializers:f,composers:o("composers"),propertyDescriptors:o("propertyDescriptors"),staticPropertyDescriptors:o("staticPropertyDescriptors")}})},function(t,e){t.exports=function(t){return"string"==typeof t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=l(r(33)),o=l(r(35)),i=l(r(2)),a=l(r(16)),s=l(r(8)),u=l(r(0)),c=l(r(19));function l(t){return t&&t.__esModule?t:{default:t}}function f(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}("next")})}}e.default=o.default.compose({methods:{localAuthenticate:function(t){var e=this;return f(regeneratorRuntime.mark(function r(){var o,s,u,c,l,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.username,s=t.password,e.next=3,i.default.local().first();case 3:return u=e.sent,c=(0,n.default)(s,u.MD5_KEY),e.next=7,a.default.local().where("data.username","=",o).get();case 7:if(l=e.sent,f=l&&l[0]?l[0]:void 0){e.next=11;break}throw new Error;case 11:if(f.data.hashedPassword===c){e.next=14;break}throw new Error;case 14:return e.abrupt("return",f);case 15:case"end":return e.stop()}},r,e)}))()},remoteAuthenticate:function(t,e){var r=this;return f(regeneratorRuntime.mark(function n(){var o,i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.default.login({credentials:t,role:e});case 2:return o=r.sent,i=o.data,r.next=6,a.default.updateUser(i);case 6:return r.abrupt("return",o);case 7:case"end":return r.stop()}},n,r)}))()},authenticate:function(t,e){var r=this;return f(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.default.isOnline();case 2:if(!n.sent){n.next=5;break}return n.abrupt("return",r.remoteAuthenticate(t,e));case 5:return n.abrupt("return",r.localAuthenticate(t));case 6:case"end":return n.stop()}},n,r)}))()},attempt:function(t,e){var r=this;return e=e||"user",new Promise(function(n,o){var i;r.authenticate(t,e).then((i=f(regeneratorRuntime.mark(function t(e){var o,i,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.headers||{},(i=e.data).x_jwt_token=o["x-jwt-token"],localStorage.setItem("authUser",JSON.stringify(i)),localStorage.setItem("formioToken",o["x-jwt-token"]),t.next=7,c.default.local().first();case 7:a=t.sent,i.rolesNames=[],Object.keys(a).forEach(function(t){"$loki"!==t&&"_id"!==t&&"meta"!==t&&i.roles&&-1!==i.roles.indexOf(a[t]._id)&&i.rolesNames.push(a[t])}),localStorage.setItem("authUser",JSON.stringify(i)),n(i);case 12:case"end":return t.stop()}},t,r)})),function(t){return i.apply(this,arguments)})).catch(function(t){console.log("There was an error over here!"),o(t)})})},user:function(){try{var t=JSON.parse(localStorage.getItem("authUser"));return null!==t&&t}catch(t){return localStorage.removeItem("authUser"),!1}},email:function(){var t="";return this.user()&&this.user().data&&this.user().data.email?t=this.user().data.email:this.user()&&this.user().email&&(t=this.user().email),t},hasRole:function(t){var e=JSON.parse(localStorage.getItem("authUser"));return void 0!==(e=null!==e&&e).rolesNames.find(function(e){return e.title===t})},hasRoleIn:function(t){var e=this;return!(t&&!u.default.isEmpty(t))||t.some(function(t){return e.hasRole(t)||"Authenticated"===t})},hasRoleIdIn:function(t){var e=this;return f(regeneratorRuntime.mark(function r(){var n,o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(t&&!u.default.isEmpty(t)){r.next=2;break}return r.abrupt("return",!0);case 2:return r.next=4,c.default.local().first();case 4:return n=r.sent,o=t.reduce(function(t,e){return Object.keys(n).forEach(function(r){n[r]&&n[r]._id&&n[r]._id===e&&t.push(n[r].title)}),t},[]),r.abrupt("return",o.some(function(t){return e.hasRole(t)||"Authenticated"===t}));case 7:case"end":return r.stop()}},r,e)}))()},check:function(){var t=JSON.parse(localStorage.getItem("authUser"));return!!t&&!!t.x_jwt_token},logOut:function(){var t=this;return f(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.removeItem("authUser");case 2:return t.next=4,localStorage.removeItem("formioToken");case 4:return t.next=6,localStorage.removeItem("formioUser");case 6:case"end":return t.stop()}},e,t)}))()}}})},function(t,e){var r,n;r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],r=0,n=0;r<t.length;r++,n+=8)e[n>>>5]|=t[r]<<24-n%32;return e},wordsToBytes:function(t){for(var e=[],r=0;r<32*t.length;r+=8)e.push(t[r>>>5]>>>24-r%32&255);return e},bytesToHex:function(t){for(var e=[],r=0;r<t.length;r++)e.push((t[r]>>>4).toString(16)),e.push((15&t[r]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(parseInt(t.substr(r,2),16));return e},bytesToBase64:function(t){for(var e=[],n=0;n<t.length;n+=3)for(var o=t[n]<<16|t[n+1]<<8|t[n+2],i=0;i<4;i++)8*n+6*i<=8*t.length?e.push(r.charAt(o>>>6*(3-i)&63)):e.push("=");return e.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var e=[],n=0,o=0;n<t.length;o=++n%4)0!=o&&e.push((r.indexOf(t.charAt(n-1))&Math.pow(2,-2*o+8)-1)<<2*o|r.indexOf(t.charAt(n))>>>6-2*o);return e}},t.exports=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),a(r(10));var n=a(r(68)),o=a(r(71)),i=(a(r(7)),a(r(35)));function a(t){return t&&t.__esModule?t:{default:t}}function s(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}("next")})}}e.default=i.default.compose({init:function(t){var e=t.baseUrl;this.url.baseUrl=e},properties:{url:{baseUrl:void 0,loginUrl:"/realms/users/protocol/openid-connect/token",logoutUrl:"/realms/users/protocol/openid-connect/logout"},serviceAccount:{clientId:"goat-client",secretId:"4ec6a304-2377-4d55-bf3f-ca32b97ec600"}},methods:{checkUrl:function(){if(this.url.baseUrl)return this.url.baseUrl;throw new Error("No url found for Keycloak connector")},logout:function(){var t=this;return s(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=""+t.url.baseUrl+t.url.loginUrl,e.next=3,fetch(r,{method:"POST",body:n.default.stringify({client_id:t.serviceAccount.clientId,refresh_token:localStorage.getItem("refreshToken")}),headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8",Authorization:"Bearer "+localStorage.getItem("token")}});case 3:e.sent,localStorage.removeItem("token"),localStorage.removeItem("refreshToken");case 6:case"end":return e.stop()}},e,t)}))()},refreshServiceAccount:function(){var t=this;return s(regeneratorRuntime.mark(function e(){var r,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=""+t.url.baseUrl+t.url.loginUrl,e.next=3,fetch(r,{method:"POST",body:n.default.stringify({client_id:t.serviceAccount.clientId,grant_type:"refresh_token",refresh_token:localStorage.getItem("refreshToken")}),headers:{"content-type":"application/x-www-form-urlencoded"}});case 3:return o=e.sent,e.next=6,o.json();case 6:i=e.sent,localStorage.setItem("token",i.access_token),localStorage.setItem("refreshToken",i.refresh_token);case 9:case"end":return e.stop()}},e,t)}))()},loginServiceAccount:function(){var t=this;return s(regeneratorRuntime.mark(function e(){var r,i,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=""+t.url.baseUrl+t.url.loginUrl,i=(0,o.default)(t.serviceAccount.clientId+":"+t.serviceAccount.secretId),e.next=4,fetch(r,{method:"POST",body:n.default.stringify({grant_type:"client_credentials"}),headers:{Authorization:"Basic "+i,"Content-Type":"application/x-www-form-urlencoded"}});case 4:return a=e.sent,e.next=7,a.json();case 7:s=e.sent,localStorage.setItem("token",s.access_token),localStorage.setItem("refreshToken",s.refresh_token);case 10:case"end":return e.stop()}},e,t)}))()},attempt:function(t,e){var r=this;return s(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(r.url),t.next=3,r.loginServiceAccount();case 3:return t.abrupt("return",r.serviceAccount);case 4:case"end":return t.stop()}},t,r)}))()}}})},function(t,e,r){"use strict";var n=r(69),o=r(70),i=r(37);t.exports={formats:i,parse:o,stringify:n}},function(t,e,r){"use strict";var n=r(36),o=r(37),i=Object.prototype.hasOwnProperty,a={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},s=Array.isArray,u=Array.prototype.push,c=function(t,e){u.apply(t,s(e)?e:[e])},l=Date.prototype.toISOString,f={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,formatter:o.formatters[o.default],indices:!1,serializeDate:function(t){return l.call(t)},skipNulls:!1,strictNullHandling:!1},h=function t(e,r,o,i,a,u,l,h,p,d,v,y,m){var g=e;if("function"==typeof l?g=l(r,g):g instanceof Date?g=d(g):"comma"===o&&s(g)&&(g=g.join(",")),null===g){if(i)return u&&!y?u(r,f.encoder,m):r;g=""}if("string"==typeof g||"number"==typeof g||"boolean"==typeof g||n.isBuffer(g))return u?[v(y?r:u(r,f.encoder,m))+"="+v(u(g,f.encoder,m))]:[v(r)+"="+v(String(g))];var b,w=[];if(void 0===g)return w;if(s(l))b=l;else{var x=Object.keys(g);b=h?x.sort(h):x}for(var _=0;_<b.length;++_){var k=b[_];a&&null===g[k]||(s(g)?c(w,t(g[k],"function"==typeof o?o(r,k):r,o,i,a,u,l,h,p,d,v,y,m)):c(w,t(g[k],r+(p?"."+k:"["+k+"]"),o,i,a,u,l,h,p,d,v,y,m)))}return w};t.exports=function(t,e){var r,n=t,u=function(t){if(!t)return f;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||f.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=o.default;if(void 0!==t.format){if(!i.call(o.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var n=o.formatters[r],a=f.filter;return("function"==typeof t.filter||s(t.filter))&&(a=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:f.addQueryPrefix,allowDots:void 0===t.allowDots?f.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:f.charsetSentinel,delimiter:void 0===t.delimiter?f.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:f.encode,encoder:"function"==typeof t.encoder?t.encoder:f.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:f.encodeValuesOnly,filter:a,formatter:n,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:f.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:f.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:f.strictNullHandling}}(e);"function"==typeof u.filter?n=(0,u.filter)("",n):s(u.filter)&&(r=u.filter);var l,p=[];if("object"!=typeof n||null===n)return"";l=e&&e.arrayFormat in a?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var d=a[l];r||(r=Object.keys(n)),u.sort&&r.sort(u.sort);for(var v=0;v<r.length;++v){var y=r[v];u.skipNulls&&null===n[y]||c(p,h(n[y],y,d,u.strictNullHandling,u.skipNulls,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.formatter,u.encodeValuesOnly,u.charset))}var m=p.join(u.delimiter),g=!0===u.addQueryPrefix?"?":"";return u.charsetSentinel&&("iso-8859-1"===u.charset?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),m.length>0?g+m:""}},function(t,e,r){"use strict";var n=r(36),o=Object.prototype.hasOwnProperty,i={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(t){return t.replace(/&#(\d+);/g,function(t,e){return String.fromCharCode(parseInt(e,10))})},s=function(t,e,r){if(t){var n=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,i=/(\[[^[\]]*])/g,a=/(\[[^[\]]*])/.exec(n),s=a?n.slice(0,a.index):n,u=[];if(s){if(!r.plainObjects&&o.call(Object.prototype,s)&&!r.allowPrototypes)return;u.push(s)}for(var c=0;null!==(a=i.exec(n))&&c<r.depth;){if(c+=1,!r.plainObjects&&o.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;u.push(a[1])}return a&&u.push("["+n.slice(a.index)+"]"),function(t,e,r){for(var n=e,o=t.length-1;o>=0;--o){var i,a=t[o];if("[]"===a&&r.parseArrays)i=[].concat(n);else{i=r.plainObjects?Object.create(null):{};var s="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,u=parseInt(s,10);r.parseArrays||""!==s?!isNaN(u)&&a!==s&&String(u)===s&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(i=[])[u]=n:i[s]=n:i={0:n}}n=i}return n}(u,e,r)}};t.exports=function(t,e){var r=function(t){if(!t)return i;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?i.charset:t.charset;return{allowDots:void 0===t.allowDots?i.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:i.allowPrototypes,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:i.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:i.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:i.comma,decoder:"function"==typeof t.decoder?t.decoder:i.decoder,delimiter:"string"==typeof t.delimiter||n.isRegExp(t.delimiter)?t.delimiter:i.delimiter,depth:"number"==typeof t.depth?t.depth:i.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:i.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:i.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:i.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:i.strictNullHandling}}(e);if(""===t||null==t)return r.plainObjects?Object.create(null):{};for(var u="string"==typeof t?function(t,e){var r,s={},u=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,c=e.parameterLimit===1/0?void 0:e.parameterLimit,l=u.split(e.delimiter,c),f=-1,h=e.charset;if(e.charsetSentinel)for(r=0;r<l.length;++r)0===l[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===l[r]?h="utf-8":"utf8=%26%2310003%3B"===l[r]&&(h="iso-8859-1"),f=r,r=l.length);for(r=0;r<l.length;++r)if(r!==f){var p,d,v=l[r],y=v.indexOf("]="),m=-1===y?v.indexOf("="):y+1;-1===m?(p=e.decoder(v,i.decoder,h),d=e.strictNullHandling?null:""):(p=e.decoder(v.slice(0,m),i.decoder,h),d=e.decoder(v.slice(m+1),i.decoder,h)),d&&e.interpretNumericEntities&&"iso-8859-1"===h&&(d=a(d)),d&&e.comma&&d.indexOf(",")>-1&&(d=d.split(",")),o.call(s,p)?s[p]=n.combine(s[p],d):s[p]=d}return s}(t,r):t,c=r.plainObjects?Object.create(null):{},l=Object.keys(u),f=0;f<l.length;++f){var h=l[f],p=s(h,u[h],r);c=n.merge(c,p,r)}return n.compact(c)}},function(t,e,r){(function(e){!function(){"use strict";t.exports=function(t){return(t instanceof e?t:e.from(t.toString(),"binary")).toString("base64")}}()}).call(this,r(72).Buffer)},function(t,e,r){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=r(74),o=r(75),i=r(76);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return c(this,t,e,r)}function c(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=h(t,e),t}(t,e,r,n):"string"==typeof e?function(t,e,r){if("string"==typeof r&&""!==r||(r="utf8"),!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|d(e,r),o=(t=s(t,n)).write(e,r);return o!==n&&(t=t.slice(0,o)),t}(t,e,r):function(t,e){if(u.isBuffer(e)){var r=0|p(e.length);return 0===(t=s(t,r)).length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?s(t,0):h(t,e);if("Buffer"===e.type&&i(e.data))return h(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(l(e),t=s(t,e<0?0:0|p(e)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function h(t,e){var r=e.length<0?0:0|p(e.length);t=s(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function p(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return B(t).length;default:if(n)return $(t).length;e=(""+e).toLowerCase(),n=!0}}function v(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function y(t,e,r,n,o){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:m(t,e,r,n,o);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):m(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function m(t,e,r,n,o){var i,a=1,s=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){var l=-1;for(i=r;i<s;i++)if(c(t,i)===c(e,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(r+u>s&&(r=s-u),i=r;i>=0;i--){for(var f=!0,h=0;h<u;h++)if(c(t,i+h)!==c(e,h)){f=!1;break}if(f)return i}return-1}function g(t,e,r,n){r=Number(r)||0;var o=t.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var a=0;a<n;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[r+a]=s}return a}function b(t,e,r,n){return z($(e,t.length-r),t,r,n)}function w(t,e,r,n){return z(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function x(t,e,r,n){return w(t,e,r,n)}function _(t,e,r,n){return z(B(e),t,r,n)}function k(t,e,r,n){return z(function(t,e){for(var r,n,o,i=[],a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(e,t.length-r),t,r,n)}function S(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function O(t,e,r){r=Math.min(t.length,r);for(var n=[],o=e;o<r;){var i,a,s,u,c=t[o],l=null,f=c>239?4:c>223?3:c>191?2:1;if(o+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(i=t[o+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:i=t[o+1],a=t[o+2],128==(192&i)&&128==(192&a)&&(u=(15&c)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=t[o+1],a=t[o+2],s=t[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),o+=f}return function(t){var e=t.length;if(e<=E)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=E));return r}(n)}e.Buffer=u,e.SlowBuffer=function(t){return+t!=t&&(t=0),u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,r){return c(null,t,e,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,r){return function(t,e,r,n){return l(e),e<=0?s(t,e):void 0!==r?"string"==typeof n?s(t,e).fill(r,n):s(t,e).fill(r):s(t,e)}(null,t,e,r)},u.allocUnsafe=function(t){return f(null,t)},u.allocUnsafeSlow=function(t){return f(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,o=0,i=Math.min(r,n);o<i;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=u.allocUnsafe(e),o=0;for(r=0;r<t.length;++r){var a=t[r];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,o),o+=a.length}return n},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)v(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)v(this,e,e+3),v(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)v(this,e,e+7),v(this,e+1,e+6),v(this,e+2,e+5),v(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?O(this,0,t):function(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return C(this,e,r);case"utf8":case"utf-8":return O(this,e,r);case"ascii":return P(this,e,r);case"latin1":case"binary":return A(this,e,r);case"base64":return S(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,r,n,o){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||r>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&e>=r)return 0;if(n>=o)return-1;if(e>=r)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(n>>>=0),a=(r>>>=0)-(e>>>=0),s=Math.min(i,a),c=this.slice(n,o),l=t.slice(e,r),f=0;f<s;++f)if(c[f]!==l[f]){i=c[f],a=l[f];break}return i<a?-1:a<i?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return y(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return y(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-e;if((void 0===r||r>o)&&(r=o),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return g(this,t,e,r);case"utf8":case"utf-8":return b(this,t,e,r);case"ascii":return w(this,t,e,r);case"latin1":case"binary":return x(this,t,e,r);case"base64":return _(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var E=4096;function P(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(127&t[o]);return n}function A(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(t[o]);return n}function C(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=e;i<r;++i)o+=F(t[i]);return o}function T(t,e,r){for(var n=t.slice(e,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function R(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function M(t,e,r,n,o,i){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function j(t,e,r,n){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-r,2);o<i;++o)t[r+o]=(e&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function I(t,e,r,n){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-r,4);o<i;++o)t[r+o]=e>>>8*(n?o:3-o)&255}function D(t,e,r,n,o,i){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(t,e,r,n,i){return i||D(t,0,r,4),o.write(t,e,r,n,23,4),r+4}function L(t,e,r,n,i){return i||D(t,0,r,8),o.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=u.prototype;else{var o=e-t;r=new u(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+t]}return r},u.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||R(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n},u.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||R(t,e,this.length);for(var n=this[t+--e],o=1;e>0&&(o*=256);)n+=this[t+--e]*o;return n},u.prototype.readUInt8=function(t,e){return e||R(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||R(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||R(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||R(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||R(t,e,this.length);for(var n=e,o=1,i=this[t+--n];n>0&&(o*=256);)i+=this[t+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},u.prototype.readInt8=function(t,e){return e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||R(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){e||R(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||R(t,4,this.length),o.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||R(t,4,this.length),o.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||R(t,8,this.length),o.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||R(t,8,this.length),o.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,r,n){t=+t,e|=0,r|=0,n||M(this,t,e,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[e]=255&t;++i<r&&(o*=256);)this[e+i]=t/o&255;return e+r},u.prototype.writeUIntBE=function(t,e,r,n){t=+t,e|=0,r|=0,n||M(this,t,e,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+r},u.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):j(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):I(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):I(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*r-1);M(this,t,e,r,o-1,-o)}var i=0,a=1,s=0;for(this[e]=255&t;++i<r&&(a*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*r-1);M(this,t,e,r,o-1,-o)}var i=r-1,a=1,s=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):j(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):I(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):I(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,r){return N(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return N(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return L(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return L(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var o,i=n-r;if(this===t&&r<e&&e<n)for(o=i-1;o>=0;--o)t[o+e]=this[o+r];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+i),e);return i},u.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{var a=u.isBuffer(t)?t:$(new u(t,n).toString()),s=a.length;for(i=0;i<r-e;++i)this[i+e]=a[i%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function F(t){return t<16?"0"+t.toString(16):t.toString(16)}function $(t,e){var r;e=e||1/0;for(var n=t.length,o=null,i=[],a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function B(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(U,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function z(t,e,r,n){for(var o=0;o<n&&!(o+r>=e.length||o>=t.length);++o)e[o+r]=t[o];return o}}).call(this,r(73))},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";e.byteLength=function(t){var e=c(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){for(var e,r=c(t),n=r[0],a=r[1],s=new i(NaN),u=0,l=a>0?n-4:n,f=0;f<l;f+=4)e=o[t.charCodeAt(f)]<<18|o[t.charCodeAt(f+1)]<<12|o[t.charCodeAt(f+2)]<<6|o[t.charCodeAt(f+3)],s[u++]=e>>16&255,s[u++]=e>>8&255,s[u++]=255&e;return 2===a&&(e=o[t.charCodeAt(f)]<<2|o[t.charCodeAt(f+1)]>>4,s[u++]=255&e),1===a&&(e=o[t.charCodeAt(f)]<<10|o[t.charCodeAt(f+1)]<<4|o[t.charCodeAt(f+2)]>>2,s[u++]=e>>8&255,s[u++]=255&e),s},e.fromByteArray=function(t){for(var e,r=t.length,o=r%3,i=[],a=0,s=r-o;a<s;a+=16383)i.push(l(t,a,a+16383>s?s:a+16383));return 1===o?(e=t[r-1],i.push(n[e>>2]+n[e<<4&63]+"==")):2===o&&(e=(t[r-2]<<8)+t[r-1],i.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),i.join("")};for(var n=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)n[s]=a[s],o[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function l(t,e,r){for(var o,i,a=[],s=e;s<r;s+=3)o=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,r,n,o){var i,a,s=8*o-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?o-1:0,h=r?-1:1,p=t[e+f];for(f+=h,i=p&(1<<-l)-1,p>>=-l,l+=s;l>0;i=256*i+t[e+f],f+=h,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=n;l>0;a=256*a+t[e+f],f+=h,l-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),i-=c}return(p?-1:1)*a*Math.pow(2,i-n)},e.write=function(t,e,r,n,o,i){var a,s,u,c=8*i-o-1,l=(1<<c)-1,f=l>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,d=n?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*u-1)*Math.pow(2,o),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;t[r+p]=255&s,p+=d,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;t[r+p]=255&a,p+=d,a/=256,c-=8);t[r+p-d]|=128*v}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=a(r(0)),i=a(r(5));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return n(t,null,[{key:"getTableView",value:function(){var t,e=(t=regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.default.local().where("data.path","=",e).first();case 2:return r=t.sent.data,t.abrupt("return",o.default.findComponents(r.components,{input:!0,tableView:!0}).filter(function(t){return!(""===t.label)}));case 4:case"end":return t.stop()}},t,this)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}("next")})});return function(t){return e.apply(this,arguments)}}()}]),t}();e.default=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=l(r(8)),i=l(r(11)),a=l(r(9)),s=l(r(38)),u=l(r(5)),c=l(r(6));function l(t){return t&&t.__esModule?t:{default:t}}function f(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}("next")})}}var h,p,d,v,y=(h=f(regeneratorRuntime.mark(function t(e){var r,i,u,l,h,p,d=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,o.default.isOnline();case 3:if(i=t.sent,u=function(){var t=f(regeneratorRuntime.mark(function t(e,r){var n,o,i,a,s,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=!0,o=!1,i=void 0,t.prev=3,a=e[Symbol.iterator]();case 5:if(n=(s=a.next()).done){t.next=12;break}return u=s.value,t.next=9,r(u);case 9:n=!0,t.next=5;break;case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),o=!0,i=t.t0;case 18:t.prev=18,t.prev=19,!n&&a.return&&a.return();case 21:if(t.prev=21,!o){t.next=24;break}throw i;case 24:return t.finish(21);case 25:return t.finish(18);case 26:case"end":return t.stop()}},t,this,[[3,14,18,26],[19,,21,25]])}));return function(e,r){return t.apply(this,arguments)}}(),!i){t.next=17;break}return t.next=8,s.default.startSync();case 8:return t.next=10,(0,c.default)(u(r,function(){var t=f(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(e);case 2:case"end":return t.stop()}},t,d)}));return function(e){return t.apply(this,arguments)}}()));case 10:l=t.sent,h=n(l,1),p=h[0],s.default.stopSync(),p&&console.log(p),console.log("Submissions Synced"),a.default.emit({name:"GOAT:SUBMISSION:SYNCED",data:{},text:"The submissions have been synced"});case 17:case"end":return t.stop()}},t,this)})),d=function(t){return h.apply(this,arguments)},p=f(regeneratorRuntime.mark(function t(e){var r,o,a,s,l,f,h;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.default.getModel({path:e.path}).remote(),e.queuedForSync=!0,o=(0,i.default)(e.path),t.next=5,o.local().update(e);case 5:return t.next=7,(0,c.default)(r.insert(e));case 7:if(a=t.sent,s=n(a,2),l=s[0],f=s[1],!l){t.next=17;break}throw console.log(l),e.queuedForSync=!1,e.syncError=l,o.local().update(e),new Error("Error while Syncing data");case 17:if(f._id){t.next=19;break}throw Error("The remote endpoint did not save the submission properly (no _id back)");case 19:return t.next=21,(0,c.default)(o.local().remove(e._id));case 21:if(h=t.sent,!n(h,1)[0]){t.next=26;break}throw new Error("Sync error:Could not remove local submission after sync");case 26:return t.abrupt("return",!0);case 27:case"end":return t.stop()}},t,void 0)})),v=function(t){return p.apply(this,arguments)},Object.freeze({send:d}));e.default=y},function(t,e,r){t.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=2)}([function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){var n,o,i;o=[],void 0===(i="function"==typeof(n=function(){return function(){function t(t,e){if(this.app="loki",this.options=e||{},void 0!==t&&(this.app=t),this.catalog=null,!this.checkAvailability())throw new Error("indexedDB does not seem to be supported for your environment")}function e(t){this.db=null,this.initializeLokiCatalog(t)}return t.prototype.closeDatabase=function(){this.catalog&&this.catalog.db&&(this.catalog.db.close(),this.catalog.db=null)},t.prototype.checkAvailability=function(){return!("undefined"==typeof indexedDB||!indexedDB)},t.prototype.loadDatabase=function(t,r){var n=this.app,o=this;null!==this.catalog&&null!==this.catalog.db?this.catalog.getAppKey(n,t,function(t){if("function"==typeof r){if(0===t.id)return void r(null);r(t.val)}else console.log(t.val)}):this.catalog=new e(function(e){o.catalog=e,o.loadDatabase(t,r)})},t.prototype.loadKey=t.prototype.loadDatabase,t.prototype.saveDatabase=function(t,r,n){var o=this.app,i=this;function a(t){t&&!0===t.success?n(null):n(new Error("Error saving database")),i.options.closeAfterSave&&i.closeDatabase()}null!==this.catalog&&null!==this.catalog.db?this.catalog.setAppKey(o,t,r,a):this.catalog=new e(function(e){i.saveDatabase(t,r,a)})},t.prototype.saveKey=t.prototype.saveDatabase,t.prototype.deleteDatabase=function(t,r){var n=this.app,o=this;null!==this.catalog&&null!==this.catalog.db?this.catalog.getAppKey(n,t,function(t){var e=t.id;0!==e?o.catalog.deleteAppKey(e,r):"function"==typeof r&&r({success:!0})}):this.catalog=new e(function(e){o.catalog=e,o.deleteDatabase(t,r)})},t.prototype.deleteKey=t.prototype.deleteDatabase,t.prototype.deleteDatabasePartitions=function(t){var e=this;this.getDatabaseList(function(r){r.forEach(function(r){r.startsWith(t)&&e.deleteDatabase(r)})})},t.prototype.getDatabaseList=function(t){var r=this.app,n=this;null!==this.catalog&&null!==this.catalog.db?this.catalog.getAppKeys(r,function(e){for(var r=[],n=0;n<e.length;n++)r.push(e[n].key);"function"==typeof t?t(r):r.forEach(function(t){console.log(t)})}):this.catalog=new e(function(e){n.catalog=e,n.getDatabaseList(t)})},t.prototype.getKeyList=t.prototype.getDatabaseList,t.prototype.getCatalogSummary=function(t){this.app;var r=this;null!==this.catalog&&null!==this.catalog.db?this.catalog.getAllKeys(function(e){for(var r,n,o,i,a,s=[],u=0;u<e.length;u++)r=e[u],o=r.app||"",i=r.key||"",a=r.val||"",n=2*o.length+2*i.length+a.length+1,s.push({app:r.app,key:r.key,size:n});"function"==typeof t?t(s):s.forEach(function(t){console.log(t)})}):this.catalog=new e(function(e){r.catalog=e,r.getCatalogSummary(t)})},e.prototype.initializeLokiCatalog=function(t){var e=indexedDB.open("LokiCatalog",1),r=this;e.onupgradeneeded=function(t){var e=t.target.result;if(e.objectStoreNames.contains("LokiAKV")&&e.deleteObjectStore("LokiAKV"),!e.objectStoreNames.contains("LokiAKV")){var r=e.createObjectStore("LokiAKV",{keyPath:"id",autoIncrement:!0});r.createIndex("app","app",{unique:!1}),r.createIndex("key","key",{unique:!1}),r.createIndex("appkey","appkey",{unique:!0})}},e.onsuccess=function(e){r.db=e.target.result,"function"==typeof t&&t(r)},e.onerror=function(t){throw t}},e.prototype.getAppKey=function(t,e,r){var n,o=this.db.transaction(["LokiAKV"],"readonly"),i=o.objectStore("LokiAKV"),a=i.index("appkey"),s=t+","+e,u=a.get(s);u.onsuccess=(n=r,function(t){var e=t.target.result;null==e&&(e={id:0,success:!1}),"function"==typeof n?n(e):console.log(e)}),u.onerror=function(t){return function(e){if("function"!=typeof t)throw e;t({id:0,success:!1})}}(r)},e.prototype.getAppKeyById=function(t,e,r){var n=this.db.transaction(["LokiAKV"],"readonly"),o=n.objectStore("LokiAKV"),i=o.get(t);i.onsuccess=function(t,e){return function(r){"function"==typeof e?e(r.target.result,t):console.log(r.target.result)}}(r,e)},e.prototype.setAppKey=function(t,e,r,n){var o,i=this.db.transaction(["LokiAKV"],"readwrite"),a=i.objectStore("LokiAKV"),s=a.index("appkey"),u=t+","+e,c=s.get(u);c.onsuccess=function(o){var i=o.target.result;null==i?i={app:t,key:e,appkey:t+","+e,val:r}:i.val=r;var s,u=a.put(i);u.onerror=(s=n,function(t){"function"==typeof s?s({success:!1}):(console.error("LokiCatalog.setAppKey (set) onerror"),console.error(c.error))}),u.onsuccess=function(t){return function(e){"function"==typeof t&&t({success:!0})}}(n)},c.onerror=(o=n,function(t){"function"==typeof o?o({success:!1}):(console.error("LokiCatalog.setAppKey (get) onerror"),console.error(c.error))})},e.prototype.deleteAppKey=function(t,e){var r,n=this.db.transaction(["LokiAKV"],"readwrite"),o=n.objectStore("LokiAKV"),i=o.delete(t);i.onsuccess=(r=e,function(t){"function"==typeof r&&r({success:!0})}),i.onerror=function(t){return function(e){"function"==typeof t?t({success:!1}):(console.error("LokiCatalog.deleteAppKey raised onerror"),console.error(i.error))}}(e)},e.prototype.getAppKeys=function(t,e){var r,n=this.db.transaction(["LokiAKV"],"readonly"),o=n.objectStore("LokiAKV"),i=o.index("app"),a=IDBKeyRange.only(t),s=i.openCursor(a);s.onsuccess=function(t,e){return function(r){var n=r.target.result;if(n){var o=n.value;t.push(o),n.continue()}else"function"==typeof e?e(t):console.log(t)}}([],e),s.onerror=(r=e,function(t){"function"==typeof r?r(null):(console.error("LokiCatalog.getAppKeys raised onerror"),console.error(t))})},e.prototype.getAllKeys=function(t){var e,r=this.db.transaction(["LokiAKV"],"readonly"),n=r.objectStore("LokiAKV"),o=n.openCursor();o.onsuccess=function(t,e){return function(r){var n=r.target.result;if(n){var o=n.value;t.push(o),n.continue()}else"function"==typeof e?e(t):console.log(t)}}([],t),o.onerror=(e=t,function(t){"function"==typeof e&&e(null)})},t}()})?n.apply(e,o):n)||(t.exports=i)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=r(3),i=(n=o)&&n.__esModule?n:{default:n};e.default=i.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o=u(r(4)),i=u(r(8)),a=u(r(9)),s=r(12);function u(t){return t&&t.__esModule?t:{default:t}}function c(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}("next")})}}e.default=s.Interface.compose({methods:{get:function(){var t=this;return c(regeneratorRuntime.mark(function e(){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.prepareFilter(),e.next=3,t.getModel();case 3:return e.t0=r,e.t1=t.offsetNumber,e.t2=t.limitNumber,e.next=8,e.sent.chain().find(e.t0).offset(e.t1).limit(e.t2).data();case 8:return n=e.sent,n=t.jsApplySelect(n),n=t.jsApplyOrderBy(n),e.abrupt("return",n);case 12:case"end":return e.stop()}},e,t)}))()},prepareFilter:function(){var t=this,e={$and:[]},r={$or:[]},n={};return this.whereArray.length>0&&(this.whereArray.forEach(function(r){var n={};if(r[0].includes("["))throw new Error('Error in: "'+r[0]+'" "Where" close does not work with Array elements');n[r[0]]={};var o=t.getLokiOperator(r[1]);n[r[0]][o]=r[2],o.includes("$regex|")&&(delete n[r[0]][o],n[r[0]].$regex=o.replace("$regex|","").replace("{{$var}}",r[2])),e.$and.push(n)}),n=e),this.orWhereArray.length>0&&(this.orWhereArray.forEach(function(e){var n={};n[e[0]]={};var o=t.getLokiOperator(e[1]);n[e[0]][o]=e[2],o.includes("$regex|")&&(delete n[e[0]][o],n[e[0]].$regex=o.replace("$regex|","").replace("{{$var}}",e[2])),r.$or.push(n)}),n={$or:[e,r]}),n},getLokiOperator:function(t){if(!this.operators.includes(t))throw new Error('The "'+t+'" operator is not supported');var e={"=":"$eq","<":"$lt",">":"$gt","<=":"$lte",">=":"$gte","<>":"$ne","!=":"$ne",in:"$in",nin:"$nin",like:"$aeq",regexp:"$regex",startsWith:"$regex|^{{$var}}",endsWith:"$regex|{{$var}}$",contains:"$regex|{{$var}}"},r=i.default.get(function(){return e[t]},void 0);if(!r)throw new Error('The operator "'+t+'" is not supported in Loki ');return r},getModel:function(){var t=this;return c(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.default.get();case 2:return r=e.sent,e.abrupt("return",r.getCollection(t.name));case 4:case"end":return e.stop()}},e,t)}))()},all:function(){var t=this;return c(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getModel();case 2:return r=e.sent,e.abrupt("return",r.find());case 4:case"end":return e.stop()}},e,t)}))()},remove:function(t){var e=this;return c(regeneratorRuntime.mark(function r(){var n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(t){r.next=2;break}throw new Error("No id assign to remove().You must give and _id to delete");case 2:if(t.includes("_local")){r.next=4;break}throw new Error("You can`t delete non local submissions");case 4:return r.next=6,e.getModel();case 6:return n=r.sent,r.abrupt("return",n.findAndRemove({_id:t}));case 8:case"end":return r.stop()}},r,e)}))()},insert:function(t,e){var r=this;return c(regeneratorRuntime.mark(function n(){var o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!Array.isArray(t)){n.next=2;break}return n.abrupt("return",r.ArrayInsert(t,e));case 2:return t=i.default.cloneDeep(t),n.next=5,r.getModel();case 5:return o=n.sent,t._id=(0,a.default)()+"_local",n.abrupt("return",o.insert(t));case 8:case"end":return n.stop()}},n,r)}))()},update:function(t){var e=this;return c(regeneratorRuntime.mark(function r(){var o,i,a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(t._id){r.next=2;break}throw new Error("Loki connector error. Cannot update a Model without _id key");case 2:return r.next=4,e.getModel();case 4:return o=r.sent,t.modified=Math.round(+new Date/1e3),r.next=8,o.findOne({_id:t._id});case 8:return i=r.sent,a=n({},i,t),r.abrupt("return",o.update(a));case 11:case"end":return r.stop()}},r,e)}))()},updateOrCreate:function(t){var e=this;return c(regeneratorRuntime.mark(function r(){var n,o=t.document;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getModel();case 2:return n=t.sent,t.next=5,n.findOne(o);case 5:t.sent||n.insert(o);case 7:case"end":return t.stop()}},r,e)}))()},findAndRemove:function(t){var e=this;return c(regeneratorRuntime.mark(function r(){var n,o=t.filter;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getModel();case 2:return n=t.sent,t.abrupt("return",n.findAndRemove(o));case 4:case"end":return t.stop()}},r,e)}))()},clear:function(){var t=this;return c(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getModel();case 2:return r=e.sent,e.abrupt("return",r.clear({removeIndices:!0}));case 4:case"end":return e.stop()}},e,t)}))()}}})},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o=a(r(5)),i=a(r(1));function a(t){return t&&t.__esModule?t:{default:t}}"undefined"!=typeof navigator&&navigator.product;var s,u,c,l,f,h=null,p=(c=function(){return"undefined"!=typeof window&&window&&window._FLUENT_&&window._FLUENT_.models?window._FLUENT_.models:t&&t._FLUENT_&&t._FLUENT_.models?t._FLUENT_.models:void 0},l=function(){var t=c(),e=h.collections.reduce(function(t,e){return t.push(e.name),t},[]),r=[];return Object.keys(t).forEach(function(t){e.includes(t)||r.push(t)}),r},s=regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(h){t.next=4;break}return t.next=3,new Promise(function(t){var e=void 0,r=void 0,a=void 0,s={autosave:!0,autosaveInterval:1e3,autoload:!0,autoloadCallback:function(){var e=c();if(!e)throw new Error('Cannot Start FLUENT, no models registered or you dont have access to the "window" or "global" variable');Object.keys(e).forEach(function(t){var e=a.getCollection(t);e||a.addCollection(t)}),t(a)},throttledSaves:!1};try{e=new i.default("GOAT"),r=new o.default.LokiPartitioningAdapter(e,{paging:!0}),a=new o.default("GOAT",n({},s,{adapter:r}))}catch(t){"undefined"!=typeof navigator&&"ReactNative"==navigator.product?(adapter=new(void 0),a=new o.default("GOAT",n({},s,{adapter:adapter}))):a=new o.default("GOAT",s)}});case 3:h=t.sent;case 4:return(e=l()).length>0&&e.forEach(function(t){h.addCollection(t)}),t.abrupt("return",h);case 7:case"end":return t.stop()}},t,this)}),u=function(){var t=s.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});e(s)}("next")})},f=function(){return u.apply(this,arguments)},Object.freeze({get:f}));e.default=p}).call(this,r(0))},function(t,e,r){(function(n,o){var i,a,s;a=[],void 0===(s="function"==typeof(i=function(){return function(){"use strict";var t=Object.prototype.hasOwnProperty,e={copyProperties:function(t,e){var r;for(r in t)e[r]=t[r]},resolveTransformObject:function(t,r,n){var o,i;if("number"!=typeof n&&(n=0),++n>=10)return t;for(o in t)"string"==typeof t[o]&&0===t[o].indexOf("[%lktxp]")?(i=t[o].substring(8),r.hasOwnProperty(i)&&(t[o]=r[i])):"object"==typeof t[o]&&(t[o]=e.resolveTransformObject(t[o],r,n));return t},resolveTransformParams:function(t,r){var n,o,i=[];if(void 0===r)return t;for(n=0;n<t.length;n++)o=v(t[n],"shallow-recurse-objects"),i.push(e.resolveTransformObject(o,r));return i},getIn:function(t,e,r){if(null!=t){if(!r)return t[e];if("string"==typeof e&&(e=e.split(".")),!Array.isArray(e))throw new Error("path must be a string or array. Found "+typeof e);for(var n=0,o=e.length;null!=t&&n<o;)t=t[e[n++]];return n&&n==o?t:void 0}}},i={aeq:a,lt:s,gt:u};function a(t,e){var r,n,o,i;if(t===e)return!0;if(!t||!e||!0===t||!0===e||t!=t||e!=e){switch(t){case void 0:case null:o=1;break;case!1:o=3;break;case!0:o=4;break;case"":o=5;break;default:o=t==t?9:0}switch(e){case void 0:case null:i=1;break;case!1:i=3;break;case!0:i=4;break;case"":i=5;break;default:i=e==e?9:0}if(9!==o||9!==i)return o===i}return r=Number(t),n=Number(e),r==r||n==n?r===n:(r=t.toString(),n=e.toString(),r==n)}function s(t,e,r){var n,o,i,a;if(!t||!e||!0===t||!0===e||t!=t||e!=e){switch(t){case void 0:case null:i=1;break;case!1:i=3;break;case!0:i=4;break;case"":i=5;break;default:i=t==t?9:0}switch(e){case void 0:case null:a=1;break;case!1:a=3;break;case!0:a=4;break;case"":a=5;break;default:a=e==e?9:0}if(9!==i||9!==a)return i===a?r:i<a}return n=Number(t),o=Number(e),n==n&&o==o?n<o||!(n>o)&&r:n==n&&o!=o||(o!=o||n==n)&&(t<e||!(t>e)&&(t==e?r:(n=t.toString(),o=e.toString(),n<o||n==o&&r)))}function u(t,e,r){var n,o,i,a;if(!t||!e||!0===t||!0===e||t!=t||e!=e){switch(t){case void 0:case null:i=1;break;case!1:i=3;break;case!0:i=4;break;case"":i=5;break;default:i=t==t?9:0}switch(e){case void 0:case null:a=1;break;case!1:a=3;break;case!0:a=4;break;case"":a=5;break;default:a=e==e?9:0}if(9!==i||9!==a)return i===a?r:i>a}return n=Number(t),o=Number(e),n==n&&o==o?n>o||!(n<o)&&r:(n!=n||o==o)&&(o==o&&n!=n||t>e||!(t<e)&&(t==e?r:(n=t.toString(),o=e.toString(),n>o||n==o&&r)))}function c(t,e,r){return i.aeq(t,e)?0:i.lt(t,e,!1)?r?1:-1:i.gt(t,e,!1)?r?-1:1:0}function l(t,e,r,n,o){var i,a=o||0,s=e[a],u=!1;if("object"==typeof t&&s in t&&(i=t[s]),a+1>=e.length)u=r(i,n);else if(Array.isArray(i))for(var c=0,f=i.length;c<f&&!0!==(u=l(i[c],e,r,n,a+1));c+=1);else u=l(i,e,r,n,a+1);return u}function f(e){return"string"==typeof e||Array.isArray(e)?function(t){return-1!==e.indexOf(t)}:"object"==typeof e&&null!==e?function(r){return t.call(e,r)}:null}function h(e,r){for(var n in r)if(t.call(r,n))return p[n](e,r[n]);return!1}var p={$eq:function(t,e){return t===e},$aeq:function(t,e){return t==e},$ne:function(t,e){return e!=e?t==t:t!==e},$dteq:function(t,e){return i.aeq(t,e)},$gt:function(t,e){return i.gt(t,e,!1)},$gte:function(t,e){return i.gt(t,e,!0)},$lt:function(t,e){return i.lt(t,e,!1)},$lte:function(t,e){return i.lt(t,e,!0)},$jgt:function(t,e){return t>e},$jgte:function(t,e){return t>=e},$jlt:function(t,e){return t<e},$jlte:function(t,e){return t<=e},$between:function(t,e){return null!=t&&i.gt(t,e[0],!0)&&i.lt(t,e[1],!0)},$jbetween:function(t,e){return null!=t&&t>=e[0]&&t<=e[1]},$in:function(t,e){return-1!==e.indexOf(t)},$nin:function(t,e){return-1===e.indexOf(t)},$keyin:function(t,e){return t in e},$nkeyin:function(t,e){return!(t in e)},$definedin:function(t,e){return void 0!==e[t]},$undefinedin:function(t,e){return void 0===e[t]},$regex:function(t,e){return e.test(t)},$containsString:function(t,e){return"string"==typeof t&&-1!==t.indexOf(e)},$containsNone:function(t,e){return!p.$containsAny(t,e)},$containsAny:function(t,e){var r=f(t);return null!==r&&(Array.isArray(e)?e.some(r):r(e))},$contains:function(t,e){var r=f(t);return null!==r&&(Array.isArray(e)?e.every(r):r(e))},$type:function(t,e){var r=typeof t;return"object"===r&&(Array.isArray(t)?r="array":t instanceof Date&&(r="date")),"object"!=typeof e?r===e:h(r,e)},$finite:function(t,e){return e===isFinite(t)},$size:function(t,e){return!!Array.isArray(t)&&("object"!=typeof e?t.length===e:h(t.length,e))},$len:function(t,e){return"string"==typeof t&&("object"!=typeof e?t.length===e:h(t.length,e))},$where:function(t,e){return!0===e(t)},$not:function(t,e){return!h(t,e)},$and:function(t,e){for(var r=0,n=e.length;r<n;r+=1)if(!h(t,e[r]))return!1;return!0},$or:function(t,e){for(var r=0,n=e.length;r<n;r+=1)if(h(t,e[r]))return!0;return!1},$exists:function(t,e){return e?void 0!==t:void 0===t}},d={$eq:p.$eq,$aeq:!0,$dteq:!0,$gt:!0,$gte:!0,$lt:!0,$lte:!0,$in:!0,$between:!0};function v(t,e){if(null==t)return null;var r,n=e||"parse-stringify";switch(n){case"parse-stringify":r=JSON.parse(JSON.stringify(t));break;case"jquery-extend-deep":r=jQuery.extend(!0,{},t);break;case"shallow":r=Object.create(t.constructor.prototype),Object.keys(t).map(function(e){r[e]=t[e]});break;case"shallow-assign":r=Object.create(t.constructor.prototype),Object.assign(r,t);break;case"shallow-recurse-objects":r=v(t,"shallow");var o=Object.keys(t);o.forEach(function(e){"object"==typeof t[e]&&"Object"===t[e].constructor.name?r[e]=v(t[e],"shallow-recurse-objects"):Array.isArray(t[e])&&(r[e]=function(t,e){for(var r=[],n=0,o=t.length;n<o;n++)r[n]=v(t[n],"shallow-recurse-objects");return r}(t[e]))})}return r}function y(){try{return window&&void 0!==window.localStorage&&null!==window.localStorage}catch(t){return!1}}function m(){}function g(t,e){this.filename=t||"loki.db",this.collections=[],this.databaseVersion=1.5,this.engineVersion=1.5,this.autosave=!1,this.autosaveInterval=5e3,this.autosaveHandle=null,this.throttledSaves=!0,this.options={},this.persistenceMethod=null,this.persistenceAdapter=null,this.throttledSavePending=!1,this.throttledCallbacks=[],this.verbose=!(!e||!e.hasOwnProperty("verbose"))&&e.verbose,this.events={init:[],loaded:[],flushChanges:[],close:[],changes:[],warning:[]},e&&e.hasOwnProperty("env")?this.ENV=e.env:this.ENV=void 0!==n&&(n.android||n.NSObject)?"NATIVESCRIPT":"undefined"==typeof window?"NODEJS":void 0!==n&&n.window&&void 0!==o?"NODEJS":"undefined"!=typeof document?-1===document.URL.indexOf("http://")&&-1===document.URL.indexOf("https://")?"CORDOVA":"BROWSER":"CORDOVA","undefined"===this.ENV&&(this.ENV="NODEJS"),this.configureOptions(e,!0),this.on("init",this.clearChanges)}function b(t){this.hashStore={},this.options=t||{},this.options.hasOwnProperty("asyncResponses")||(this.options.asyncResponses=!1),this.options.hasOwnProperty("asyncTimeout")||(this.options.asyncTimeout=50)}function w(t,e){if(this.mode="reference",this.adapter=null,this.options=e||{},this.dbref=null,this.dbname="",this.pageIterator={},!t)throw new Error("LokiPartitioningAdapter requires a (non-reference mode) adapter on construction");if("reference"===t.mode)throw new Error("LokiPartitioningAdapter cannot be instantiated with a reference mode adapter");this.adapter=t,this.options.hasOwnProperty("paging")||(this.options.paging=!1),this.options.hasOwnProperty("pageSize")||(this.options.pageSize=26214400),this.options.hasOwnProperty("delimiter")||(this.options.delimiter="$<\n")}function x(){try{this.fs=r(7)}catch(t){this.fs=null}}function _(){}function k(t,e){return e=e||{},this.collection=t,this.filteredrows=[],this.filterInitialized=!1,this}function S(t,e,r){this.collection=t,this.name=e,this.rebuildPending=!1,this.options=r||{},this.options.hasOwnProperty("persistent")||(this.options.persistent=!1),this.options.hasOwnProperty("sortPriority")||(this.options.sortPriority="passive"),this.options.hasOwnProperty("minRebuildInterval")||(this.options.minRebuildInterval=1),this.resultset=new k(t),this.resultdata=[],this.resultsdirty=!1,this.cachedresultset=null,this.filterPipeline=[],this.sortFunction=null,this.sortCriteria=null,this.sortCriteriaSimple=null,this.sortDirty=!1,this.events={rebuild:[]}}function O(e,r){this.name=e,this.data=[],this.idIndex=[],this.binaryIndices={},this.constraints={unique:{},exact:{}},this.uniqueNames=[],this.transforms={},this.objType=e,this.dirty=!0,this.cachedIndex=null,this.cachedBinaryIndex=null,this.cachedData=null;var n=this;(r=r||{}).hasOwnProperty("unique")&&(Array.isArray(r.unique)||(r.unique=[r.unique]),r.unique.forEach(function(t){n.uniqueNames.push(t),n.constraints.unique[t]=new D(t)})),r.hasOwnProperty("exact")&&r.exact.forEach(function(t){n.constraints.exact[t]=new N(t)}),this.adaptiveBinaryIndices=!r.hasOwnProperty("adaptiveBinaryIndices")||r.adaptiveBinaryIndices,this.transactional=!!r.hasOwnProperty("transactional")&&r.transactional,this.cloneObjects=!!r.hasOwnProperty("clone")&&r.clone,this.cloneMethod=r.hasOwnProperty("cloneMethod")?r.cloneMethod:"parse-stringify",this.asyncListeners=!!r.hasOwnProperty("asyncListeners")&&r.asyncListeners,this.disableMeta=!!r.hasOwnProperty("disableMeta")&&r.disableMeta,this.disableChangesApi=!r.hasOwnProperty("disableChangesApi")||r.disableChangesApi,this.disableDeltaChangesApi=!r.hasOwnProperty("disableDeltaChangesApi")||r.disableDeltaChangesApi,this.disableChangesApi&&(this.disableDeltaChangesApi=!0),this.autoupdate=!!r.hasOwnProperty("autoupdate")&&r.autoupdate,this.serializableIndices=!r.hasOwnProperty("serializableIndices")||r.serializableIndices,this.ttl={age:null,ttlInterval:null,daemon:null},this.setTTL(r.ttl||-1,r.ttlInterval),this.maxId=0,this.DynamicViews=[],this.events={insert:[],update:[],"pre-insert":[],"pre-update":[],close:[],flushbuffer:[],error:[],delete:[],warning:[]},this.changes=[],this.ensureId();var o=[];if(r&&r.indices)if("[object Array]"===Object.prototype.toString.call(r.indices))o=r.indices;else{if("string"!=typeof r.indices)throw new TypeError("Indices needs to be a string or an array of strings");o=[r.indices]}for(var i=0;i<o.length;i++)this.ensureIndex(o[i]);function a(t,e){var r=null!==e&&"object"==typeof e?Object.keys(e):null;if(r&&r.length&&["string","boolean","number"].indexOf(typeof e)<0){for(var o={},i=0;i<r.length;i++){var s=r[i];if(e.hasOwnProperty(s))if(!t.hasOwnProperty(s)||n.uniqueNames.indexOf(s)>=0||"$loki"==s||"meta"==s)o[s]=e[s];else{var u=a(t[s],e[s]);void 0!==u&&u!={}&&(o[s]=u)}}return 0===Object.keys(o).length?void 0:o}return t===e?void 0:e}function s(){n.changes=[]}this.observerCallback=function(e){var r="function"==typeof Set?new Set:[];r.add||(r.add=function(t){return-1===this.indexOf(t)&&this.push(t),this}),e.forEach(function(t){r.add(t.object)}),r.forEach(function(e){if(!t.call(e,"$loki"))return n.removeAutoUpdateObserver(e);try{n.update(e)}catch(t){}})},this.getChangeDelta=function(t,e){return e?a(e,t):JSON.parse(JSON.stringify(t))},this.getObjectDelta=a,this.getChanges=function(){return n.changes},this.flushChanges=s,this.setChangesApi=function(t){n.disableChangesApi=!t,t||(n.disableDeltaChangesApi=!1)},this.on("delete",function(t){n.disableChangesApi||n.createChange(n.name,"R",t)}),this.on("warning",function(t){n.console.warn(t)}),s()}function E(t){return-1!==t.indexOf(".")}function P(t){return parseFloat(t,10)}function A(t,e){return t+e}function C(t,e){return t-e}function T(t){return t.reduce(A,0)/t.length}function R(t,e,r){if(!1===r)return t[e];for(var n=e.split("."),o=t;n.length>0;)o=o[n.shift()];return o}function M(t,e,r){for(var n,o,i=0,a=t.length;i<a;){if(o=i+a>>1,0===(n=r.apply(null,[e,t[o]])))return{found:!0,index:o};n<0?a=o:i=o+1}return{found:!1,index:a}}function j(t){return function(e,r){return M(e,r,t)}}function I(){}function D(t){this.field=t,this.keyMap={},this.lokiMap={}}function N(t){this.index={},this.field=t}return m.prototype.events={},m.prototype.asyncListeners=!1,m.prototype.on=function(t,e){var r,n=this;return Array.isArray(t)?(t.forEach(function(t){n.on(t,e)}),e):((r=this.events[t])||(r=this.events[t]=[]),r.push(e),e)},m.prototype.emit=function(t){var e=this,r=Array.prototype.slice.call(arguments,1);if(!t||!this.events[t])throw new Error("No event "+t+" defined");this.events[t].forEach(function(t){e.asyncListeners?setTimeout(function(){t.apply(e,r)},1):t.apply(e,r)})},m.prototype.addListener=m.prototype.on,m.prototype.removeListener=function(t,e){var r=this;if(Array.isArray(t))t.forEach(function(t){r.removeListener(t,e)});else if(this.events[t]){var n=this.events[t];n.splice(n.indexOf(e),1)}},g.prototype=new m,g.prototype.constructor=g,g.prototype.getIndexedAdapter=function(){return r(1)},g.prototype.configureOptions=function(t,e){var r={fs:x,localStorage:_,memory:b};if(this.options={},this.persistenceMethod=null,this.persistenceAdapter=null,void 0!==t){if(this.options=t,this.options.hasOwnProperty("persistenceMethod")&&"function"==typeof r[t.persistenceMethod]&&(this.persistenceMethod=t.persistenceMethod,this.persistenceAdapter=new r[t.persistenceMethod]),this.options.hasOwnProperty("adapter")&&(this.persistenceMethod="adapter",this.persistenceAdapter=t.adapter,this.options.adapter=null),t.autoload&&e){var n=this;setTimeout(function(){n.loadDatabase(t,t.autoloadCallback)},1)}this.options.hasOwnProperty("autosaveInterval")&&(this.autosaveDisable(),this.autosaveInterval=parseInt(this.options.autosaveInterval,10)),this.options.hasOwnProperty("autosave")&&this.options.autosave&&(this.autosaveDisable(),this.autosave=!0,this.options.hasOwnProperty("autosaveCallback")?this.autosaveEnable(t,t.autosaveCallback):this.autosaveEnable()),this.options.hasOwnProperty("throttledSaves")&&(this.throttledSaves=this.options.throttledSaves)}this.options.hasOwnProperty("serializationMethod")||(this.options.serializationMethod="normal"),this.options.hasOwnProperty("destructureDelimiter")||(this.options.destructureDelimiter="$<\n"),null===this.persistenceAdapter&&(this.persistenceMethod={NODEJS:"fs",BROWSER:"localStorage",CORDOVA:"localStorage",MEMORY:"memory"}[this.ENV],this.persistenceMethod&&(this.persistenceAdapter=new r[this.persistenceMethod]))},g.prototype.copy=function(t){var e,r,n=new g(this.filename,{env:"NA"});if(t=t||{},n.loadJSONObject(this,{retainDirtyFlags:!0}),t.hasOwnProperty("removeNonSerializable")&&!0===t.removeNonSerializable)for(n.autosaveHandle=null,n.persistenceAdapter=null,e=n.collections.length,r=0;r<e;r++)n.collections[r].constraints=null,n.collections[r].ttl=null;return n},g.prototype.addCollection=function(t,e){var r,n=this.collections.length;if(e&&!0===e.disableMeta){if(!1===e.disableChangesApi)throw new Error("disableMeta option cannot be passed as true when disableChangesApi is passed as false");if(!1===e.disableDeltaChangesApi)throw new Error("disableMeta option cannot be passed as true when disableDeltaChangesApi is passed as false");if("number"==typeof e.ttl&&e.ttl>0)throw new Error("disableMeta option cannot be passed as true when ttl is enabled")}for(r=0;r<n;r+=1)if(this.collections[r].name===t)return this.collections[r];var o=new O(t,e);return this.collections.push(o),this.verbose&&(o.console=console),o},g.prototype.loadCollection=function(t){if(!t.name)throw new Error("Collection must have a name property to be loaded");this.collections.push(t)},g.prototype.getCollection=function(t){var e,r=this.collections.length;for(e=0;e<r;e+=1)if(this.collections[e].name===t)return this.collections[e];return this.emit("warning","collection "+t+" not found"),null},g.prototype.renameCollection=function(t,e){var r=this.getCollection(t);return r&&(r.name=e),r},g.prototype.listCollections=function(){for(var t=this.collections.length,e=[];t--;)e.push({name:this.collections[t].name,type:this.collections[t].objType,count:this.collections[t].data.length});return e},g.prototype.removeCollection=function(t){var e,r=this.collections.length;for(e=0;e<r;e+=1)if(this.collections[e].name===t){var n=new O(t,{}),o=this.collections[e];for(var i in o)o.hasOwnProperty(i)&&n.hasOwnProperty(i)&&(o[i]=n[i]);return void this.collections.splice(e,1)}},g.prototype.getName=function(){return this.name},g.prototype.serializeReplacer=function(t,e){switch(t){case"autosaveHandle":case"persistenceAdapter":case"constraints":case"ttl":return null;case"throttledSavePending":case"throttledCallbacks":return;default:return e}},g.prototype.serialize=function(t){switch((t=t||{}).hasOwnProperty("serializationMethod")||(t.serializationMethod=this.options.serializationMethod),t.serializationMethod){case"normal":return JSON.stringify(this,this.serializeReplacer);case"pretty":return JSON.stringify(this,this.serializeReplacer,2);case"destructured":return this.serializeDestructured();default:return JSON.stringify(this,this.serializeReplacer)}},g.prototype.toJson=g.prototype.serialize,g.prototype.serializeDestructured=function(t){var e,r,n,o,i,a=[];if((t=t||{}).hasOwnProperty("partitioned")||(t.partitioned=!1),t.hasOwnProperty("delimited")||(t.delimited=!0),t.hasOwnProperty("delimiter")||(t.delimiter=this.options.destructureDelimiter),!0===t.partitioned&&t.hasOwnProperty("partition")&&t.partition>=0)return this.serializeCollection({delimited:t.delimited,delimiter:t.delimiter,collectionIndex:t.partition});for((i=new g(this.filename)).loadJSONObject(this),e=0;e<i.collections.length;e++)i.collections[e].data=[];if(!0===t.partitioned&&-1===t.partition)return i.serialize({serializationMethod:"normal"});for(a.push(i.serialize({serializationMethod:"normal"})),i=null,e=0;e<this.collections.length;e++)if(n=this.serializeCollection({delimited:t.delimited,delimiter:t.delimiter,collectionIndex:e}),!1===t.partitioned&&!1===t.delimited){if(!Array.isArray(n))throw new Error("a nondelimited, non partitioned collection serialization did not return an expected array");for(o=n.length,r=0;r<o;r++)a.push(n[r]),n[r]=null;a.push("")}else a.push(n);return t.partitioned?(t.delimited,a):t.delimited?(a.push(""),a.join(t.delimiter)):(a.push(""),a)},g.prototype.serializeCollection=function(t){var e,r,n=[];if((t=t||{}).hasOwnProperty("delimited")||(t.delimited=!0),!t.hasOwnProperty("collectionIndex"))throw new Error("serializeCollection called without 'collectionIndex' option");for(e=this.collections[t.collectionIndex].data.length,n=[],r=0;r<e;r++)n.push(JSON.stringify(this.collections[t.collectionIndex].data[r]));return t.delimited?(n.push(""),n.join(t.delimiter)):n},g.prototype.deserializeDestructured=function(t,e){var r,n,o,i=[],a=0,s=1,u=!1;if((e=e||{}).hasOwnProperty("partitioned")||(e.partitioned=!1),e.hasOwnProperty("delimited")||(e.delimited=!0),e.hasOwnProperty("delimiter")||(e.delimiter=this.options.destructureDelimiter),e.partitioned){if(e.hasOwnProperty("partition"))return-1===e.partition?r=JSON.parse(t[0]):this.deserializeCollection(t[e.partition+1],e);for(r=JSON.parse(t[0]),n=r.collections.length,a=0;a<n;a++)r.collections[a].data=this.deserializeCollection(t[a+1],e);return r}if(e.delimited){if(i=t.split(e.delimiter),t=null,0===i.length)return null}else i=t;for(r=JSON.parse(i[0]),n=r.collections.length,i[0]=null;!u;)i[s],""===i[s]?++a>n&&(u=!0):(o=JSON.parse(i[s]),r.collections[a].data.push(o)),i[s++]=null;return r},g.prototype.deserializeCollection=function(t,e){var r,n,o=[];for((e=e||{}).hasOwnProperty("partitioned")||(e.partitioned=!1),e.hasOwnProperty("delimited")||(e.delimited=!0),e.hasOwnProperty("delimiter")||(e.delimiter=this.options.destructureDelimiter),e.delimited?(o=t.split(e.delimiter)).pop():o=t,n=o.length,r=0;r<n;r++)o[r]=JSON.parse(o[r]);return o},g.prototype.loadJSON=function(t,e){var r;if(0===t.length)r={};else switch(this.options.serializationMethod){case"normal":case"pretty":r=JSON.parse(t);break;case"destructured":r=this.deserializeDestructured(t);break;default:r=JSON.parse(t)}this.loadJSONObject(r,e)},g.prototype.loadJSONObject=function(t,r){var n,o,i,a,s,u,c=0,l=t.collections?t.collections.length:0;function f(t){var n,o=r[t.name];return o.proto?(n=o.inflate||e.copyProperties,function(t){var e=new o.proto;return n(t,e),e}):o.inflate}for(this.name=t.name,t.hasOwnProperty("throttledSaves")&&r&&!r.hasOwnProperty("throttledSaves")&&(this.throttledSaves=t.throttledSaves),this.collections=[];c<l;c+=1){if(n=t.collections[c],(o=this.addCollection(n.name,{disableChangesApi:n.disableChangesApi,disableDeltaChangesApi:n.disableDeltaChangesApi,disableMeta:n.disableMeta})).adaptiveBinaryIndices=!!n.hasOwnProperty("adaptiveBinaryIndices")&&!0===n.adaptiveBinaryIndices,o.transactional=n.transactional,o.asyncListeners=n.asyncListeners,o.cloneObjects=n.cloneObjects,o.cloneMethod=n.cloneMethod||"parse-stringify",o.autoupdate=n.autoupdate,o.changes=n.changes,r&&!0===r.retainDirtyFlags?o.dirty=n.dirty:o.dirty=!1,i=n.data.length,a=0,r&&r.hasOwnProperty(n.name))for(s=f(n);a<i;a++)u=s(n.data[a]),o.data[a]=u,o.addAutoUpdateObserver(u);else for(;a<i;a++)o.data[a]=n.data[a],o.addAutoUpdateObserver(o.data[a]);if(o.maxId=void 0===n.maxId?0:n.maxId,o.idIndex=n.idIndex,void 0!==n.binaryIndices&&(o.binaryIndices=n.binaryIndices),void 0!==n.transforms&&(o.transforms=n.transforms),o.ensureId(),o.uniqueNames=[],n.hasOwnProperty("uniqueNames"))for(o.uniqueNames=n.uniqueNames,a=0;a<o.uniqueNames.length;a++)o.ensureUniqueIndex(o.uniqueNames[a]);if(void 0!==n.DynamicViews){for(var h=0;h<n.DynamicViews.length;h++){var p=n.DynamicViews[h],d=o.addDynamicView(p.name,p.options);d.resultdata=p.resultdata,d.resultsdirty=p.resultsdirty,d.filterPipeline=p.filterPipeline,d.sortCriteria=p.sortCriteria,d.sortFunction=null,d.sortDirty=p.sortDirty,d.resultset.filteredrows=p.resultset.filteredrows,d.resultset.filterInitialized=p.resultset.filterInitialized,d.rematerialize({removeWhereFilters:!0})}t.databaseVersion<1.5&&(o.ensureAllIndexes(!0),o.dirty=!0)}}},g.prototype.close=function(t){this.autosave&&(this.autosaveDisable(),this.autosaveDirty()&&(this.saveDatabase(t),t=void 0)),t&&this.on("close",t),this.emit("close")},g.prototype.generateChangesNotification=function(t){function e(t){return t.name}var r=[],n=t||this.collections.map(e);return this.collections.forEach(function(t){-1!==n.indexOf(e(t))&&(r=r.concat(t.getChanges()))}),r},g.prototype.serializeChanges=function(t){return JSON.stringify(this.generateChangesNotification(t))},g.prototype.clearChanges=function(){this.collections.forEach(function(t){t.flushChanges&&t.flushChanges()})},b.prototype.loadDatabase=function(t,e){var r=this;this.options.asyncResponses?setTimeout(function(){r.hashStore.hasOwnProperty(t)?e(r.hashStore[t].value):e(null)},this.options.asyncTimeout):this.hashStore.hasOwnProperty(t)?e(this.hashStore[t].value):e(null)},b.prototype.saveDatabase=function(t,e,r){var n,o=this;this.options.asyncResponses?setTimeout(function(){n=o.hashStore.hasOwnProperty(t)?o.hashStore[t].savecount:0,o.hashStore[t]={savecount:n+1,lastsave:new Date,value:e},r()},this.options.asyncTimeout):(n=this.hashStore.hasOwnProperty(t)?this.hashStore[t].savecount:0,this.hashStore[t]={savecount:n+1,lastsave:new Date,value:e},r())},b.prototype.deleteDatabase=function(t,e){this.hashStore.hasOwnProperty(t)&&delete this.hashStore[t],"function"==typeof e&&e()},w.prototype.loadDatabase=function(t,e){var r=this;this.dbname=t,this.dbref=new g(t),this.adapter.loadDatabase(t,function(t){if(t){"string"!=typeof t&&e(new Error("LokiPartitioningAdapter received an unexpected response from inner adapter loadDatabase()"));var n=JSON.parse(t);r.dbref.loadJSONObject(n),n=null,r.dbref.collections.length,0!==r.dbref.collections.length?(r.pageIterator={collection:0,pageIndex:0},r.loadNextPartition(0,function(){e(r.dbref)})):e(r.dbref)}else e(t)})},w.prototype.loadNextPartition=function(t,e){var r=this.dbname+"."+t,n=this;if(!0===this.options.paging)return this.pageIterator.pageIndex=0,void this.loadNextPage(e);this.adapter.loadDatabase(r,function(r){var o=n.dbref.deserializeCollection(r,{delimited:!0,collectionIndex:t});n.dbref.collections[t].data=o,++t<n.dbref.collections.length?n.loadNextPartition(t,e):e()})},w.prototype.loadNextPage=function(t){var e=this.dbname+"."+this.pageIterator.collection+"."+this.pageIterator.pageIndex,r=this;this.adapter.loadDatabase(e,function(e){var n=e.split(r.options.delimiter);e="";var o,i=n.length,a=""===n[i-1];for(a&&(n.pop(),i=n.length,""===n[i-1]&&1===i&&(n.pop(),i=n.length)),o=0;o<i;o++)r.dbref.collections[r.pageIterator.collection].data.push(JSON.parse(n[o])),n[o]=null;n=[],a?++r.pageIterator.collection<r.dbref.collections.length?r.loadNextPartition(r.pageIterator.collection,t):t():(r.pageIterator.pageIndex++,r.loadNextPage(t))})},w.prototype.exportDatabase=function(t,e,r){var n,o=e.collections.length;for(this.dbref=e,this.dbname=t,this.dirtyPartitions=[-1],n=0;n<o;n++)e.collections[n].dirty&&this.dirtyPartitions.push(n);this.saveNextPartition(function(t){r(t)})},w.prototype.saveNextPartition=function(t){var e=this,r=this.dirtyPartitions.shift(),n=this.dbname+(-1===r?"":"."+r);if(this.options.paging&&-1!==r)return this.pageIterator={collection:r,docIndex:0,pageIndex:0},void this.saveNextPage(function(r){0===e.dirtyPartitions.length?t(r):e.saveNextPartition(t)});var o=this.dbref.serializeDestructured({partitioned:!0,delimited:!0,partition:r});this.adapter.saveDatabase(n,o,function(r){r?t(r):0===e.dirtyPartitions.length?t(null):e.saveNextPartition(t)})},w.prototype.saveNextPage=function(t){var e=this,r=this.dbref.collections[this.pageIterator.collection],n=this.dbname+"."+this.pageIterator.collection+"."+this.pageIterator.pageIndex,o=0,i=r.data.length,a=this.options.delimiter.length,s="",u="",c=!1,l=!1,f=function(r){u="",r&&t(r),c?t(null):(e.pageIterator.pageIndex++,e.saveNextPage(t))};for(0===r.data.length&&(c=!0);;)if(c||(s=JSON.stringify(r.data[this.pageIterator.docIndex]),u+=s,o+=s.length,++this.pageIterator.docIndex>=i&&(c=!0)),o>=this.options.pageSize&&(l=!0),l&&!c||(u+=this.options.delimiter,o+=a),c||l)return void this.adapter.saveDatabase(n,u,f)},x.prototype.loadDatabase=function(t,e){var r=this;this.fs.stat(t,function(n,o){!n&&o.isFile()?r.fs.readFile(t,{encoding:"utf8"},function(t,r){e(t?new Error(t):r)}):e(null)})},x.prototype.saveDatabase=function(t,e,r){var n=this,o=t+"~";this.fs.writeFile(o,e,function(e){e?r(new Error(e)):n.fs.rename(o,t,r)})},x.prototype.deleteDatabase=function(t,e){this.fs.unlink(t,function(t){t?e(new Error(t)):e()})},_.prototype.loadDatabase=function(t,e){y()?e(localStorage.getItem(t)):e(new Error("localStorage is not available"))},_.prototype.saveDatabase=function(t,e,r){y()?(localStorage.setItem(t,e),r(null)):r(new Error("localStorage is not available"))},_.prototype.deleteDatabase=function(t,e){y()?(localStorage.removeItem(t),e(null)):e(new Error("localStorage is not available"))},g.prototype.throttledSaveDrain=function(t,e){var r=this,n=(new Date).getTime();if(this.throttledSaves||t(!0),(e=e||{}).hasOwnProperty("recursiveWait")||(e.recursiveWait=!0),e.hasOwnProperty("recursiveWaitLimit")||(e.recursiveWaitLimit=!1),e.hasOwnProperty("recursiveWaitLimitDuration")||(e.recursiveWaitLimitDuration=2e3),e.hasOwnProperty("started")||(e.started=(new Date).getTime()),this.throttledSaves&&this.throttledSavePending){if(!e.recursiveWait)return void this.throttledCallbacks.push(t);this.throttledCallbacks.push(function(){return r.throttledSavePending?e.recursiveWaitLimit&&n-e.started>e.recursiveWaitLimitDuration?void t(!1):void r.throttledSaveDrain(t,e):void t(!0)})}else t(!0)},g.prototype.loadDatabaseInternal=function(t,e){var r=e||function(t,e){if(t)throw t},n=this;null!==this.persistenceAdapter?this.persistenceAdapter.loadDatabase(this.filename,function(e){if("string"==typeof e){var o=!1;try{n.loadJSON(e,t||{}),o=!0}catch(t){r(t)}o&&(r(null),n.emit("loaded","database "+n.filename+" loaded"))}else{if(!e)return r(null),void n.emit("loaded","empty database "+n.filename+" loaded");if(e instanceof Error)return void r(e);if("object"==typeof e)return n.loadJSONObject(e,t||{}),r(null),void n.emit("loaded","database "+n.filename+" loaded");r("unexpected adapter response : "+e)}}):r(new Error("persistenceAdapter not configured"))},g.prototype.loadDatabase=function(t,e){var r=this;this.throttledSaves?this.throttledSaveDrain(function(n){if(n)return r.throttledSavePending=!0,void r.loadDatabaseInternal(t,function(t){0===r.throttledCallbacks.length?r.throttledSavePending=!1:r.saveDatabase(),"function"==typeof e&&e(t)});"function"==typeof e&&e(new Error("Unable to pause save throttling long enough to read database"))},t):this.loadDatabaseInternal(t,e)},g.prototype.saveDatabaseInternal=function(t){var e=t||function(t){if(t)throw t},r=this;null!==this.persistenceAdapter?"reference"===this.persistenceAdapter.mode&&"function"==typeof this.persistenceAdapter.exportDatabase?this.persistenceAdapter.exportDatabase(this.filename,this.copy({removeNonSerializable:!0}),function(t){r.autosaveClearFlags(),e(t)}):(r.autosaveClearFlags(),this.persistenceAdapter.saveDatabase(this.filename,r.serialize(),function(t){e(t)})):e(new Error("persistenceAdapter not configured"))},g.prototype.saveDatabase=function(t){if(this.throttledSaves)if(this.throttledSavePending)this.throttledCallbacks.push(t);else{var e=this.throttledCallbacks;this.throttledCallbacks=[],e.unshift(t),this.throttledSavePending=!0;var r=this;this.saveDatabaseInternal(function(t){r.throttledSavePending=!1,e.forEach(function(e){"function"==typeof e&&setTimeout(function(){e(t)},1)}),r.throttledCallbacks.length>0&&r.saveDatabase()})}else this.saveDatabaseInternal(t)},g.prototype.save=g.prototype.saveDatabase,g.prototype.deleteDatabase=function(t,e){var r=e||function(t,e){if(t)throw t};"function"!=typeof t||e||(r=t),null!==this.persistenceAdapter?this.persistenceAdapter.deleteDatabase(this.filename,function(t){r(t)}):r(new Error("persistenceAdapter not configured"))},g.prototype.autosaveDirty=function(){for(var t=0;t<this.collections.length;t++)if(this.collections[t].dirty)return!0;return!1},g.prototype.autosaveClearFlags=function(){for(var t=0;t<this.collections.length;t++)this.collections[t].dirty=!1},g.prototype.autosaveEnable=function(t,e){this.autosave=!0;var r=5e3,n=this;void 0!==this.autosaveInterval&&null!==this.autosaveInterval&&(r=this.autosaveInterval),this.autosaveHandle=setInterval(function(){n.autosaveDirty()&&n.saveDatabase(e)},r)},g.prototype.autosaveDisable=function(){void 0!==this.autosaveHandle&&null!==this.autosaveHandle&&(clearInterval(this.autosaveHandle),this.autosaveHandle=null)},k.prototype.reset=function(){return this.filteredrows.length>0&&(this.filteredrows=[]),this.filterInitialized=!1,this},k.prototype.toJSON=function(){var t=this.copy();return t.collection=null,t},k.prototype.limit=function(t){this.filterInitialized||0!==this.filteredrows.length||(this.filteredrows=this.collection.prepareFullDocIndex());var e=new k(this.collection);return e.filteredrows=this.filteredrows.slice(0,t),e.filterInitialized=!0,e},k.prototype.offset=function(t){this.filterInitialized||0!==this.filteredrows.length||(this.filteredrows=this.collection.prepareFullDocIndex());var e=new k(this.collection);return e.filteredrows=this.filteredrows.slice(t),e.filterInitialized=!0,e},k.prototype.copy=function(){var t=new k(this.collection);return this.filteredrows.length>0&&(t.filteredrows=this.filteredrows.slice()),t.filterInitialized=this.filterInitialized,t},k.prototype.branch=k.prototype.copy,k.prototype.transform=function(t,r){var n,o,i=this;if("string"==typeof t&&this.collection.transforms.hasOwnProperty(t)&&(t=this.collection.transforms[t]),"object"!=typeof t||!Array.isArray(t))throw new Error("Invalid transform");for(void 0!==r&&(t=e.resolveTransformParams(t,r)),n=0;n<t.length;n++)switch((o=t[n]).type){case"find":i.find(o.value);break;case"where":i.where(o.value);break;case"simplesort":i.simplesort(o.property,o.desc||o.options);break;case"compoundsort":i.compoundsort(o.value);break;case"sort":i.sort(o.value);break;case"limit":i=i.limit(o.value);break;case"offset":i=i.offset(o.value);break;case"map":i=i.map(o.value,o.dataOptions);break;case"eqJoin":i=i.eqJoin(o.joinData,o.leftJoinKey,o.rightJoinKey,o.mapFun,o.dataOptions);break;case"mapReduce":i=i.mapReduce(o.mapFunction,o.reduceFunction);break;case"update":i.update(o.value);break;case"remove":i.remove()}return i},k.prototype.sort=function(t){this.filterInitialized||0!==this.filteredrows.length||(this.filteredrows=this.collection.prepareFullDocIndex());var e,r,n=(e=t,r=this.collection.data,function(t,n){return e(r[t],r[n])});return this.filteredrows.sort(n),this},k.prototype.simplesort=function(t,r){var n,o=10,i=this.collection.data.length,a=this.filteredrows.length,s=this.collection.binaryIndices.hasOwnProperty(t);if(void 0!==r&&!1!==r||(r={desc:!1}),!0===r&&(r={desc:!0}),0===a){if(this.filterInitialized)return this;if(this.collection.binaryIndices.hasOwnProperty(t))return this.collection.ensureIndex(t),this.filteredrows=this.collection.binaryIndices[t].values.slice(0),r.desc&&this.filteredrows.reverse(),this;this.filteredrows=this.collection.prepareFullDocIndex()}else if(!r.disableIndexIntersect&&s&&(n=i/a,r.useJavascriptSorting&&(o=6),n<=o||r.forceIndexIntersect)){var u,l=this.filteredrows,f={};for(u=0;u<a;u++)f[l[u]]=!0;var h=this.collection.binaryIndices[t].values;return this.filteredrows=h.filter(function(t){return f[t]}),r.desc&&this.filteredrows.reverse(),this}if(r.useJavascriptSorting)return this.sort(function(e,r){return e[t]===r[t]?0:e[t]>r[t]?1:e[t]<r[t]?-1:void 0});var p,d,v,y,m,g,b=(p=t,d=r.desc,v=this.collection.data,function(t,r){return~p.indexOf(".")?(g=p.split("."),y=e.getIn(v[t],g,!0),m=e.getIn(v[r],g,!0)):(y=v[t][p],m=v[r][p]),c(y,m,d)});return this.filteredrows.sort(b),this},k.prototype.compoundsort=function(t){if(0===t.length)throw new Error("Invalid call to compoundsort, need at least one property");var r;if(1===t.length)return r=t[0],Array.isArray(r)?this.simplesort(r[0],r[1]):this.simplesort(r,!1);for(var n=0,o=t.length;n<o;n+=1)r=t[n],Array.isArray(r)||(t[n]=[r,!1]);this.filterInitialized||0!==this.filteredrows.length||(this.filteredrows=this.collection.prepareFullDocIndex());var i,a,s=(i=t,a=this.collection.data,function(t,r){return function(t,r,n){for(var o,i,a,s,u,l=0,f=0,h=t.length;f<h;f++)if(o=t[f],~(i=o[0]).indexOf(".")?(u=i.split("."),a=e.getIn(r,u,!0),s=e.getIn(n,u,!0)):(a=r[i],s=n[i]),0!==(l=c(a,s,o[1])))return l;return 0}(i,a[t],a[r])});return this.filteredrows.sort(s),this},k.prototype.findOr=function(t){for(var e=null,r=0,n=0,o=[],i=[],a=0,s=this.count(),u=0,c=t.length;u<c;u++){if(e=this.branch().find(t[u]).filteredrows,(n=e.length)===s)return this;for(r=0;r<n;r++)a=e[r],void 0===i[a]&&(i[a]=!0,o.push(a))}return this.filteredrows=o,this.filterInitialized=!0,this},k.prototype.$or=k.prototype.findOr,k.prototype.findAnd=function(t){for(var e=0,r=t.length;e<r;e++){if(0===this.count())return this;this.find(t[e])}return this},k.prototype.$and=k.prototype.findAnd,k.prototype.find=function(r,n){if(0===this.collection.data.length)return this.filteredrows=[],this.filterInitialized=!0,this;var o,i,a,s,u,c,f,h=r||"getAll",v=!1,y=[],m=[],g=null;if(n=n||!1,"object"==typeof h){for(o in h)(s={})[o]=h[o],m.push(s),t.call(h,o)&&(i=o,a=h[o]);if(m.length>1)return this.find({$and:m},n)}if(!i||"getAll"===h)return n&&(this.filteredrows=this.collection.data.length>0?[0]:[],this.filterInitialized=!0),this;if("$and"===i||"$or"===i)return this[i](a),n&&this.filteredrows.length>1&&(this.filteredrows=this.filteredrows.slice(0,1)),this;if(null===a||"object"!=typeof a||a instanceof Date)u="$eq",c=a;else{if("object"!=typeof a)throw new Error("Do not know what you want to do.");for(f in a)if(t.call(a,f)){u=f,c=a[f];break}}"$regex"!==u&&"object"!=typeof c||(c=function t(e,r){if("$regex"===e)Array.isArray(r)?r=new RegExp(r[0],r[1]):r instanceof RegExp||(r=new RegExp(r));else if("object"==typeof r)for(var n in r)"$regex"!==n&&"object"!=typeof r[n]||(r[n]=t(n,r[n]));return r}(u,c));var b=-1!==i.indexOf("."),w=!this.filterInitialized;w&&this.collection.binaryIndices[i]&&d[u]&&(!0!==this.collection.adaptiveBinaryIndices&&this.collection.ensureIndex(i),v=!0,g=this.collection.binaryIndices[i]);var x,_=p[u],k=this.collection.data,S=0,O=0,E=0;if(this.filterInitialized)if(x=this.filteredrows,O=x.length,b)for(i=i.split("."),S=0;S<O;S++)E=x[S],l(k[E],i,_,c)&&y.push(E);else for(S=0;S<O;S++)E=x[S],_(k[E][i],c)&&y.push(E);else if(v){var P=this.collection.calculateRange(u,i,c);if("$in"!==u){for(S=P[0];S<=P[1];S++)if(!0!==d[u]){if(d[u](e.getIn(k[g.values[S]],i,b),c)&&(y.push(g.values[S]),n))return this.filteredrows=y,this.filterInitialized=!0,this}else if(y.push(g.values[S]),n)return this.filteredrows=y,this.filterInitialized=!0,this}else for(S=0,O=P.length;S<O;S++)if(y.push(g.values[P[S]]),n)return this.filteredrows=y,this.filterInitialized=!0,this}else if(O=k.length,b){for(i=i.split("."),S=0;S<O;S++)if(l(k[S],i,_,c)&&(y.push(S),n))return this.filteredrows=y,this.filterInitialized=!0,this}else for(S=0;S<O;S++)if(_(k[S][i],c)&&(y.push(S),n))return this.filteredrows=y,this.filterInitialized=!0,this;return this.filteredrows=y,this.filterInitialized=!0,this},k.prototype.where=function(t){var e,r=[];if("function"!=typeof t)throw new TypeError("Argument is not a stored view or a function");e=t;try{if(this.filterInitialized){for(var n=this.filteredrows.length;n--;)!0===e(this.collection.data[this.filteredrows[n]])&&r.push(this.filteredrows[n]);return this.filteredrows=r,this}for(var o=this.collection.data.length;o--;)!0===e(this.collection.data[o])&&r.push(o);return this.filteredrows=r,this.filterInitialized=!0,this}catch(t){throw t}},k.prototype.count=function(){return this.filterInitialized?this.filteredrows.length:this.collection.count()},k.prototype.data=function(t){var e,r,n,o,i=[],a=this.collection.data;if((t=t||{}).removeMeta&&!t.forceClones&&(t.forceClones=!0,t.forceCloneMethod=t.forceCloneMethod||"shallow"),this.collection.disableDeltaChangesApi||(t.forceClones=!0,t.forceCloneMethod="parse-stringify"),!this.filterInitialized){if(0===this.filteredrows.length){if(this.collection.cloneObjects||t.forceClones){for(r=a.length,o=t.forceCloneMethod||this.collection.cloneMethod,n=0;n<r;n++)e=v(a[n],o),t.removeMeta&&(delete e.$loki,delete e.meta),i.push(e);return i}return a.slice()}this.filterInitialized=!0}var s=this.filteredrows;if(r=s.length,this.collection.cloneObjects||t.forceClones)for(o=t.forceCloneMethod||this.collection.cloneMethod,n=0;n<r;n++)e=v(a[s[n]],o),t.removeMeta&&(delete e.$loki,delete e.meta),i.push(e);else for(n=0;n<r;n++)i.push(a[s[n]]);return i},k.prototype.update=function(t){if("function"!=typeof t)throw new TypeError("Argument is not a function");this.filterInitialized||0!==this.filteredrows.length||(this.filteredrows=this.collection.prepareFullDocIndex());for(var e,r=this.filteredrows.length,n=this.collection.data,o=0;o<r;o++)this.collection.cloneObjects||!this.collection.disableDeltaChangesApi?(e=v(n[this.filteredrows[o]],this.collection.cloneMethod),t(e),this.collection.update(e)):(t(n[this.filteredrows[o]]),this.collection.update(n[this.filteredrows[o]]));return this},k.prototype.remove=function(){return this.filterInitialized||0!==this.filteredrows.length||(this.filteredrows=this.collection.prepareFullDocIndex()),this.collection.removeBatchByPositions(this.filteredrows),this.filteredrows=[],this},k.prototype.mapReduce=function(t,e){try{return e(this.data().map(t))}catch(t){throw t}},k.prototype.eqJoin=function(t,e,r,n,o){var i,a,s,u=[],c=[],l=[],f="function"==typeof e,h="function"==typeof r,p={};if(u=this.data(o),i=u.length,t instanceof O)c=t.chain().data(o);else if(t instanceof k)c=t.data(o);else{if(!Array.isArray(t))throw new TypeError("joinData needs to be an array or result set");c=t}a=c.length;for(var d=0;d<a;d++)s=h?r(c[d]):c[d][r],p[s]=c[d];n||(n=function(t,e){return{left:t,right:e}});for(var v=0;v<i;v++)s=f?e(u[v]):u[v][e],l.push(n(u[v],p[s]||{}));return this.collection=new O("joinData"),this.collection.insert(l),this.filteredrows=[],this.filterInitialized=!1,this},k.prototype.map=function(t,e){var r=this.data(e).map(t);return this.collection=new O("mappedData"),this.collection.insert(r),this.filteredrows=[],this.filterInitialized=!1,this},S.prototype=new m,S.prototype.rematerialize=function(t){var e,r,n;if(t=t||{},this.resultdata=[],this.resultsdirty=!0,this.resultset=new k(this.collection),(this.sortFunction||this.sortCriteria||this.sortCriteriaSimple)&&(this.sortDirty=!0),t.hasOwnProperty("removeWhereFilters"))for(e=this.filterPipeline.length,r=e;r--;)"where"===this.filterPipeline[r].type&&(r!==this.filterPipeline.length-1&&(this.filterPipeline[r]=this.filterPipeline[this.filterPipeline.length-1]),this.filterPipeline.length--);var o=this.filterPipeline;for(this.filterPipeline=[],e=o.length,n=0;n<e;n++)this.applyFind(o[n].val);return this.data(),this.emit("rebuild",this),this},S.prototype.branchResultset=function(t,e){var r=this.resultset.branch();return void 0===t?r:r.transform(t,e)},S.prototype.toJSON=function(){var t=new S(this.collection,this.name,this.options);return t.resultset=this.resultset,t.resultdata=[],t.resultsdirty=!0,t.filterPipeline=this.filterPipeline,t.sortFunction=this.sortFunction,t.sortCriteria=this.sortCriteria,t.sortCriteriaSimple=this.sortCriteriaSimple||null,t.sortDirty=this.sortDirty,t.collection=null,t},S.prototype.removeFilters=function(t){t=t||{},this.rebuildPending=!1,this.resultset.reset(),this.resultdata=[],this.resultsdirty=!0,this.cachedresultset=null,this.filterPipeline=[],this.sortFunction=null,this.sortCriteria=null,this.sortCriteriaSimple=null,this.sortDirty=!1,!0===t.queueSortPhase&&this.queueSortPhase()},S.prototype.applySort=function(t){return this.sortFunction=t,this.sortCriteria=null,this.sortCriteriaSimple=null,this.queueSortPhase(),this},S.prototype.applySimpleSort=function(t,e){return this.sortCriteriaSimple={propname:t,options:e||!1},this.sortCriteria=null,this.sortFunction=null,this.queueSortPhase(),this},S.prototype.applySortCriteria=function(t){return this.sortCriteria=t,this.sortCriteriaSimple=null,this.sortFunction=null,this.queueSortPhase(),this},S.prototype.startTransaction=function(){return this.cachedresultset=this.resultset.copy(),this},S.prototype.commit=function(){return this.cachedresultset=null,this},S.prototype.rollback=function(){return this.resultset=this.cachedresultset,this.options.persistent&&(this.resultdata=this.resultset.data(),this.emit("rebuild",this)),this},S.prototype._indexOfFilterWithId=function(t){if("string"==typeof t||"number"==typeof t)for(var e=0,r=this.filterPipeline.length;e<r;e+=1)if(t===this.filterPipeline[e].uid)return e;return-1},S.prototype._addFilter=function(t){this.filterPipeline.push(t),this.resultset[t.type](t.val)},S.prototype.reapplyFilters=function(){this.resultset.reset(),this.cachedresultset=null,this.options.persistent&&(this.resultdata=[],this.resultsdirty=!0);var t=this.filterPipeline;this.filterPipeline=[];for(var e=0,r=t.length;e<r;e+=1)this._addFilter(t[e]);return this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent(),this},S.prototype.applyFilter=function(t){var e=this._indexOfFilterWithId(t.uid);return e>=0?(this.filterPipeline[e]=t,this.reapplyFilters()):(this.cachedresultset=null,this.options.persistent&&(this.resultdata=[],this.resultsdirty=!0),this._addFilter(t),this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent(),this)},S.prototype.applyFind=function(t,e){return this.applyFilter({type:"find",val:t,uid:e}),this},S.prototype.applyWhere=function(t,e){return this.applyFilter({type:"where",val:t,uid:e}),this},S.prototype.removeFilter=function(t){var e=this._indexOfFilterWithId(t);if(e<0)throw new Error("Dynamic view does not contain a filter with ID: "+t);return this.filterPipeline.splice(e,1),this.reapplyFilters(),this},S.prototype.count=function(){return this.resultsdirty&&(this.resultdata=this.resultset.data()),this.resultset.count()},S.prototype.data=function(t){return(this.sortDirty||this.resultsdirty)&&this.performSortPhase({suppressRebuildEvent:!0}),this.options.persistent?this.resultdata:this.resultset.data(t)},S.prototype.queueRebuildEvent=function(){if(!this.rebuildPending){this.rebuildPending=!0;var t=this;setTimeout(function(){t.rebuildPending&&(t.rebuildPending=!1,t.emit("rebuild",t))},this.options.minRebuildInterval)}},S.prototype.queueSortPhase=function(){if(!this.sortDirty){this.sortDirty=!0;var t=this;"active"===this.options.sortPriority?setTimeout(function(){t.performSortPhase()},this.options.minRebuildInterval):this.queueRebuildEvent()}},S.prototype.performSortPhase=function(t){(this.sortDirty||this.resultsdirty)&&(t=t||{},this.sortDirty&&(this.sortFunction?this.resultset.sort(this.sortFunction):this.sortCriteria?this.resultset.compoundsort(this.sortCriteria):this.sortCriteriaSimple&&this.resultset.simplesort(this.sortCriteriaSimple.propname,this.sortCriteriaSimple.options),this.sortDirty=!1),this.options.persistent&&(this.resultdata=this.resultset.data(),this.resultsdirty=!1),t.suppressRebuildEvent||this.emit("rebuild",this))},S.prototype.evaluateDocument=function(t,e){if(!this.resultset.filterInitialized)return this.options.persistent&&(this.resultdata=this.resultset.data()),void(this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent());var r,n=this.resultset.filteredrows,o=e?-1:n.indexOf(+t),i=n.length,a=new k(this.collection);a.filteredrows=[t],a.filterInitialized=!0;for(var s=0,u=this.filterPipeline.length;s<u;s++)r=this.filterPipeline[s],a[r.type](r.val);var c=0===a.filteredrows.length?-1:0;return-1!==o||-1!==c?-1===o&&-1!==c?(n.push(t),this.options.persistent&&this.resultdata.push(this.collection.data[t]),void(this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent())):-1!==o&&-1===c?(o<i-1?(n.splice(o,1),this.options.persistent&&this.resultdata.splice(o,1)):(n.length=i-1,this.options.persistent&&(this.resultdata.length=i-1)),void(this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent())):-1!==o&&-1!==c?(this.options.persistent&&(this.resultdata[o]=this.collection.data[t]),void(this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent())):void 0:void 0},S.prototype.removeDocument=function(t){var e,r,n,o={},i={},a=[],s=this.resultset,u=this.resultset.filteredrows,c=u.length;if(!this.resultset.filterInitialized)return this.options.persistent&&(this.resultdata=this.resultset.data()),void(this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent());for(Array.isArray(t)||(t=[t]),n=t.length,r=0;r<n;r++)o[t[r]]=!0;for(e=0;e<c;e++)o[u[e]]&&(i[e]=!0);Object.keys(i).length>0&&(this.resultset.filteredrows=this.resultset.filteredrows.filter(function(t,e){return!i[e]}),this.options.persistent&&(this.resultdata=this.resultdata.filter(function(t,e){return!i[e]})),this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent());var l=function(t){return function(e){return e<s.filteredrows[t]}};for(c=s.filteredrows.length,e=0;e<c;e++)a=t.filter(l(e)),s.filteredrows[e]-=a.length},S.prototype.mapReduce=function(t,e){try{return e(this.data().map(t))}catch(t){throw t}},O.prototype=new m,O.prototype.createChange=function(t,e,r,n){this.changes.push({name:t,operation:e,obj:"U"!=e||this.disableDeltaChangesApi?JSON.parse(JSON.stringify(r)):this.getChangeDelta(r,n)})},O.prototype.insertMeta=function(t){var e,r;if(!this.disableMeta&&t)if(Array.isArray(t))for(e=t.length,r=0;r<e;r++)t[r].hasOwnProperty("meta")||(t[r].meta={}),t[r].meta.created=(new Date).getTime(),t[r].meta.revision=0;else t.meta||(t.meta={}),t.meta.created=(new Date).getTime(),t.meta.revision=0},O.prototype.updateMeta=function(t){!this.disableMeta&&t&&(t.meta.updated=(new Date).getTime(),t.meta.revision+=1)},O.prototype.createInsertChange=function(t){this.createChange(this.name,"I",t)},O.prototype.createUpdateChange=function(t,e){this.createChange(this.name,"U",t,e)},O.prototype.insertMetaWithChange=function(t){this.insertMeta(t),this.createInsertChange(t)},O.prototype.updateMetaWithChange=function(t,e){this.updateMeta(t),this.createUpdateChange(t,e)},O.prototype.console={log:function(){},warn:function(){},error:function(){}},O.prototype.addAutoUpdateObserver=function(t){this.autoupdate&&"function"==typeof Object.observe&&Object.observe(t,this.observerCallback,["add","update","delete","reconfigure","setPrototype"])},O.prototype.removeAutoUpdateObserver=function(t){this.autoupdate&&"function"==typeof Object.observe&&Object.unobserve(t,this.observerCallback)},O.prototype.addTransform=function(t,e){if(this.transforms.hasOwnProperty(t))throw new Error("a transform by that name already exists");this.transforms[t]=e},O.prototype.getTransform=function(t){return this.transforms[t]},O.prototype.setTransform=function(t,e){this.transforms[t]=e},O.prototype.removeTransform=function(t){delete this.transforms[t]},O.prototype.byExample=function(t){var e,r,n;for(e in n=[],t)t.hasOwnProperty(e)&&n.push(((r={})[e]=t[e],r));return{$and:n}},O.prototype.findObject=function(t){return this.findOne(this.byExample(t))},O.prototype.findObjects=function(t){return this.find(this.byExample(t))},O.prototype.ttlDaemonFuncGen=function(){var t=this,e=this.ttl.age;return function(){var r=Date.now(),n=t.chain().where(function(t){var n=t.meta.updated||t.meta.created,o=r-n;return e<o});n.remove()}},O.prototype.setTTL=function(t,e){t<0?clearInterval(this.ttl.daemon):(this.ttl.age=t,this.ttl.ttlInterval=e,this.ttl.daemon=setInterval(this.ttlDaemonFuncGen(),e))},O.prototype.prepareFullDocIndex=function(){for(var t=this.data.length,e=new Array(t),r=0;r<t;r+=1)e[r]=r;return e},O.prototype.configureOptions=function(t){(t=t||{}).hasOwnProperty("adaptiveBinaryIndices")&&(this.adaptiveBinaryIndices=t.adaptiveBinaryIndices,this.adaptiveBinaryIndices&&this.ensureAllIndexes())},O.prototype.ensureIndex=function(t,r){if(void 0===r&&(r=!1),null==t)throw new Error("Attempting to set index without an associated property");if((!this.binaryIndices[t]||r||this.binaryIndices[t].dirty)&&(!0!==this.adaptiveBinaryIndices||!this.binaryIndices.hasOwnProperty(t)||r)){var n={name:t,dirty:!0,values:this.prepareFullDocIndex()};this.binaryIndices[t]=n;var o,a,s,u,c,l=(o=t,a=this.data,function(t,r){if(~o.indexOf(".")?(c=o.split("."),s=e.getIn(a[t],c,!0),u=e.getIn(a[r],c,!0)):(s=a[t][o],u=a[r][o]),s!==u){if(i.lt(s,u,!1))return-1;if(i.gt(s,u,!1))return 1}return 0});n.values.sort(l),n.dirty=!1,this.dirty=!0}},O.prototype.checkAllIndexes=function(e){var r,n=this.binaryIndices,o=[];for(r in n)t.call(n,r)&&(this.checkIndex(r,e)||o.push(r));return o},O.prototype.checkIndex=function(t,r){(r=r||{}).randomSamplingFactor&&!1!==r.randomSampling&&(r.randomSampling=!0),r.randomSamplingFactor=r.randomSamplingFactor||.1,(r.randomSamplingFactor<0||r.randomSamplingFactor>1)&&(r.randomSamplingFactor=.1);var n,o,i,a,s,u=!0;if(!this.binaryIndices.hasOwnProperty(t))throw new Error("called checkIndex on property without an index: "+t);if(this.adaptiveBinaryIndices||this.ensureIndex(t),s=this.binaryIndices[t].values,(a=s.length)!==this.data.length)return r.repair&&this.ensureIndex(t,!0),!1;if(0===a)return!0;var c=-1!==t.indexOf(".");if(1===a)u=0===s[0];else if(r.randomSampling){if(p.$lte(e.getIn(this.data[s[0]],t,c),e.getIn(this.data[s[1]],t,c))||(u=!1),p.$lte(e.getIn(this.data[s[a-2]],t,c),e.getIn(this.data[s[a-1]],t,c))||(u=!1),u)for(o=Math.floor((a-1)*r.randomSamplingFactor),n=0;n<o-1;n++)if(i=Math.floor(Math.random()*(a-1)),!p.$lte(e.getIn(this.data[s[i]],t,c),e.getIn(this.data[s[i+1]],t,c))){u=!1;break}}else for(n=0;n<a-1;n++)if(!p.$lte(e.getIn(this.data[s[n]],t,c),e.getIn(this.data[s[n+1]],t,c))){u=!1;break}return!u&&r.repair&&this.ensureIndex(t,!0),u},O.prototype.getBinaryIndexValues=function(t){var r,n=this.binaryIndices[t].values,o=[];for(r=0;r<n.length;r++)o.push(e.getIn(this.data[n[r]],t,!0));return o},O.prototype.ensureUniqueIndex=function(t){var e=this.constraints.unique[t];return e||-1==this.uniqueNames.indexOf(t)&&this.uniqueNames.push(t),this.constraints.unique[t]=e=new D(t),this.data.forEach(function(t){e.set(t)}),e},O.prototype.ensureAllIndexes=function(e){var r,n=this.binaryIndices;for(r in n)t.call(n,r)&&this.ensureIndex(r,e)},O.prototype.flagBinaryIndexesDirty=function(){var e,r=this.binaryIndices;for(e in r)t.call(r,e)&&(r[e].dirty=!0)},O.prototype.flagBinaryIndexDirty=function(t){this.binaryIndices[t]&&(this.binaryIndices[t].dirty=!0)},O.prototype.count=function(t){return t?this.chain().find(t).filteredrows.length:this.data.length},O.prototype.ensureId=function(){var t=this.data.length,e=0;for(this.idIndex=[];e<t;e+=1)this.idIndex.push(this.data[e].$loki)},O.prototype.ensureIdAsync=function(t){this.async(function(){this.ensureId()},t)},O.prototype.addDynamicView=function(t,e){var r=new S(this,t,e);return this.DynamicViews.push(r),r},O.prototype.removeDynamicView=function(t){this.DynamicViews=this.DynamicViews.filter(function(e){return e.name!==t})},O.prototype.getDynamicView=function(t){for(var e=0;e<this.DynamicViews.length;e++)if(this.DynamicViews[e].name===t)return this.DynamicViews[e];return null},O.prototype.findAndUpdate=function(t,e){"function"==typeof t?this.updateWhere(t,e):this.chain().find(t).update(e)},O.prototype.findAndRemove=function(t){this.chain().find(t).remove()},O.prototype.insert=function(t){if(!Array.isArray(t))return this.insertOne(t);var e,r=[];this.emit("pre-insert",t);for(var n=0,o=t.length;n<o;n++){if(!(e=this.insertOne(t[n],!0)))return;r.push(e)}return this.emit("insert",r),1===(r=this.cloneObjects?v(r,this.cloneMethod):r).length?r[0]:r},O.prototype.insertOne=function(t,e){var r,n=null;if("object"!=typeof t?n=new TypeError("Document needs to be an object"):null===t&&(n=new TypeError("Object cannot be null")),null!==n)throw this.emit("error",n),n;var o=this.cloneObjects?v(t,this.cloneMethod):t;if(this.disableMeta||void 0!==o.meta||(o.meta={revision:0,created:0}),e||this.emit("pre-insert",o),this.add(o))return this.disableChangesApi?this.insertMeta(o):this.insertMetaWithChange(o),r=this.cloneObjects?v(o,this.cloneMethod):o,e||this.emit("insert",r),this.addAutoUpdateObserver(r),r},O.prototype.clear=function(t){var e=this;if(t=t||{},this.data=[],this.idIndex=[],this.cachedIndex=null,this.cachedBinaryIndex=null,this.cachedData=null,this.maxId=0,this.DynamicViews=[],this.dirty=!0,!0===t.removeIndices)this.binaryIndices={},this.constraints={unique:{},exact:{}},this.uniqueNames=[];else{var r=Object.keys(this.binaryIndices);r.forEach(function(t){e.binaryIndices[t].dirty=!1,e.binaryIndices[t].values=[]}),this.constraints={unique:{},exact:{}},this.uniqueNames.forEach(function(t){e.ensureUniqueIndex(t)})}},O.prototype.update=function(e){var r,n,o;if(Array.isArray(e)){o=e.length,(r=!this.cloneObjects&&this.adaptiveBinaryIndices&&Object.keys(this.binaryIndices).length>0)&&(this.adaptiveBinaryIndices=!1);try{for(n=0;n<o;n+=1)this.update(e[n])}finally{r&&(this.ensureAllIndexes(),this.adaptiveBinaryIndices=!0)}}else{if(!t.call(e,"$loki"))throw new Error("Trying to update unsynced document. Please save the document first by using insert() or addMany()");try{this.startTransaction();var i,a,s,u,c,l=this.get(e.$loki,!0),f=this;if(!l)throw new Error("Trying to update a document not in collection.");i=l[0],s=l[1],a=this.cloneObjects||!this.disableDeltaChangesApi?v(e,this.cloneMethod):e,this.emit("pre-update",e),Object.keys(this.constraints.unique).forEach(function(t){f.constraints.unique[t].update(i,a)}),this.data[s]=a,a!==e&&this.addAutoUpdateObserver(e);for(var h=0;h<this.DynamicViews.length;h++)this.DynamicViews[h].evaluateDocument(s,!1);if(this.adaptiveBinaryIndices){var p=this.binaryIndices;for(u in p)this.adaptiveBinaryIndexUpdate(s,u)}else this.flagBinaryIndexesDirty();return this.idIndex[s]=a.$loki,this.commit(),this.dirty=!0,this.disableChangesApi?this.updateMeta(a,null):this.updateMetaWithChange(a,i),c=this.cloneObjects?v(a,this.cloneMethod):a,this.emit("update",c,i),c}catch(t){throw this.rollback(),this.console.error(t.message),this.emit("error",t),t}}},O.prototype.add=function(e){if("object"!=typeof e)throw new TypeError("Object being added needs to be an object");if(void 0!==e.$loki)throw new Error("Document is already in collection, please use update()");try{this.startTransaction(),this.maxId++,isNaN(this.maxId)&&(this.maxId=this.data[this.data.length-1].$loki+1),e.$loki=this.maxId,this.disableMeta||(e.meta.version=0);var r,n=this.constraints.unique;for(r in n)t.call(n,r)&&n[r].set(e);this.idIndex.push(e.$loki),this.data.push(e);for(var o=this.data.length-1,i=this.DynamicViews.length,a=0;a<i;a++)this.DynamicViews[a].evaluateDocument(o,!0);if(this.adaptiveBinaryIndices){var s=this.binaryIndices;for(r in s)this.adaptiveBinaryIndexInsert(o,r)}else this.flagBinaryIndexesDirty();return this.commit(),this.dirty=!0,this.cloneObjects?v(e,this.cloneMethod):e}catch(t){throw this.rollback(),this.console.error(t.message),this.emit("error",t),t}},O.prototype.updateWhere=function(t,e){var r,n=this.where(t),o=0;try{for(;o<n.length;o++)r=e(n[o]),this.update(r)}catch(t){this.rollback(),this.console.error(t.message)}},O.prototype.removeWhere=function(t){var e;"function"==typeof t?(e=this.data.filter(t),this.remove(e)):this.chain().find(t).remove()},O.prototype.removeDataOnly=function(){this.remove(this.data.slice())},O.prototype.removeBatchByPositions=function(t){var e,r,n,o,i=t.length,a={},s=Object.keys(this.binaryIndices).length,u=Object.keys(this.constraints.unique).length,c=this.adaptiveBinaryIndices&&Object.keys(this.binaryIndices).length>0,l=this;try{for(this.startTransaction(),n=0;n<i;n++)a[this.idIndex[t[n]]]=!0;if((e=this.DynamicViews.length)>0||s>0||u>0){if(e>0)for(r=0;r<e;r++)this.DynamicViews[r].removeDocument(t);if(this.adaptiveBinaryIndices&&!c){var f,h=this.binaryIndices;for(f in h)this.adaptiveBinaryIndexRemove(t,f)}else this.flagBinaryIndexesDirty();u&&Object.keys(this.constraints.unique).forEach(function(e){for(n=0;n<i;n++)null!==(o=l.data[t[n]])[e]&&void 0!==o[e]&&l.constraints.unique[e].remove(o[e])})}if(!this.disableChangesApi||this.events.delete.length>1)for(n=0;n<i;n++)this.emit("delete",this.data[t[n]]);this.data=this.data.filter(function(t){return!a[t.$loki]}),this.idIndex=this.idIndex.filter(function(t){return!a[t]}),this.adaptiveBinaryIndices&&c&&(this.adaptiveBinaryIndices=!1,this.ensureAllIndexes(!0),this.adaptiveBinaryIndices=!0),this.commit(),this.dirty=!0}catch(t){return this.rollback(),c&&(this.adaptiveBinaryIndices=!0),this.console.error(t.message),this.emit("error",t),null}},O.prototype.removeBatch=function(t){var e,r=t.length,n=this.data.length,o={},i=[];for(e=0;e<n;e++)o[this.data[e].$loki]=e;for(e=0;e<r;e++)"object"==typeof t[e]?i.push(o[t[e].$loki]):i.push(o[t[e]]);this.removeBatchByPositions(i)},O.prototype.remove=function(e){if("number"==typeof e&&(e=this.get(e)),"object"!=typeof e)throw new Error("Parameter is not an object");if(Array.isArray(e))this.removeBatch(e);else{if(!t.call(e,"$loki"))throw new Error("Object is not a document stored in the collection");try{this.startTransaction();var r=this.get(e.$loki,!0),n=r[1],o=this;Object.keys(this.constraints.unique).forEach(function(t){null!==e[t]&&void 0!==e[t]&&o.constraints.unique[t].remove(e[t])});for(var i=0;i<this.DynamicViews.length;i++)this.DynamicViews[i].removeDocument(n);if(this.adaptiveBinaryIndices){var a,s=this.binaryIndices;for(a in s)this.adaptiveBinaryIndexRemove(n,a)}else this.flagBinaryIndexesDirty();return this.data.splice(n,1),this.removeAutoUpdateObserver(e),this.idIndex.splice(n,1),this.commit(),this.dirty=!0,this.emit("delete",r[0]),delete e.$loki,delete e.meta,e}catch(t){return this.rollback(),this.console.error(t.message),this.emit("error",t),null}}},O.prototype.get=function(t,e){var r=e||!1,n=this.idIndex,o=n.length-1,i=0,a=i+o>>1;if(t="number"==typeof t?t:parseInt(t,10),isNaN(t))throw new TypeError("Passed id is not an integer");for(;n[i]<n[o];)n[a=i+o>>1]<t?i=a+1:o=a;return o===i&&n[i]===t?r?[this.data[i],i]:this.data[i]:null},O.prototype.getBinaryIndexPosition=function(t,r){var n=e.getIn(this.data[t],r,!0),o=this.binaryIndices[r].values,i=this.calculateRange("$eq",r,n);if(0===i[0]&&-1===i[1])return null;for(var a=i[0],s=i[1],u=a;u<=s;u++)if(o[u]===t)return u;return null},O.prototype.adaptiveBinaryIndexInsert=function(t,r){var n=-1!==r.indexOf("."),o=this.binaryIndices[r].values,i=e.getIn(this.data[t],r,n);!0===this.serializableIndices&&i instanceof Date&&(this.data[t][r]=i.getTime(),i=e.getIn(this.data[t],r));var a=0===o.length?0:this.calculateRangeStart(r,i,!0,n);this.binaryIndices[r].values.splice(a,0,t)},O.prototype.adaptiveBinaryIndexUpdate=function(t,e){var r,n=this.binaryIndices[e].values,o=n.length;for(r=0;r<o&&n[r]!==t;r++);this.binaryIndices[e].values.splice(r,1),this.adaptiveBinaryIndexInsert(t,e)},O.prototype.adaptiveBinaryIndexRemove=function(t,e,r){var n,o,i,a,s,u,c,l=this.binaryIndices[e],f={};if(Array.isArray(t)){if(1!==(a=t.length)){for(i=0;i<a;i++)f[t[i]]=!0;if(l.values=l.values.filter(function(t){return!f[t]}),!0===r)return;var h=t.slice();for(h.sort(function(t,e){return t-e}),n=l.values.length,o=0;o<n;o++){for(s=l.values[o],u=0,i=0;i<a&&s>h[i];i++)u++;l.values[o]-=u}return}t=t[0]}if(null===(c=this.getBinaryIndexPosition(t,e)))return null;if(l.values.splice(c,1),!0!==r)for(n=l.values.length,o=0;o<n;o++)l.values[o]>t&&l.values[o]--},O.prototype.calculateRangeStart=function(t,r,n,o){var a=this.data,s=this.binaryIndices[t].values,u=0,c=s.length-1,l=0;if(0===s.length)return-1;for(e.getIn(a[s[u]],t,o),e.getIn(a[s[c]],t,o);u<c;)l=u+c>>1,i.lt(e.getIn(a[s[l]],t,o),r,!1)?u=l+1:c=l;var f=u;return i.aeq(r,e.getIn(a[s[f]],t,o))?f:i.lt(r,e.getIn(a[s[f]],t,o),!1)?n?f:f-1:n?f+1:f},O.prototype.calculateRangeEnd=function(t,r,n){var o=this.data,a=this.binaryIndices[t].values,s=0,u=a.length-1,c=0;if(0===a.length)return-1;for(e.getIn(o[a[s]],t,n),e.getIn(o[a[u]],t,n);s<u;)c=s+u>>1,i.lt(r,e.getIn(o[a[c]],t,n),!1)?u=c:s=c+1;var l=u;return i.aeq(r,e.getIn(o[a[l]],t,n))?l:i.gt(r,e.getIn(o[a[l]],t,n),!1)?l+1:i.aeq(r,e.getIn(o[a[l-1]],t,n))?l-1:l},O.prototype.calculateRange=function(t,r,n){var o,a,s,u=this.data,c=this.binaryIndices[r].values,l=c.length-1;if(0===u.length)return[0,-1];var f=-1!==r.indexOf("."),h=e.getIn(u[c[0]],r,f),p=e.getIn(u[c[l]],r,f);switch(t){case"$eq":case"$aeq":case"$dteq":if(i.lt(n,h,!1)||i.gt(n,p,!1))return[0,-1];break;case"$gt":if(i.gt(n,p,!0))return[0,-1];if(i.gt(h,n,!1))return[0,l];break;case"$gte":if(i.gt(n,p,!1))return[0,-1];if(i.gt(h,n,!0))return[0,l];break;case"$lt":if(i.lt(n,h,!0))return[0,-1];if(i.lt(p,n,!1))return[0,l];break;case"$lte":if(i.lt(n,h,!1))return[0,-1];if(i.lt(p,n,!0))return[0,l];break;case"$between":return i.gt(n[0],p,!1)?[0,-1]:i.lt(n[1],h,!1)?[0,-1]:(o=this.calculateRangeStart(r,n[0],!1,f),s=this.calculateRangeEnd(r,n[1],f),o<0&&o++,s>l&&s--,i.gt(e.getIn(u[c[o]],r,f),n[0],!0)||o++,i.lt(e.getIn(u[c[s]],r,f),n[1],!0)||s--,s<o?[0,-1]:[o,s]);case"$in":for(var d=[],v=[],y=0,m=n.length;y<m;y++)for(var g=this.calculateRange("$eq",r,n[y]),b=g[0];b<=g[1];b++)void 0===d[b]&&(d[b]=!0,v.push(b));return v}switch(t){case"$eq":case"$aeq":case"$dteq":case"$gte":case"$lt":o=this.calculateRangeStart(r,n,!1,f),a=e.getIn(u[c[o]],r,f)}switch(t){case"$eq":case"$aeq":case"$dteq":case"$lte":case"$gt":s=this.calculateRangeEnd(r,n,f),e.getIn(u[c[s]],r,f)}switch(t){case"$eq":case"$aeq":case"$dteq":return i.aeq(a,n)?[o,s]:[0,-1];case"$gt":return i.aeq(e.getIn(u[c[s]],r,f),n)?[s+1,l]:[s,l];case"$gte":return i.aeq(e.getIn(u[c[o]],r,f),n)?[o,l]:[o+1,l];case"$lt":return i.aeq(e.getIn(u[c[o]],r,f),n)?[0,o-1]:[0,o];case"$lte":return i.aeq(e.getIn(u[c[s]],r,f),n)?[0,s]:[0,s-1];default:return[0,u.length-1]}},O.prototype.by=function(t,e){var r;if(void 0===e)return r=this,function(e){return r.by(t,e)};var n=this.constraints.unique[t].get(e);return this.cloneObjects?v(n,this.cloneMethod):n},O.prototype.findOne=function(t){t=t||{};var e=this.chain().find(t,!0).data();return Array.isArray(e)&&0===e.length?null:this.cloneObjects?v(e[0],this.cloneMethod):e[0]},O.prototype.chain=function(t,e){var r=new k(this);return void 0===t?r:r.transform(t,e)},O.prototype.find=function(t){return this.chain().find(t).data()},O.prototype.findOneUnindexed=function(t,r){for(var n=this.data.length;n--;)if(e.getIn(this.data[n],t,!0)===r)return this.data[n];return null},O.prototype.startTransaction=function(){if(this.transactional){this.cachedData=v(this.data,this.cloneMethod),this.cachedIndex=this.idIndex,this.cachedBinaryIndex=this.binaryIndices;for(var t=0;t<this.DynamicViews.length;t++)this.DynamicViews[t].startTransaction()}},O.prototype.commit=function(){if(this.transactional){this.cachedData=null,this.cachedIndex=null,this.cachedBinaryIndex=null;for(var t=0;t<this.DynamicViews.length;t++)this.DynamicViews[t].commit()}},O.prototype.rollback=function(){if(this.transactional){null!==this.cachedData&&null!==this.cachedIndex&&(this.data=this.cachedData,this.idIndex=this.cachedIndex,this.binaryIndices=this.cachedBinaryIndex);for(var t=0;t<this.DynamicViews.length;t++)this.DynamicViews[t].rollback()}},O.prototype.async=function(t,e){setTimeout(function(){if("function"!=typeof t)throw new TypeError("Argument passed for async execution is not a function");t(),e()},0)},O.prototype.where=function(t){return this.chain().where(t).data()},O.prototype.mapReduce=function(t,e){try{return e(this.data.map(t))}catch(t){throw t}},O.prototype.eqJoin=function(t,e,r,n,o){return new k(this).eqJoin(t,e,r,n,o)},O.prototype.stages={},O.prototype.getStage=function(t){return this.stages[t]||(this.stages[t]={}),this.stages[t]},O.prototype.commitLog=[],O.prototype.stage=function(t,e){var r=JSON.parse(JSON.stringify(e));return this.getStage(t)[e.$loki]=r,r},O.prototype.commitStage=function(t,e){var r,n=this.getStage(t),o=(new Date).getTime();for(r in n)this.update(n[r]),this.commitLog.push({timestamp:o,message:e,data:JSON.parse(JSON.stringify(n[r]))});this.stages[t]={}},O.prototype.no_op=function(){},O.prototype.extract=function(t){for(var e=0,r=this.data.length,n=E(t),o=[];e<r;e+=1)o.push(R(this.data[e],t,n));return o},O.prototype.max=function(t){return Math.max.apply(null,this.extract(t))},O.prototype.min=function(t){return Math.min.apply(null,this.extract(t))},O.prototype.maxRecord=function(t){for(var e,r=0,n=this.data.length,o=E(t),i={index:0,value:void 0};r<n;r+=1)void 0!==e?e<R(this.data[r],t,o)&&(e=R(this.data[r],t,o),i.index=this.data[r].$loki):(e=R(this.data[r],t,o),i.index=this.data[r].$loki);return i.value=e,i},O.prototype.minRecord=function(t){for(var e,r=0,n=this.data.length,o=E(t),i={index:0,value:void 0};r<n;r+=1)void 0!==e?e>R(this.data[r],t,o)&&(e=R(this.data[r],t,o),i.index=this.data[r].$loki):(e=R(this.data[r],t,o),i.index=this.data[r].$loki);return i.value=e,i},O.prototype.extractNumerical=function(t){return this.extract(t).map(P).filter(Number).filter(function(t){return!isNaN(t)})},O.prototype.avg=function(t){return T(this.extractNumerical(t))},O.prototype.stdDev=function(t){return e=this.extractNumerical(t),r=T(e),n=T(e.map(function(t){var e=t-r,n=e*e;return n})),Math.sqrt(n);var e,r,n},O.prototype.mode=function(t){var e,r,n,o={},i=this.extract(t);for(r in i.forEach(function(t){o[t]?o[t]+=1:o[t]=1}),o)e?e<o[r]&&(n=r):(n=r,e=o[r]);return n},O.prototype.median=function(t){var e=this.extractNumerical(t);e.sort(C);var r=Math.floor(e.length/2);return e.length%2?e[r]:(e[r-1]+e[r])/2},I.prototype={keys:[],values:[],sort:function(t,e){return t<e?-1:t>e?1:0},setSort:function(t){this.bs=new j(t)},bs:function(){return new j(this.sort)},set:function(t,e){var r=this.bs(this.keys,t);r.found?this.values[r.index]=e:(this.keys.splice(r.index,0,t),this.values.splice(r.index,0,e))},get:function(t){return this.values[M(this.keys,t,this.sort).index]}},D.prototype.keyMap={},D.prototype.lokiMap={},D.prototype.set=function(t){var e=t[this.field];if(null!=e){if(this.keyMap[e])throw new Error("Duplicate key for property "+this.field+": "+e);this.keyMap[e]=t,this.lokiMap[t.$loki]=e}},D.prototype.get=function(t){return this.keyMap[t]},D.prototype.byId=function(t){return this.keyMap[this.lokiMap[t]]},D.prototype.update=function(t,e){if(this.lokiMap[t.$loki]!==e[this.field]){var r=this.lokiMap[t.$loki];this.set(e),this.keyMap[r]=void 0}else this.keyMap[t[this.field]]=e},D.prototype.remove=function(t){var e=this.keyMap[t];if(null==e)throw new Error("Key is not in unique index: "+this.field);this.keyMap[t]=void 0,this.lokiMap[e.$loki]=void 0},D.prototype.clear=function(){this.keyMap={},this.lokiMap={}},N.prototype={set:function(t,e){this.index[t]?this.index[t].push(e):this.index[t]=[e]},remove:function(t,e){var r=this.index[t];for(var n in r)r[n]==e&&r.splice(n,1);r.length<1&&(this.index[t]=void 0)},get:function(t){return this.index[t]},clear:function(t){this.index={}}},g.LokiOps=p,g.Collection=O,g.KeyValueStore=I,g.LokiMemoryAdapter=b,g.LokiPartitioningAdapter=w,g.LokiLocalStorageAdapter=_,g.LokiFsAdapter=x,g.persistenceAdapters={fs:x,localStorage:_},g.aeq=a,g.lt=s,g.gt=u,g.Comparators=i,g}()})?i.apply(e,a):i)||(t.exports=s)}).call(this,r(0),r(6))},function(t,e){var r,n,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!l){var t=s(h);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new d(t,e)),1!==c.length||l||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e){},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o,i,a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=(n=function(t,e){try{return t()}catch(t){return e}},o=function(t,e,r){var o=e;e.includes(" as ")&&(o=(e=e.split(" as "))[0]);var i=n(function(){return Array.isArray(e)&&e[1].trim()},void 0),a=o.replace(/\[/g,".").replace(/]/g,"").split(".").filter(Boolean).map(function(t){return t.trim()});return{label:i||o,value:a.every(function(e){return!(e&&void 0===(t=t[e]))})?t:r}},i=function t(e,r,n,o,i){e&&(o=o||"",e.forEach(function(e){if(e){var s=e.columns&&Array.isArray(e.columns),u=e.rows&&Array.isArray(e.rows),c=e.components&&Array.isArray(e.components),l=!1,f=e.key?o?o+"."+e.key:e.key:"";i&&(e.parent=a({},i),delete e.parent.components,delete e.parent.componentMap,delete e.parent.columns,delete e.parent.rows),(n||e.tree||!s&&!u&&!c)&&(l=r(e,f));var h=function(){return e.key&&!["panel","table","well","columns","fieldset","tabs","form"].includes(e.type)&&(["datagrid","container","editgrid"].includes(e.type)||e.tree)?f:e.key&&"form"===e.type?f+".data":o};l||(s?e.columns.forEach(function(o){return t(o.components,r,n,h(),i?e:null)}):u?e.rows.forEach(function(o){Array.isArray(o)&&o.forEach(function(o){return t(o.components,r,n,h(),i?e:null)})}):c&&t(e.components,r,n,h(),i?e:null))}}))},Object.freeze({cloneDeep:function(t){return JSON.parse(JSON.stringify(t))},get:n,orderBy:function(){},isEmpty:function(t){if(!t)return!0;if(Array.isArray(t)||"string"==typeof t)return!t.length;for(var e in t)if(hasOwnProperty.call(t,e))return!1;return!0},debounce:function(t,e){var r=void 0;return function(){var n=this,o=arguments;clearTimeout(r),r=setTimeout(function(){return t.apply(n,o)},e)}},getFromPath:o,deleteNulls:function t(e){var r=e,n=r instanceof Array;for(var o in r)null===r[o]?n?r.splice(o,1):delete r[o]:"object"===s(r[o])&&t(r[o]);return r},eachComponent:i,findComponents:function(t,e){var r=[];return i(t,function(t,n){(function(t,e){if("string"==typeof e)return t.key===e;var r=!1;return Object.keys(e).forEach(function(n){if(!(r=o(t,n).value===e[n]))return!1}),r})(t,e)&&(t.path=n,r.push(t))},!0),r},unixDate:function(){return Math.round(+new Date/1e3)}}));e.default=u},function(t,e,r){var n=r(10),o=r(11);t.exports=function(t,e,r){var i=e&&r||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var a=(t=t||{}).random||(t.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var s=0;s<16;++s)e[i+s]=a[s];return e||o(a)}},function(t,e){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);t.exports=function(){return r(n),n}}else{var o=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},function(t,e){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);t.exports=function(t,e){var n=e||0,o=r;return[o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]]].join("")}},function(t,e,r){"use strict";(function(t){var r,n,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i=function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==(void 0===t?"undefined":a(t))&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=13)}([function(t,e,r){var n=r(2),o=r(17),i=r(6),a=r(18),s=r(1),u=r(3),c=r(8),l=r(7),f=Array.prototype.concat;function h(){var t=f.apply([],arguments).filter(u);return 0===t.length?void 0:t}function p(t){if(!s(t))return t;var e=t.methods,r=t.properties,n=t.props,o=t.initializers,i=t.init,u=t.composers,f=t.deepProperties,p=t.deepProps,d=t.propertyDescriptors,v=t.staticProperties,y=t.statics,m=t.staticDeepProperties,g=t.deepStatics,b=t.configuration,w=t.conf,x=t.deepConfiguration,_=t.deepConf,k=s(n)||s(r)?l({},n,r):void 0,S=s(p)?c({},p):void 0;S=s(f)?c(S,f):S;var O=s(y)||s(v)?l({},y,v):void 0,E=s(g)?c({},g):void 0;E=s(m)?c(E,m):E;var P=t.staticPropertyDescriptors;a(t.name)&&(P=l({},P||{},{name:{value:t.name}}));var A=s(w)||s(b)?l({},w,b):void 0,C=s(_)?c({},_):void 0;C=s(x)?c(C,x):C;var T=h(i,o),R=h(u),M={};return e&&(M.methods=e),k&&(M.properties=k),T&&(M.initializers=T),R&&(M.composers=R),S&&(M.deepProperties=S),O&&(M.staticProperties=O),E&&(M.staticDeepProperties=E),d&&(M.propertyDescriptors=d),P&&(M.staticPropertyDescriptors=P),A&&(M.configuration=A),C&&(M.deepConfiguration=C),M}function d(){for(var t=arguments.length,e=[],r=0;r<t;r+=1){var o=arguments[r];e.push(i(o)?o:p(o))}return n.apply(this||v,e)}var v=o.compose({staticProperties:{create:function(){return this.apply(this,arguments)},compose:d}}),y=o.compose.staticProperties;for(var m in y)d[m]=y[m].bind(v);d.compose=d.bind(),t.exports=d},function(t,e){t.exports=function(t){var e=void 0===t?"undefined":a(t);return Boolean(t)&&("object"===e||"function"===e)}},function(t,e,r){var n=r(5),o=r(3),i=r(1),a=r(6),s=r(15),u=r(7),c=r(8),l=Array.prototype.slice;function f(t,e){var r=function t(e){var r=t.compose||{},n={__proto__:r.methods};if(c(n,r.deepProperties),u(n,r.properties),Object.defineProperties(n,r.propertyDescriptors||{}),!r.initializers||0===r.initializers.length)return n;void 0===e&&(e={});for(var i=r.initializers,a=i.length,s=0;s<a;s+=1){var f=i[s];if(o(f)){var h=f.call(n,e,{instance:n,stamp:t,args:l.apply(arguments)});n=void 0===h?n:h}}return n};t.staticDeepProperties&&c(r,t.staticDeepProperties),t.staticProperties&&u(r,t.staticProperties),t.staticPropertyDescriptors&&Object.defineProperties(r,t.staticPropertyDescriptors);var n=o(r.compose)?r.compose:e;return u(r.compose=function(){return n.apply(this,arguments)},t),r}function h(t,e,r){if(n(e)){var i=e.length,a=t[r]||[];t[r]=a;for(var s=0;s<i;s+=1){var u=e[s];o(u)&&a.indexOf(u)<0&&a.push(u)}}}function p(t,e,r,n){i(e[r])&&(i(t[r])||(t[r]={}),n(t[r],e[r]))}function d(t,e,r){p(t,e,r,c)}function v(t,e,r){p(t,e,r,u)}function y(t,e){var r=e&&e.compose||e;v(t,r,"methods"),v(t,r,"properties"),d(t,r,"deepProperties"),v(t,r,"propertyDescriptors"),v(t,r,"staticProperties"),d(t,r,"staticDeepProperties"),v(t,r,"staticPropertyDescriptors"),v(t,r,"configuration"),d(t,r,"deepConfiguration"),h(t,r.initializers,"initializers"),h(t,r.composers,"composers")}t.exports=function t(){var e={},r=[];s(this)&&(y(e,this),r.push(this));for(var o=0;o<arguments.length;o++){var i=arguments[o];s(i)&&(y(e,i),r.push(i))}var u=f(e,t),c=e.composers;if(n(c)&&c.length>0)for(var l=0;l<c.length;l+=1){var h=(0,c[l])({stamp:u,composables:r});u=a(h)?h:u}return u}},function(t,e){t.exports=function(t){return"function"==typeof t}},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==("undefined"==typeof window?"undefined":a(window))&&(r=window)}t.exports=r},function(t,e){t.exports=Array.isArray},function(t,e,r){var n=r(3);t.exports=function(t){return n(t)&&n(t.compose)}},function(t,e){t.exports=Object.assign},function(t,e,r){var n=r(16),o=r(1),i=r(5);function a(t,e){if(void 0===e)return t;if(i(e))return(i(t)?t:[]).concat(e);if(!n(e))return e;for(var r=o(t)?t:{},s=Object.keys(e),u=0;u<s.length;u+=1){var c=s[u],l=e[c];if(void 0!==l){var f=r[c],h=n(f)||i(l)?f:{};r[c]=a(h,l)}}return r}t.exports=function(t){for(var e=1;e<arguments.length;e++)t=a(t,arguments[e]);return t}},function(t,e,r){(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=i(r(0)),o=i(r(19));function i(t){return t&&t.__esModule?t:{default:t}}e.default=(0,n.default)({properties:{name:"baseModel",config:{remote:{path:void 0,token:void 0,pullForm:!1},local:{connector:"loki"},merge:{connector:"formio-loki"}}},methods:{getModelName:function(){return this.name},getFluentConfig:function(){var e=void 0;return"undefined"!=typeof window&&window&&window._FLUENT_?e=window._FLUENT_:t&&t._FLUENT_&&(e=t._FLUENT_),e},getConnector:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Array.isArray(t)?this.getConnectorFromArray(t,e,r):t instanceof Object?t:void 0},getConnectorFromArray:function(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(1===t.length)return t[0];if(this.config&&this.config[e]&&this.config[e].connector){var o=t.find(function(t){return t.name===r.config[e].connector});if(o instanceof Object)return o}if(n){var i=t.find(function(t){return t.name===n});if(i instanceof Object)return i}var a=t.find(function(t){return t.default});return a instanceof Object?a:void 0},remote:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.token,r=void 0===e?void 0:e,n=t.pullForm,o=void 0===n?void 0:n,i=t.connectorName,a=void 0===i?void 0:i,s=t.path,u=void 0===s?void 0:s,c=this.getFluentConfig(),l=c&&c.connectors&&c.connectors.remote;if(!l)throw new Error("No remote connector was defined. Please define it using Fluent.config()");var f=this.getConnector(l,"remote",a||!1);if(this.config.remote.token=r||this.config.remote.token,this.config.remote.path=u||this.config.remote.path,o&&(this.config.remote.pullForm=o||this.config.remote.pullForm),f)return f.connector({remoteConnection:this.config.remote,connector:f});throw new Error("No default remote connector found. Please assign one as your default in Fluent.config")},local:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).connectorName,e=void 0===t?void 0:t,r=this.getFluentConfig(),n=r&&r.connectors&&r.connectors.local;if(!n)throw new Error("No local connector was defined. Please define it using Fluent.config()");var o=this.getConnector(n,"local",e||!1);if(o)return o.connector({name:this.name,connector:o});throw new Error("No default local connector found. Please assign one as your default in Fluent.config")},merged:function(){var t=this.local(),e=this.remote(),r=this.getFluentConfig(),n=r&&r.connectors&&r.connectors.merge;if(!n)throw new Error("No merge connector was defined. Please define it using Fluent.config()");var o=this.getConnector(n,"merge");if(o)return o.connector({local:t,remote:e,name:this.name,connector:o});throw new Error("No default merge connector found. Please assign one as your default in Fluent.config")}}}).compose(o.default)}).call(this,r(4))},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o=a(r(0)),i=a(r(11));function a(t){return t&&t.__esModule?t:{default:t}}function s(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}e.default=(0,o.default)({init:function(t){if(!Array.isArray(t))throw new Error("Collect method only accepts arrays of data");this.data=t},properties:{data:[]},methods:{get:function(){return this.data},all:function(){return this.get()},avg:function(t){return this.average(t)},average:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=[].concat(s(this.data)),r=e.reduce(function(e,r){var n=r;if(r instanceof Object){var o=i.default.getFromPath(r,t,void 0);void 0!==o&&o.value&&(n=o.value)}return e+n},0);try{return r/e.length}catch(t){throw new Error('Division between "'+r+'" and "'+e.length+'" is not valid.')}},chunkApply:function(t,e){var r,n=this;return(r=regeneratorRuntime.mark(function r(){var o,i,a,s;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==e){r.next=2;break}throw new Error("Callback function not defined.");case 2:return o=n.data.length,i=0,n.chunks(t),a=function(r,n){return r.then(function(){return Promise.all(n.map(function(t){return e(t)}))}).then(function(){i=i+t>o?o:i+t,console.log("Processed "+i+"/"+o+" elements...")})},console.log("Processed "+i+"/"+o+" elements..."),s=n.data.reduce(a,Promise.resolve()),r.abrupt("return",s);case 9:case"end":return r.stop()}},r,n)}),function(){var t=r.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});e(s)}("next")})})()},chunks:function(t){for(var e=[].concat(s(this.data)),r=[];e.length;)r.push(e.splice(0,t));return this.data=r,this},collapse:function(){var t=[].concat(s(this.data)),e=[];return t.forEach(function(t){Array.isArray(t)?t.forEach(function(t){e.push(t)}):e.push(t)}),this.data=e,this},unChunk:function(){return this.collapse()},combine:function(t){var e=[].concat(s(this.data)),r=void 0;return e.forEach(function(e,o){e instanceof Object?(r||(r=[]),r[o]=n({},e,{_value:t[o]})):(r||(r={}),r[e]=t[o])}),this.data=r,this},concat:function(t){return this.data=[].concat(s(this.data),s(t)),this},contains:function(){var t=void 0,e=void 0,r=void 0;return 1===arguments.length?(this.isFunction(arguments.length<=0?void 0:arguments[0])&&(r=arguments.length<=0?void 0:arguments[0]),t=arguments.length<=0?void 0:arguments[0]):(t=arguments.length<=1?void 0:arguments[1],e=arguments.length<=0?void 0:arguments[0]),[].concat(s(this.data)).some(function(n,o){if(r)return!!r(n,o);var a=n;if(n instanceof Object){var s=i.default.getFromPath(n,e,void 0);s.value&&(a=s.value)}return a===t})},duplicatesBy:function(t){var e=[].concat(s(this.data)),r=[];return e.reduce(function(e,n){var o=t.reduce(function(t,e){return t+i.default.getFromPath(n,e,"").value},"");return e.hasOwnProperty(o)?r.push(n):e[o]=!0,e},{}),this.data=r,this},count:function(){return this.data.length},isFunction:function(t){return t&&"[object Function]"==={}.toString.call(t)}}})},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n,o=(n=function(t,e){try{return t()}catch(t){return e}},Object.freeze({get:n,getFromPath:function(t,e,r){var o=e;e.includes(" as ")&&(o=(e=e.split(" as "))[0]);var i=n(function(){return Array.isArray(e)&&e[1].trim()},void 0),a=o.replace(/\[/g,".").replace(/]/g,"").split(".").filter(Boolean).map(function(t){return t.trim()});return{label:i||o,value:a.every(function(e){return!(e&&void 0===(t=t[e]))})?t:r}}}));e.default=o},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==a(Symbol.iterator)?function(t){return void 0===t?"undefined":a(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":a(t)},o=u(r(0)),i=u(r(11)),s=u(r(10));function u(t){return t&&t.__esModule?t:{default:t}}function c(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function l(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}("next")})}}e.default=(0,o.default)({init:function(t){var e=t.name,r=t.remoteConnection,n=t.connector;if(!e&&!r)throw new Error("Model must have a name or path");if(!n)throw new Error("Model must have a connector. Please register one using Fluent.config");this.name=e||this.name,this.remoteConnection=r||this.remoteConnection,this.connector=n||this.connector,this.chainReference=[],this.whereArray=[],this.orWhereArray=[],this.selectArray=[],this.orderByArray=[],this.limitNumber=void 0,this.offsetNumber=void 0,this.populate=[],this.chunk=null,this.pullSize=null,this.ownerId=void 0,this.paginator=void 0,this.rawQuery=void 0},properties:{operators:["=","<",">","<=",">=","<>","!=","in","nin","like","regexp","startsWith","endsWith","contains"]},methods:{get:function(){throw new Error("get() method not implemented")},all:function(){throw new Error("all() method not implemented")},find:function(t){throw new Error("find() method not implemented")},findOne:function(){throw new Error("findOne() method not implemented")},remove:function(){throw new Error("remove() method not implemented")},softDelete:function(){throw new Error("softDelete() method not implemented")},insert:function(){throw new Error("insert() method not implemented")},update:function(){throw new Error("update() method not implemented")},clear:function(){throw new Error("clear() method not implemented")},updateOrCreate:function(){throw new Error("updateOrCreate() method not implemented")},findAndRemove:function(){throw new Error("findAndRemove() method not implemented")},paginate:function(){throw new Error("paginate() method not implemented")},tableView:function(){throw new Error("tableView() method not implemented")},raw:function(){throw new Error("raw() method not implemented")},owner:function(t){return this.chainReference.push({method:"owner",args:t}),this.ownerId=t,this},own:function(t){return this.owner(t)},first:function(){var t=this;return l(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get();case 2:return r=e.sent,e.abrupt("return",i.default.get(function(){return r[0]},[]));case 4:case"end":return e.stop()}},e,t)}))()},collect:function(){var t=this;return l(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get();case 2:if(r=e.sent,Array.isArray(r)){e.next=5;break}throw new Error("Collect method only accepts arrays of data");case 5:return e.abrupt("return",(0,s.default)(r));case 6:case"end":return e.stop()}},e,t)}))()},select:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e=this.prepareInput(e),this.chainReference.push({method:"select",args:e}),this.selectArray=this.selectArray.concat(e).filter(function(t,e,r){return r.indexOf(t)===e}),this},jsApplySelect:function(t){var e=this,r=Array.isArray(t)?[].concat(c(t)):[t];return this.selectArray.length>0&&(r=r.map(function(t){var r={};return e.selectArray.forEach(function(e){var o=i.default.getFromPath(t,e,void 0),a=i.default.get(function(){return o.value},void 0);void 0!==a&&("object"===(void 0===a?"undefined":n(a))&&a.hasOwnProperty("data")&&a.data.hasOwnProperty("name")?r[o.label]=a.data.name:r[o.label]=a)}),r})),r},offset:function(t){return this.chainReference.push({method:"offset",args:t}),this.offsetNumber=t,this},skip:function(t){return this.offset(t)},where:function(){for(var t=this,e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.chainReference.push({method:"where",args:r}),this.whereArray=[],(r=Array.isArray(r[0])?r:[r]).forEach(function(e){if(3!==e.length)throw new Error('There where clouse is not properly formatted, expecting: ["attribute", "operator","value"] but got "'+JSON.stringify(e)+'" ');t.whereArray.push(e)}),this},andWhere:function(){for(var t=this,e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.chainReference.push({method:"andWhere",args:r}),(r=Array.isArray(r[0])?r:[r]).forEach(function(e){if(3!==e.length)throw new Error('There where clouse is not properly formatted, expecting: ["attribute", "operator","value"] but got "'+JSON.stringify(e)+'" ');t.whereArray.push(e)}),this},orWhere:function(){for(var t=this,e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.chainReference.push({method:"orWhere",args:r}),(r=Array.isArray(r[0])?r:[r]).forEach(function(e){if(3!==e.length)throw new Error('There orWhere clouse is not properly formatted, expecting: ["attribute", "operator","value"] but got "'+JSON.stringify(e)+'" ');t.orWhereArray.push(e)}),this},limit:function(t){return this.chainReference.push({method:"limit",args:t}),this.limitNumber=t,this},take:function(t){return this.limit(t)},pluck:function(t){var e=this;return l(regeneratorRuntime.mark(function r(){var n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e.chainReference.push({method:"pluck",args:t}),r.next=3,e.get();case 3:return n=(n=r.sent).map(function(e){var r=i.default.getFromPath(e,t,void 0);if(void 0!==r.value)return r.value}),r.abrupt("return",n);case 6:case"end":return r.stop()}},r,e)}))()},orderBy:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.chainReference.push({method:"orderBy",args:e}),this.orderByArray=e,this},jsApplyOrderBy:function(t){var e=[].concat(c(t));if(0===this.orderByArray.length)return e;var r=this.orderByArray[0];if(this.selectArray.length>0&&(r.includes(".")||r.includes("[")))throw new Error('Cannot orderBy nested attribute "'+r+'" when using Select. You must rename the attribute');var n=this.orderByArray[1],o=this.orderByArray[2];return o||(o="string"),e.sort(function(t,e){var a=i.default.getFromPath(t,r,void 0).value,s=i.default.getFromPath(e,r,void 0).value;if(void 0===a||void 0===s)throw new Error('Cannot order by property "'+r+'" not all values have this property');return o.includes("string")||o.includes("number")?"asc"===n?a>s?1:a<s?-1:0:a>s?-1:a<s?1:0:o.includes("date")?"asc"===n?new Date(a)-new Date(s):new Date(s)-new Date(a):void 0})},prepareInput:function(t){var e=[];return t.forEach(function(t){var r=Array.isArray(t)?t:t.split(",");r=r.map(function(t){return t.trim()}),e=e.concat(r)}),e.filter(function(t,e,r){return r.indexOf(t)===e}),e},ArrayInsert:function(t,e){var r=this;return l(regeneratorRuntime.mark(function n(){var o,i,a,s,u,c,l,f;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:o=1,i=t.length,a=!0,s=!1,u=void 0,n.prev=5,c=t[Symbol.iterator]();case 7:if(a=(l=c.next()).done){n.next=26;break}return f=l.value,e&&e.showProgress&&console.log("Inserting "+o+" of "+i),n.prev=10,n.next=13,r.insert(f,e);case 13:n.sent,e&&e.showProgress&&console.log("Element "+o+" inserted"),o++,n.next=23;break;case 18:n.prev=18,n.t0=n.catch(10),console.log("ERROR - Element "+o+" - "+JSON.stringify(f)+" could not be inserted"),console.log(n.t0),o++;case 23:a=!0,n.next=7;break;case 26:n.next=32;break;case 28:n.prev=28,n.t1=n.catch(5),s=!0,u=n.t1;case 32:n.prev=32,n.prev=33,!a&&c.return&&c.return();case 35:if(n.prev=35,!s){n.next=38;break}throw u;case 38:return n.finish(35);case 39:return n.finish(32);case 40:case"end":return n.stop()}},n,r,[[5,28,32,40],[10,18],[33,,35,39]])}))()}}})},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.Event=e.MergeConnector=e.Interface=e.Fluent=e.Model=void 0;var n=u(r(14)),o=u(r(9)),i=u(r(12)),a=u(r(20)),s=u(r(21));function u(t){return t&&t.__esModule?t:{default:t}}e.Model=o.default,e.Fluent=n.default,e.Interface=i.default,e.MergeConnector=a.default,e.Event=s.default},function(t,e,r){(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o=s(r(0)),i=s(r(9)),a=s(r(10));function s(t){return t&&t.__esModule?t:{default:t}}function u(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var c=(0,o.default)({init:function(){this.registerGlobalVariable()},properties:{},methods:{model:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.registerModel(e),i.default.compose.apply(i.default,u(e))},extend:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.registerModel(e),i.default.compose.apply(i.default,u(e))},compose:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.registerModel(e),i.default.compose.apply(i.default,u(e))},collect:function(t){return(0,a.default)(t)},registerGlobalVariable:function(){"undefined"!=typeof window&&window&&!window._FLUENT_&&(window._FLUENT_={connectors:{},models:{}}),t&&!t._FLUENT_&&(t._FLUENT_={connectors:{},models:{}})},registerModel:function(e){var r=e&&e[0]&&e[0].properties&&e[0].properties.name?e[0].properties.name:void 0;if(r&&"baseModel"!==r){if("string"!=typeof r)throw new Error("You must assign a name to your Model when using Fluent.compose");"undefined"==typeof window?t._FLUENT_.models[r]=!0:window._FLUENT_.models[r]=!0}},config:function(e){var r=e.REMOTE_CONNECTORS,n=void 0===r?void 0:r,o=e.LOCAL_CONNECTORS,i=void 0===o?void 0:o,a=e.MERGE_CONNECTORS,s=void 0===a?void 0:a;"undefined"!=typeof window&&window&&(window._FLUENT_.connectors={local:i,remote:n,merge:s}),void 0!==t&&t&&(t._FLUENT_.connectors={local:i,remote:n,merge:s})},getConfig:function(){return"undefined"!=typeof window&&window?window._FLUENT_:void 0!==t&&t?t._FLUENT_:void 0},registerConnector:function(e){var r=e.type,o=e.connector;if(!r||!o)throw new Error("type and connector must be defined");if(!["local","remote","merge"].includes(r))throw new Error("type must be either local, remote or merge");var i="undefined"!=typeof window&&window?window._FLUENT_:t._FLUENT_,a=i.connectors.hasOwnProperty(r)?i.connectors[r]:[];if(0===a.length)return o=n({},o,{default:!0}),a.push(o),void(i.connectors[r]=a);a.find(function(t){return t.name===o.name})?console.log("A "+r+" connector with the name '"+o.name+"' already exists"):(a.push(o),i.connectors[r]=a)},deregisterConnector:function(e){var r=e.type,n=e.name;if(!r||!n)throw new Error("type and name must be defined");if(!["local","remote","merge"].includes(r))throw new Error("type must be either local, remote or merge");var o="undefined"!=typeof window&&window?window._FLUENT_:t._FLUENT_,i=o.connectors.hasOwnProperty(r)?o.connectors[r]:[];if(0!==i.length){var a=i.filter(function(t){return t.name!==n});o.connectors[r]=a}}}})();e.default=c}).call(this,r(4))},function(t,e,r){t.exports=r(1)},function(t,e){t.exports=function(t){return Boolean(t)&&"object"==(void 0===t?"undefined":a(t))&&Object.getPrototypeOf(t)===Object.prototype}},function(t,e,r){var n=r(2);function o(t){return function(e){var r={};return r[t]=e,this&&this.compose?this.compose(r):n(r)}}var i=o("properties"),a=o("staticProperties"),s=o("configuration"),u=o("deepProperties"),c=o("staticDeepProperties"),l=o("deepConfiguration"),f=o("initializers");t.exports=n({staticProperties:{methods:o("methods"),props:i,properties:i,statics:a,staticProperties:a,conf:s,configuration:s,deepProps:u,deepProperties:u,deepStatics:c,staticDeepProperties:c,deepConf:l,deepConfiguration:l,init:f,initializers:f,composers:o("composers"),propertyDescriptors:o("propertyDescriptors"),staticPropertyDescriptors:o("staticPropertyDescriptors")}})},function(t,e){t.exports=function(t){return"string"==typeof t}},function(t,e,r){var n=r(2),o=new WeakMap,i=function(t,e){function r(){var e=o.get(this);return t.apply(e,arguments)}return Object.defineProperty(r,"name",{value:e,configurable:!0}),r};function a(t,e){var r=e.stamp.compose,n=r.deepConfiguration.Privatize.methods,a={};o.set(a,this);var s=r.methods;if(!s)return a;for(var u=Object.keys(s),c=0;c<u.length;c++){var l=u[c];n.indexOf(l)<0&&(a[l]=i(s[l],l))}if("undefined"!=typeof Symbol){var f=Symbol.for("stamp");s[f]&&(a[f]=e.stamp)}return a}var s=n({initializers:[a],deepConfiguration:{Privatize:{methods:[]}},staticProperties:{privatizeMethods:function(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];"string"==typeof r&&r.length>0&&t.push(r)}return(this&&this.compose?this:s).compose({deepConfiguration:{Privatize:{methods:t}}})}},composers:[function(t){var e=t.stamp.compose.initializers;e.splice(e.indexOf(a),1),e.push(a)}]});t.exports=s},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n,o=(n=r(12))&&n.__esModule?n:{default:n};e.default=o.default.compose({properties:{localFx:void 0,remoteFx:void 0},init:function(t){this.connectors=t},methods:{get:function(){var t,e=this;return(t=regeneratorRuntime.mark(function t(){var r,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.prepareMergedFunctions(),t.next=3,e.localFx.get();case 3:return r=t.sent,t.next=6,e.remoteFx.get();case 6:return n=t.sent,t.abrupt("return",r.concat(n));case 8:case"end":return t.stop()}},t,e)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}("next")})})()},prepareMergedFunctions:function(){var t=this;this.localFx=this.connectors.local,this.remoteFx=this.connectors.remote,this.chainReference.forEach(function(e){var r=e.method,n=e.args;t.localFx=t.localFx[r](n),t.remoteFx=t.remoteFx[r](n)})}}})},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.freeze({emit:function(t){var e=t.name,r=t.data,n=t.text;if(!e)throw new Error("Event must have a name.");if(!r)throw new Error("Event must have data.");if(!n)throw new Error("Event must have a text.");var o=function(t,e){var r=document.createEvent("CustomEvent");return e=e||{bubbles:!1,cancelable:!1,detail:void 0},r.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),r}(e,{detail:{data:r,text:n}});window.dispatchEvent(o)},listen:function(t){var e=t.name,r=t.callback;if(!e)throw new Error("Listener must have a name.");if(!r)throw new Error("Listener must have a callback.");window.addEventListener(e,r)},remove:function(t){var e=t.name,r=t.callback;if(!e)throw new Error("Listener must have a name to detach");if(!r)throw new Error("Listener must have a callback to detach");window.removeEventListener(e,r)}});e.default=n}])},"object"==a(e)&&"object"==a(t)?t.exports=i():(n=[],void 0===(o="function"==typeof(r=i)?r.apply(e,n):r)||(t.exports=o))}).call(this,r(13)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}}])},function(t,e,r){t.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=8)}([function(t,e,r){"use strict";var n=r(3),o=r(18),i=Object.prototype.toString;function a(t){return"[object Array]"===i.call(t)}function s(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===i.call(t)}function c(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),a(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}t.exports={isArray:a,isArrayBuffer:function(t){return"[object ArrayBuffer]"===i.call(t)},isBuffer:o,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:u,isStream:function(t){return s(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function t(){var e={};function r(r,n){"object"==typeof e[n]&&"object"==typeof r?e[n]=t(e[n],r):e[n]=r}for(var n=0,o=arguments.length;n<o;n++)c(arguments[n],r);return e},extend:function(t,e,r){return c(e,function(e,o){t[o]=r&&"function"==typeof e?n(e,r):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,r){"use strict";(function(e){var n=r(0),o=r(21),i={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s,u={adapter:("undefined"!=typeof XMLHttpRequest?s=r(4):void 0!==e&&(s=r(4)),s),transformRequest:[function(t,e){return o(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t)?t:n.isArrayBufferView(t)?t.buffer:n.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):n.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],function(t){u.headers[t]={}}),n.forEach(["post","put","patch"],function(t){u.headers[t]=n.merge(i)}),t.exports=u}).call(this,r(20))},function(t,e,r){t.exports=r(17)},function(t,e,r){"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}},function(t,e,r){"use strict";var n=r(0),o=r(22),i=r(24),a=r(25),s=r(26),u=r(5),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||r(27);t.exports=function(t){return new Promise(function(e,l){var f=t.data,h=t.headers;n.isFormData(f)&&delete h["Content-Type"];var p=new XMLHttpRequest,d="onreadystatechange",v=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in p||s(t.url)||(p=new window.XDomainRequest,d="onload",v=!0,p.onprogress=function(){},p.ontimeout=function(){}),t.auth){var y=t.auth.username||"",m=t.auth.password||"";h.Authorization="Basic "+c(y+":"+m)}if(p.open(t.method.toUpperCase(),i(t.url,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,p[d]=function(){if(p&&(4===p.readyState||v)&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null,n={data:t.responseType&&"text"!==t.responseType?p.response:p.responseText,status:1223===p.status?204:p.status,statusText:1223===p.status?"No Content":p.statusText,headers:r,config:t,request:p};o(e,l,n),p=null}},p.onerror=function(){l(u("Network Error",t,null,p)),p=null},p.ontimeout=function(){l(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",p)),p=null},n.isStandardBrowserEnv()){var g=r(28),b=(t.withCredentials||s(t.url))&&t.xsrfCookieName?g.read(t.xsrfCookieName):void 0;b&&(h[t.xsrfHeaderName]=b)}if("setRequestHeader"in p&&n.forEach(h,function(t,e){void 0===f&&"content-type"===e.toLowerCase()?delete h[e]:p.setRequestHeader(e,t)}),t.withCredentials&&(p.withCredentials=!0),t.responseType)try{p.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){p&&(p.abort(),l(t),p=null)}),void 0===f&&(f=null),p.send(f)})}},function(t,e,r){"use strict";var n=r(23);t.exports=function(t,e,r,o,i){var a=new Error(t);return n(a,e,r,o,i)}},function(t,e,r){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,r){"use strict";function n(t){this.message=t}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,t.exports=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=r(9),i=(n=o)&&n.__esModule?n:{default:n};e.default=i.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=d(r(10)),a=d(r(11)),s=d(r(12)),u=d(r(13)),c=d(r(16)),l=d(r(2)),f=r(36),h=d(r(38)),p=d(r(40));function d(t){return t&&t.__esModule?t:{default:t}}function v(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}("next")})}}a.default.extend(s.default),e.default=f.Interface.compose({methods:{getToken:function(){if("undefined"!=typeof localStorage){var t=localStorage.getItem("formioToken");if(!t||"x-token"===this.getTokenType(t))return t;var e=(0,u.default)(t),r=a.default.unix(e.exp);if((0,a.default)().isSameOrAfter(r))throw f.Event.emit({name:"GOAT:SESSION:EXPIRED",data:r,text:"Session expired"}),new p.default("Token has expired.");return t}},baseUrl:function(){var t=this.connector,e=t.baseUrl,r=t.name;if(!e)throw new Error('You did not provide a baseUrl for the "'+r+'" connector');return e.replace(/\/+$/,"")},get:function(){var t=this;return v(regeneratorRuntime.mark(function e(){var r,n,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.ownerId&&t.andWhere("owner","=",t.ownerId),r=void 0,n=void 0,e.next=5,(0,i.default)(t.httpGET());case 5:if(a=e.sent,s=o(a,2),r=s[0],n=s[1],!r){e.next=12;break}throw console.log(r),new Error("Error while getting submissions");case 12:return n=t.jsApplySelect(n&&n.data),n=t.jsApplyOrderBy(n),e.abrupt("return",n);case 15:case"end":return e.stop()}},e,t)}))()},all:function(){var t=this;return v(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.get());case 1:case"end":return e.stop()}},e,t)}))()},numberOfRows:function(){var t=this;return v(regeneratorRuntime.mark(function e(){var r,n,o,i,a,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.getUrl(),n=t.getHeaders(),o=t.getFilters(),i=t.getSkip(),a=t.getOrder(),s=t.getSelect(),r+="?limit=1",r=o?r+t.getSpacer(r)+o:r,r=i?r+t.getSpacer(r)+i:r,r=a?r+t.getSpacer(r)+a:r,r=s?r+t.getSpacer(r)+s:r,e.next=15,h.default.isOnline();case 15:if(e.sent){e.next=18;break}throw new Error("Cannot make get request to "+r+".You are not online");case 18:return e.next=20,l.default.get(r,{headers:n});case 20:return u=e.sent,e.abrupt("return",u.headers["content-range"].split("/")[1]);case 22:case"end":return e.stop()}},e,t)}))()},paginate:function(t){var e=this;return v(regeneratorRuntime.mark(function r(){var n,o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.numberOfRows();case 2:return n=r.sent,e.offset((t.page-1)*t.rowsPerPage).take(t.rowsPerPage),o={},r.next=7,e.get();case 7:return o.data=r.sent,o.paginator={page:t.page,rowsPerPage:t.rowsPerPage,rowsNumber:n},console.log("paginator",o),r.abrupt("return",o);case 11:case"end":return r.stop()}},r,e)}))()},insert:function(t,e){var r=this;return v(regeneratorRuntime.mark(function n(){var a,s,u,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!Array.isArray(t)){n.next=2;break}return n.abrupt("return",r.ArrayInsert(t,e));case 2:return n.next=4,(0,i.default)(r.httpPOST(t));case 4:if(a=n.sent,s=o(a,2),u=s[0],c=s[1],!u){n.next=10;break}throw new Error("Cannot insert data");case 10:return n.abrupt("return",c.data);case 11:case"end":return n.stop()}},n,r)}))()},update:function(t){var e=this;return v(regeneratorRuntime.mark(function r(){var n,a,s,u;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(t._id){r.next=2;break}throw new Error("Formio connector error. Cannot update a Model without _id key");case 2:if(!t._id.includes("_local")){r.next=4;break}throw new Error("Formio connector error. Cannot update a local document");case 4:return r.next=6,(0,i.default)(e.httpPUT(t));case 6:if(n=r.sent,a=o(n,2),s=a[0],u=a[1],!s){r.next=13;break}throw console.log(s),new Error("Cannot insert data");case 13:return r.abrupt("return",u.data);case 14:case"end":return r.stop()}},r,e)}))()},clear:function(){var t=this;return v(regeneratorRuntime.mark(function e(){var r,n,a,s,u,c=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).sure;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c&&!0===c){e.next=2;break}throw new Error('Clear() method will delete everything!, you must set the "sure" parameter "clear({sure:true})" to continue');case 2:return r=[],e.next=5,(0,i.default)(t.select("_id").pluck("_id"));case 5:if(n=e.sent,a=o(n,2),s=a[0],u=a[1],!s){e.next=12;break}throw console.log(s),new Error("Cannot get remote Model");case 12:return u.forEach(function(e){r.push(t.httpDelete(e))}),e.abrupt("return",l.default.all(r));case 14:case"end":return e.stop()}},e,t)}))()},remove:function(t){var e=this;return v(regeneratorRuntime.mark(function r(){var n,a,s,u;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,i.default)(e.httpDelete(t));case 2:if(n=r.sent,a=o(n,2),s=a[0],u=a[1],!s){r.next=9;break}throw console.log(s),new Error("FormioConnector: Could not delete "+t);case 9:return r.abrupt("return",u);case 10:case"end":return r.stop()}},r,e)}))()},find:function(t){var e=this;return v(regeneratorRuntime.mark(function r(){var a,s,u,c;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if("string"==typeof t){r.next=2;break}throw new Error('Formio connector find() method only accepts strings "'+(void 0===t?"undefined":n(t))+'" given "'+t+'"');case 2:return r.next=4,(0,i.default)(e.where("_id","=",t).first());case 4:if(a=r.sent,s=o(a,2),u=s[0],c=s[1],!u){r.next=11;break}throw console.log(u),new Error("Find() could not get remote data");case 11:return r.abrupt("return",c);case 12:case"end":return r.stop()}},r,e)}))()},getUrl:function(){var t=this,e=this&&this.baseUrl()?this.baseUrl():void 0,r=c.default.get(function(){return t.remoteConnection.path},void 0),n=c.default.get(function(){return t.remoteConnection.id},void 0);if(!c.default.get(function(){return t.remoteConnection.pullForm},void 0)&&r&&(r=n?r+"/submission/"+n:r+"/submission"),!e)throw new Error("Cannot get remote model. baseUrl not defined");return r?e+"/"+r:e},getHeaders:function(){var t={},e={};return"undefined"!=typeof localStorage&&(e=this.getToken()),(this.remoteConnection.token||""===this.remoteConnection.token)&&(e=this.remoteConnection.token),e?(t[this.getTokenType(e)]=e,t):t},getSpacer:function(t){return"&"===t.substr(t.length-1)?"":"&"},httpGET:function(){var t=this;return v(regeneratorRuntime.mark(function e(){var r,n,o,i,a,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.getUrl(),n=t.getHeaders(),o=t.getFilters(),i=t.getLimit(),a=t.getSkip(),s=t.getOrder(),u=t.getSelect(),r=r+""+i,r=o?r+t.getSpacer(r)+o:r,r=a?r+t.getSpacer(r)+a:r,r=s?r+t.getSpacer(r)+s:r,r=u?r+t.getSpacer(r)+u:r,e.next=15,h.default.isOnline();case 15:if(e.sent){e.next=18;break}throw new Error("Cannot make get request to "+r+".You are not online");case 18:return e.abrupt("return",l.default.get(r,{headers:n}));case 19:case"end":return e.stop()}},e,t)}))()},httpPOST:function(t){var e=this;return v(regeneratorRuntime.mark(function r(){var n,o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.getUrl(),o=e.getHeaders(),r.next=4,h.default.isOnline();case 4:if(r.sent){r.next=7;break}throw new Error("Cannot make request post to "+n+".You are not online");case 7:return r.abrupt("return",l.default.post(n,t,{headers:o}));case 8:case"end":return r.stop()}},r,e)}))()},httpPUT:function(t){var e=this;return v(regeneratorRuntime.mark(function r(){var n,o,i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,h.default.isOnline();case 2:if(n=r.sent,o=e.getUrl()+"/"+t._id,i=e.getHeaders(),n){r.next=7;break}throw new Error("Cannot make request post to "+o+".You are not online");case 7:return r.abrupt("return",l.default.put(o,t,{headers:i}));case 8:case"end":return r.stop()}},r,e)}))()},httpDelete:function(t){var e=this.getHeaders(),r=this.getUrl()+"/"+t;return l.default.delete(r,{headers:e})},getTokenType:function(t){return t.length>32?"x-jwt-token":"x-token"},getFilters:function(){var t=this.whereArray;if(t&&0!==t.length){var e="";return t.forEach(function(t){var r="",n=t[0],o=t[1],i=t[2];switch(o){case"=":e=e+n+"="+i+"&";break;case"!=":e=e+n+"__ne="+i+"&";break;case">":e=e+n+"__gt="+i+"&";break;case">=":e=e+n+"__gte="+i+"&";break;case"<":e=e+n+"__lt="+i+"&";break;case"<=":e=e+n+"__lte="+i+"&";break;case"in":r="",i.forEach(function(t,e,n){r=e===n.length-1?r+t:r+t+","}),e=e+n+"__in="+r+"&";break;case"nin":r="",i.forEach(function(t,e,n){r=e===n.length-1?r+t:r+t+","}),e=e+n+"__nin="+r+"&";break;case"exists":e=e+n+"__exists="+!0+"&";break;case"!exists":e=e+n+"__exists="+!1+"&";break;case"regex":e=e+n+"__regex="+i+"&"}}),e.substring(0,e.length-1)}},getLimit:function(){return this.limitNumber&&0!==this.limitNumber||(this.limitNumber=50),"?limit="+this.limitNumber},getSkip:function(){return this.offsetNumber||(this.offsetNumber=0),"skip="+this.offsetNumber},getOrder:function(){return"sort="+("DESC"===this.orderByArray[1]?"-":"")+this.orderByArray[0]},getSelect:function(){var t=this.selectArray;if(t=t.map(function(t){return t.split(" as ")[0]}))return"select="+t.join(",")}}})},function(t,e,r){"use strict";function n(t,e){return t.then(function(t){return[null,t]}).catch(function(t){return e&&Object.assign(t,e),[t,void 0]})}r.r(e),r.d(e,"to",function(){return n}),e.default=n},function(t,e,r){t.exports=function(){"use strict";var t="millisecond",e="second",r="minute",n="hour",o="day",i="week",a="month",s="quarter",u="year",c=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,l=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=function(t,e,r){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(r)+t},h={s:f,z:function(t){var e=-t.utcOffset(),r=Math.abs(e),n=Math.floor(r/60),o=r%60;return(e<=0?"+":"-")+f(n,2,"0")+":"+f(o,2,"0")},m:function(t,e){var r=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(r,a),o=e-n<0,i=t.clone().add(r+(o?-1:1),a);return Number(-(r+(e-n)/(o?n-i:i-n))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(c){return{M:a,y:u,w:i,d:o,h:n,m:r,s:e,ms:t,Q:s}[c]||String(c||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},p={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},d="en",v={};v[d]=p;var y=function(t){return t instanceof w},m=function(t,e,r){var n;if(!t)return null;if("string"==typeof t)v[t]&&(n=t),e&&(v[t]=e,n=t);else{var o=t.name;v[o]=t,n=o}return r||(d=n),n},g=function(t,e,r){if(y(t))return t.clone();var n=e?"string"==typeof e?{format:e,pl:r}:e:{};return n.date=t,new w(n)},b=h;b.l=m,b.i=y,b.w=function(t,e){return g(t,{locale:e.$L,utc:e.$u})};var w=function(){function f(t){this.$L=this.$L||m(t.locale,null,!0)||d,this.parse(t)}var h=f.prototype;return h.parse=function(t){this.$d=function(t){var e=t.date,r=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(c);if(n)return r?new Date(Date.UTC(n[1],n[2]-1,n[3]||1,n[4]||0,n[5]||0,n[6]||0,n[7]||0)):new Date(n[1],n[2]-1,n[3]||1,n[4]||0,n[5]||0,n[6]||0,n[7]||0)}return new Date(e)}(t),this.init()},h.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},h.$utils=function(){return b},h.isValid=function(){return!("Invalid Date"===this.$d.toString())},h.isSame=function(t,e){var r=g(t);return this.startOf(e)<=r&&r<=this.endOf(e)},h.isAfter=function(t,e){return g(t)<this.startOf(e)},h.isBefore=function(t,e){return this.endOf(e)<g(t)},h.$g=function(t,e,r){return b.u(t)?this[e]:this.set(r,t)},h.year=function(t){return this.$g(t,"$y",u)},h.month=function(t){return this.$g(t,"$M",a)},h.day=function(t){return this.$g(t,"$W",o)},h.date=function(t){return this.$g(t,"$D","date")},h.hour=function(t){return this.$g(t,"$H",n)},h.minute=function(t){return this.$g(t,"$m",r)},h.second=function(t){return this.$g(t,"$s",e)},h.millisecond=function(e){return this.$g(e,"$ms",t)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(t,s){var c=this,l=!!b.u(s)||s,f=b.p(t),h=function(t,e){var r=b.w(c.$u?Date.UTC(c.$y,e,t):new Date(c.$y,e,t),c);return l?r:r.endOf(o)},p=function(t,e){return b.w(c.toDate()[t].apply(c.toDate(),(l?[0,0,0,0]:[23,59,59,999]).slice(e)),c)},d=this.$W,v=this.$M,y=this.$D,m="set"+(this.$u?"UTC":"");switch(f){case u:return l?h(1,0):h(31,11);case a:return l?h(1,v):h(0,v+1);case i:var g=this.$locale().weekStart||0,w=(d<g?d+7:d)-g;return h(l?y-w:y+(6-w),v);case o:case"date":return p(m+"Hours",0);case n:return p(m+"Minutes",1);case r:return p(m+"Seconds",2);case e:return p(m+"Milliseconds",3);default:return this.clone()}},h.endOf=function(t){return this.startOf(t,!1)},h.$set=function(i,s){var c,l=b.p(i),f="set"+(this.$u?"UTC":""),h=(c={},c[o]=f+"Date",c.date=f+"Date",c[a]=f+"Month",c[u]=f+"FullYear",c[n]=f+"Hours",c[r]=f+"Minutes",c[e]=f+"Seconds",c[t]=f+"Milliseconds",c)[l],p=l===o?this.$D+(s-this.$W):s;if(l===a||l===u){var d=this.clone().set("date",1);d.$d[h](p),d.init(),this.$d=d.set("date",Math.min(this.$D,d.daysInMonth())).toDate()}else h&&this.$d[h](p);return this.init(),this},h.set=function(t,e){return this.clone().$set(t,e)},h.get=function(t){return this[b.p(t)]()},h.add=function(t,s){var c,l=this;t=Number(t);var f=b.p(s),h=function(e){var r=new Date(l.$d);return r.setDate(r.getDate()+Math.round(e*t)),b.w(r,l)};if(f===a)return this.set(a,this.$M+t);if(f===u)return this.set(u,this.$y+t);if(f===o)return h(1);if(f===i)return h(7);var p=(c={},c[r]=6e4,c[n]=36e5,c[e]=1e3,c)[f]||1,d=this.valueOf()+t*p;return b.w(d,this)},h.subtract=function(t,e){return this.add(-1*t,e)},h.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var r=t||"YYYY-MM-DDTHH:mm:ssZ",n=b.z(this),o=this.$locale(),i=this.$H,a=this.$m,s=this.$M,u=o.weekdays,c=o.months,f=function(t,n,o,i){return t&&(t[n]||t(e,r))||o[n].substr(0,i)},h=function(t){return b.s(i%12||12,t,"0")},p=o.meridiem||function(t,e,r){var n=t<12?"AM":"PM";return r?n.toLowerCase():n},d={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:b.s(s+1,2,"0"),MMM:f(o.monthsShort,s,c,3),MMMM:c[s]||c(this,r),D:this.$D,DD:b.s(this.$D,2,"0"),d:this.$W,dd:f(o.weekdaysMin,this.$W,u,2),ddd:f(o.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:i,HH:b.s(i,2,"0"),h:h(1),hh:h(2),a:p(i,a,!0),A:p(i,a,!1),m:a,mm:b.s(a,2,"0"),s:this.$s,ss:b.s(this.$s,2,"0"),SSS:b.s(this.$ms,3,"0"),Z:n};return String(r.replace(l,function(t,e){return e||d[t]||n.replace(":","")}))},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(t,c,l){var f,h=b.p(c),p=g(t),d=6e4*(p.utcOffset()-this.utcOffset()),v=this-p,y=b.m(this,p);return y=(f={},f[u]=y/12,f[a]=y,f[s]=y/3,f[i]=(v-d)/6048e5,f[o]=(v-d)/864e5,f[n]=v/36e5,f[r]=v/6e4,f[e]=v/1e3,f)[h]||v,l?y:b.a(y)},h.daysInMonth=function(){return this.endOf(a).$D},h.$locale=function(){return v[this.$L]},h.locale=function(t,e){if(!t)return this.$L;var r=this.clone();return r.$L=m(t,e,!0),r},h.clone=function(){return b.w(this.toDate(),this)},h.toDate=function(){return new Date(this.$d)},h.toJSON=function(){return this.toISOString()},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},f}();return g.prototype=w.prototype,g.extend=function(t,e){return t(e,w,g),g},g.locale=m,g.isDayjs=y,g.unix=function(t){return g(1e3*t)},g.en=v[d],g.Ls=v,g}()},function(t,e,r){t.exports=function(){"use strict";return function(t,e){e.prototype.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)}}}()},function(t,e,r){"use strict";var n=r(14);function o(t){this.message=t}o.prototype=new Error,o.prototype.name="InvalidTokenError",t.exports=function(t,e){if("string"!=typeof t)throw new o("Invalid token specified");var r=!0===(e=e||{}).header?0:1;try{return JSON.parse(n(t.split(".")[r]))}catch(t){throw new o("Invalid token specified: "+t.message)}},t.exports.InvalidTokenError=o},function(t,e,r){var n=r(15);t.exports=function(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return function(t){return decodeURIComponent(n(t).replace(/(.)/g,function(t,e){var r=e.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}(e)}catch(t){return n(e)}}},function(t,e){function r(t){this.message=t}r.prototype=new Error,r.prototype.name="InvalidCharacterError",t.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,o,i=0,a=0,s="";o=e.charAt(a++);~o&&(n=i%4?64*n+o:o,i++%4)?s+=String.fromCharCode(255&n>>(-2*i&6)):0)o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return s}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o,i,a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=(n=function(t,e){try{return t()}catch(t){return e}},o=function(t,e,r){var o=e;e.includes(" as ")&&(o=(e=e.split(" as "))[0]);var i=n(function(){return Array.isArray(e)&&e[1].trim()},void 0),a=o.replace(/\[/g,".").replace(/]/g,"").split(".").filter(Boolean).map(function(t){return t.trim()});return{label:i||o,value:a.every(function(e){return!(e&&void 0===(t=t[e]))})?t:r}},i=function t(e,r,n,o,i){e&&(o=o||"",e.forEach(function(e){if(e){var s=e.columns&&Array.isArray(e.columns),u=e.rows&&Array.isArray(e.rows),c=e.components&&Array.isArray(e.components),l=!1,f=e.key?o?o+"."+e.key:e.key:"";i&&(e.parent=a({},i),delete e.parent.components,delete e.parent.componentMap,delete e.parent.columns,delete e.parent.rows),(n||e.tree||!s&&!u&&!c)&&(l=r(e,f));var h=function(){return e.key&&!["panel","table","well","columns","fieldset","tabs","form"].includes(e.type)&&(["datagrid","container","editgrid"].includes(e.type)||e.tree)?f:e.key&&"form"===e.type?f+".data":o};l||(s?e.columns.forEach(function(o){return t(o.components,r,n,h(),i?e:null)}):u?e.rows.forEach(function(o){Array.isArray(o)&&o.forEach(function(o){return t(o.components,r,n,h(),i?e:null)})}):c&&t(e.components,r,n,h(),i?e:null))}}))},Object.freeze({cloneDeep:function(t){return JSON.parse(JSON.stringify(t))},get:n,orderBy:function(){},isEmpty:function(t){if(!t)return!0;if(Array.isArray(t)||"string"==typeof t)return!t.length;for(var e in t)if(hasOwnProperty.call(t,e))return!1;return!0},debounce:function(t,e){var r=void 0;return function(){var n=this,o=arguments;clearTimeout(r),r=setTimeout(function(){return t.apply(n,o)},e)}},getFromPath:o,deleteNulls:function t(e){var r=e,n=r instanceof Array;for(var o in r)null===r[o]?n?r.splice(o,1):delete r[o]:"object"===s(r[o])&&t(r[o]);return r},eachComponent:i,findComponents:function(t,e){var r=[];return i(t,function(t,n){(function(t,e){if("string"==typeof e)return t.key===e;var r=!1;return Object.keys(e).forEach(function(n){if(!(r=o(t,n).value===e[n]))return!1}),r})(t,e)&&(t.path=n,r.push(t))},!0),r},unixDate:function(){return Math.round(+new Date/1e3)}}));e.default=u},function(t,e,r){"use strict";var n=r(0),o=r(3),i=r(19),a=r(1);function s(t){var e=new i(t),r=o(i.prototype.request,e);return n.extend(r,i.prototype,e),n.extend(r,e),r}var u=s(a);u.Axios=i,u.create=function(t){return s(n.merge(a,t))},u.Cancel=r(7),u.CancelToken=r(34),u.isCancel=r(6),u.all=function(t){return Promise.all(t)},u.spread=r(35),t.exports=u,t.exports.default=u},function(t,e){function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */t.exports=function(t){return null!=t&&(r(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,r){"use strict";var n=r(1),o=r(0),i=r(29),a=r(30);function s(t){this.defaults=t,this.interceptors={request:new i,response:new i}}s.prototype.request=function(t){"string"==typeof t&&(t=o.merge({url:arguments[0]},arguments[1])),(t=o.merge(n,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[a,void 0],r=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)r=r.then(e.shift(),e.shift());return r},o.forEach(["delete","get","head","options"],function(t){s.prototype[t]=function(e,r){return this.request(o.merge(r||{},{method:t,url:e}))}}),o.forEach(["post","put","patch"],function(t){s.prototype[t]=function(e,r,n){return this.request(o.merge(n||{},{method:t,url:e,data:r}))}}),t.exports=s},function(t,e){var r,n,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!l){var t=s(h);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new d(t,e)),1!==c.length||l||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,r){"use strict";var n=r(0);t.exports=function(t,e){n.forEach(t,function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])})}},function(t,e,r){"use strict";var n=r(5);t.exports=function(t,e,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?e(n("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}},function(t,e,r){"use strict";t.exports=function(t,e,r,n,o){return t.config=e,r&&(t.code=r),t.request=n,t.response=o,t}},function(t,e,r){"use strict";var n=r(0);function o(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,r){if(!e)return t;var i;if(r)i=r(e);else if(n.isURLSearchParams(e))i=e.toString();else{var a=[];n.forEach(e,function(t,e){null!=t&&(n.isArray(t)?e+="[]":t=[t],n.forEach(t,function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),a.push(o(e)+"="+o(t))}))}),i=a.join("&")}return i&&(t+=(-1===t.indexOf("?")?"?":"&")+i),t}},function(t,e,r){"use strict";var n=r(0),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,r,i,a={};return t?(n.forEach(t.split("\n"),function(t){if(i=t.indexOf(":"),e=n.trim(t.substr(0,i)).toLowerCase(),r=n.trim(t.substr(i+1)),e){if(a[e]&&o.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([r]):a[e]?a[e]+", "+r:r}}),a):a}},function(t,e,r){"use strict";var n=r(0);t.exports=n.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(t){var n=t;return e&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=o(window.location.href),function(e){var r=n.isString(e)?o(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}},function(t,e,r){"use strict";function n(){this.message="String contains an invalid character"}n.prototype=new Error,n.prototype.code=5,n.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,r,o=String(t),i="",a=0,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.charAt(0|a)||(s="=",a%1);i+=s.charAt(63&e>>8-a%1*8)){if((r=o.charCodeAt(a+=.75))>255)throw new n;e=e<<8|r}return i}},function(t,e,r){"use strict";var n=r(0);t.exports=n.isStandardBrowserEnv()?{write:function(t,e,r,o,i,a){var s=[];s.push(t+"="+encodeURIComponent(e)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(o)&&s.push("path="+o),n.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,r){"use strict";var n=r(0);function o(){this.handlers=[]}o.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){n.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=o},function(t,e,r){"use strict";var n=r(0),o=r(31),i=r(6),a=r(1),s=r(32),u=r(33);function c(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return c(t),t.baseURL&&!s(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||a.adapter)(t).then(function(e){return c(t),e.data=o(e.data,e.headers,t.transformResponse),e},function(e){return i(e)||(c(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,r){"use strict";var n=r(0);t.exports=function(t,e,r){return n.forEach(r,function(r){t=r(t,e)}),t}},function(t,e,r){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,r){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,r){"use strict";var n=r(7);function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var r=this;t(function(t){r.reason||(r.reason=new n(t),e(r.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o(function(e){t=e}),cancel:t}},t.exports=o},function(t,e,r){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,r){"use strict";(function(t){var r,n,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i=function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==(void 0===t?"undefined":a(t))&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=13)}([function(t,e,r){var n=r(2),o=r(17),i=r(6),a=r(18),s=r(1),u=r(3),c=r(8),l=r(7),f=Array.prototype.concat;function h(){var t=f.apply([],arguments).filter(u);return 0===t.length?void 0:t}function p(t){if(!s(t))return t;var e=t.methods,r=t.properties,n=t.props,o=t.initializers,i=t.init,u=t.composers,f=t.deepProperties,p=t.deepProps,d=t.propertyDescriptors,v=t.staticProperties,y=t.statics,m=t.staticDeepProperties,g=t.deepStatics,b=t.configuration,w=t.conf,x=t.deepConfiguration,_=t.deepConf,k=s(n)||s(r)?l({},n,r):void 0,S=s(p)?c({},p):void 0;S=s(f)?c(S,f):S;var O=s(y)||s(v)?l({},y,v):void 0,E=s(g)?c({},g):void 0;E=s(m)?c(E,m):E;var P=t.staticPropertyDescriptors;a(t.name)&&(P=l({},P||{},{name:{value:t.name}}));var A=s(w)||s(b)?l({},w,b):void 0,C=s(_)?c({},_):void 0;C=s(x)?c(C,x):C;var T=h(i,o),R=h(u),M={};return e&&(M.methods=e),k&&(M.properties=k),T&&(M.initializers=T),R&&(M.composers=R),S&&(M.deepProperties=S),O&&(M.staticProperties=O),E&&(M.staticDeepProperties=E),d&&(M.propertyDescriptors=d),P&&(M.staticPropertyDescriptors=P),A&&(M.configuration=A),C&&(M.deepConfiguration=C),M}function d(){for(var t=arguments.length,e=[],r=0;r<t;r+=1){var o=arguments[r];e.push(i(o)?o:p(o))}return n.apply(this||v,e)}var v=o.compose({staticProperties:{create:function(){return this.apply(this,arguments)},compose:d}}),y=o.compose.staticProperties;for(var m in y)d[m]=y[m].bind(v);d.compose=d.bind(),t.exports=d},function(t,e){t.exports=function(t){var e=void 0===t?"undefined":a(t);return Boolean(t)&&("object"===e||"function"===e)}},function(t,e,r){var n=r(5),o=r(3),i=r(1),a=r(6),s=r(15),u=r(7),c=r(8),l=Array.prototype.slice;function f(t,e){var r=function t(e){var r=t.compose||{},n={__proto__:r.methods};if(c(n,r.deepProperties),u(n,r.properties),Object.defineProperties(n,r.propertyDescriptors||{}),!r.initializers||0===r.initializers.length)return n;void 0===e&&(e={});for(var i=r.initializers,a=i.length,s=0;s<a;s+=1){var f=i[s];if(o(f)){var h=f.call(n,e,{instance:n,stamp:t,args:l.apply(arguments)});n=void 0===h?n:h}}return n};t.staticDeepProperties&&c(r,t.staticDeepProperties),t.staticProperties&&u(r,t.staticProperties),t.staticPropertyDescriptors&&Object.defineProperties(r,t.staticPropertyDescriptors);var n=o(r.compose)?r.compose:e;return u(r.compose=function(){return n.apply(this,arguments)},t),r}function h(t,e,r){if(n(e)){var i=e.length,a=t[r]||[];t[r]=a;for(var s=0;s<i;s+=1){var u=e[s];o(u)&&a.indexOf(u)<0&&a.push(u)}}}function p(t,e,r,n){i(e[r])&&(i(t[r])||(t[r]={}),n(t[r],e[r]))}function d(t,e,r){p(t,e,r,c)}function v(t,e,r){p(t,e,r,u)}function y(t,e){var r=e&&e.compose||e;v(t,r,"methods"),v(t,r,"properties"),d(t,r,"deepProperties"),v(t,r,"propertyDescriptors"),v(t,r,"staticProperties"),d(t,r,"staticDeepProperties"),v(t,r,"staticPropertyDescriptors"),v(t,r,"configuration"),d(t,r,"deepConfiguration"),h(t,r.initializers,"initializers"),h(t,r.composers,"composers")}t.exports=function t(){var e={},r=[];s(this)&&(y(e,this),r.push(this));for(var o=0;o<arguments.length;o++){var i=arguments[o];s(i)&&(y(e,i),r.push(i))}var u=f(e,t),c=e.composers;if(n(c)&&c.length>0)for(var l=0;l<c.length;l+=1){var h=(0,c[l])({stamp:u,composables:r});u=a(h)?h:u}return u}},function(t,e){t.exports=function(t){return"function"==typeof t}},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==("undefined"==typeof window?"undefined":a(window))&&(r=window)}t.exports=r},function(t,e){t.exports=Array.isArray},function(t,e,r){var n=r(3);t.exports=function(t){return n(t)&&n(t.compose)}},function(t,e){t.exports=Object.assign},function(t,e,r){var n=r(16),o=r(1),i=r(5);function a(t,e){if(void 0===e)return t;if(i(e))return(i(t)?t:[]).concat(e);if(!n(e))return e;for(var r=o(t)?t:{},s=Object.keys(e),u=0;u<s.length;u+=1){var c=s[u],l=e[c];if(void 0!==l){var f=r[c],h=n(f)||i(l)?f:{};r[c]=a(h,l)}}return r}t.exports=function(t){for(var e=1;e<arguments.length;e++)t=a(t,arguments[e]);return t}},function(t,e,r){(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=i(r(0)),o=i(r(19));function i(t){return t&&t.__esModule?t:{default:t}}e.default=(0,n.default)({properties:{name:"baseModel",config:{remote:{path:void 0,token:void 0,pullForm:!1},local:{connector:"loki"},merge:{connector:"formio-loki"}}},methods:{getModelName:function(){return this.name},getFluentConfig:function(){var e=void 0;return"undefined"!=typeof window&&window&&window._FLUENT_?e=window._FLUENT_:t&&t._FLUENT_&&(e=t._FLUENT_),e},getConnector:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Array.isArray(t)?this.getConnectorFromArray(t,e,r):t instanceof Object?t:void 0},getConnectorFromArray:function(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(1===t.length)return t[0];if(this.config&&this.config[e]&&this.config[e].connector){var o=t.find(function(t){return t.name===r.config[e].connector});if(o instanceof Object)return o}if(n){var i=t.find(function(t){return t.name===n});if(i instanceof Object)return i}var a=t.find(function(t){return t.default});return a instanceof Object?a:void 0},remote:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.token,r=void 0===e?void 0:e,n=t.pullForm,o=void 0===n?void 0:n,i=t.connectorName,a=void 0===i?void 0:i,s=t.path,u=void 0===s?void 0:s,c=this.getFluentConfig(),l=c&&c.connectors&&c.connectors.remote;if(!l)throw new Error("No remote connector was defined. Please define it using Fluent.config()");var f=this.getConnector(l,"remote",a||!1);if(this.config.remote.token=r||this.config.remote.token,this.config.remote.path=u||this.config.remote.path,o&&(this.config.remote.pullForm=o||this.config.remote.pullForm),f)return f.connector({remoteConnection:this.config.remote,connector:f});throw new Error("No default remote connector found. Please assign one as your default in Fluent.config")},local:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).connectorName,e=void 0===t?void 0:t,r=this.getFluentConfig(),n=r&&r.connectors&&r.connectors.local;if(!n)throw new Error("No local connector was defined. Please define it using Fluent.config()");var o=this.getConnector(n,"local",e||!1);if(o)return o.connector({name:this.name,connector:o});throw new Error("No default local connector found. Please assign one as your default in Fluent.config")},merged:function(){var t=this.local(),e=this.remote(),r=this.getFluentConfig(),n=r&&r.connectors&&r.connectors.merge;if(!n)throw new Error("No merge connector was defined. Please define it using Fluent.config()");var o=this.getConnector(n,"merge");if(o)return o.connector({local:t,remote:e,name:this.name,connector:o});throw new Error("No default merge connector found. Please assign one as your default in Fluent.config")}}}).compose(o.default)}).call(this,r(4))},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o=a(r(0)),i=a(r(11));function a(t){return t&&t.__esModule?t:{default:t}}function s(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}e.default=(0,o.default)({init:function(t){if(!Array.isArray(t))throw new Error("Collect method only accepts arrays of data");this.data=t},properties:{data:[]},methods:{get:function(){return this.data},all:function(){return this.get()},avg:function(t){return this.average(t)},average:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=[].concat(s(this.data)),r=e.reduce(function(e,r){var n=r;if(r instanceof Object){var o=i.default.getFromPath(r,t,void 0);void 0!==o&&o.value&&(n=o.value)}return e+n},0);try{return r/e.length}catch(t){throw new Error('Division between "'+r+'" and "'+e.length+'" is not valid.')}},chunkApply:function(t,e){var r,n=this;return(r=regeneratorRuntime.mark(function r(){var o,i,a,s;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==e){r.next=2;break}throw new Error("Callback function not defined.");case 2:return o=n.data.length,i=0,n.chunks(t),a=function(r,n){return r.then(function(){return Promise.all(n.map(function(t){return e(t)}))}).then(function(){i=i+t>o?o:i+t,console.log("Processed "+i+"/"+o+" elements...")})},console.log("Processed "+i+"/"+o+" elements..."),s=n.data.reduce(a,Promise.resolve()),r.abrupt("return",s);case 9:case"end":return r.stop()}},r,n)}),function(){var t=r.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});e(s)}("next")})})()},chunks:function(t){for(var e=[].concat(s(this.data)),r=[];e.length;)r.push(e.splice(0,t));return this.data=r,this},collapse:function(){var t=[].concat(s(this.data)),e=[];return t.forEach(function(t){Array.isArray(t)?t.forEach(function(t){e.push(t)}):e.push(t)}),this.data=e,this},unChunk:function(){return this.collapse()},combine:function(t){var e=[].concat(s(this.data)),r=void 0;return e.forEach(function(e,o){e instanceof Object?(r||(r=[]),r[o]=n({},e,{_value:t[o]})):(r||(r={}),r[e]=t[o])}),this.data=r,this},concat:function(t){return this.data=[].concat(s(this.data),s(t)),this},contains:function(){var t=void 0,e=void 0,r=void 0;return 1===arguments.length?(this.isFunction(arguments.length<=0?void 0:arguments[0])&&(r=arguments.length<=0?void 0:arguments[0]),t=arguments.length<=0?void 0:arguments[0]):(t=arguments.length<=1?void 0:arguments[1],e=arguments.length<=0?void 0:arguments[0]),[].concat(s(this.data)).some(function(n,o){if(r)return!!r(n,o);var a=n;if(n instanceof Object){var s=i.default.getFromPath(n,e,void 0);s.value&&(a=s.value)}return a===t})},duplicatesBy:function(t){var e=[].concat(s(this.data)),r=[];return e.reduce(function(e,n){var o=t.reduce(function(t,e){return t+i.default.getFromPath(n,e,"").value},"");return e.hasOwnProperty(o)?r.push(n):e[o]=!0,e},{}),this.data=r,this},count:function(){return this.data.length},isFunction:function(t){return t&&"[object Function]"==={}.toString.call(t)}}})},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n,o=(n=function(t,e){try{return t()}catch(t){return e}},Object.freeze({get:n,getFromPath:function(t,e,r){var o=e;e.includes(" as ")&&(o=(e=e.split(" as "))[0]);var i=n(function(){return Array.isArray(e)&&e[1].trim()},void 0),a=o.replace(/\[/g,".").replace(/]/g,"").split(".").filter(Boolean).map(function(t){return t.trim()});return{label:i||o,value:a.every(function(e){return!(e&&void 0===(t=t[e]))})?t:r}}}));e.default=o},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==a(Symbol.iterator)?function(t){return void 0===t?"undefined":a(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":a(t)},o=u(r(0)),i=u(r(11)),s=u(r(10));function u(t){return t&&t.__esModule?t:{default:t}}function c(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function l(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}("next")})}}e.default=(0,o.default)({init:function(t){var e=t.name,r=t.remoteConnection,n=t.connector;if(!e&&!r)throw new Error("Model must have a name or path");if(!n)throw new Error("Model must have a connector. Please register one using Fluent.config");this.name=e||this.name,this.remoteConnection=r||this.remoteConnection,this.connector=n||this.connector,this.chainReference=[],this.whereArray=[],this.orWhereArray=[],this.selectArray=[],this.orderByArray=[],this.limitNumber=void 0,this.offsetNumber=void 0,this.populate=[],this.chunk=null,this.pullSize=null,this.ownerId=void 0,this.paginator=void 0,this.rawQuery=void 0},properties:{operators:["=","<",">","<=",">=","<>","!=","in","nin","like","regexp","startsWith","endsWith","contains"]},methods:{get:function(){throw new Error("get() method not implemented")},all:function(){throw new Error("all() method not implemented")},find:function(t){throw new Error("find() method not implemented")},findOne:function(){throw new Error("findOne() method not implemented")},remove:function(){throw new Error("remove() method not implemented")},softDelete:function(){throw new Error("softDelete() method not implemented")},insert:function(){throw new Error("insert() method not implemented")},update:function(){throw new Error("update() method not implemented")},clear:function(){throw new Error("clear() method not implemented")},updateOrCreate:function(){throw new Error("updateOrCreate() method not implemented")},findAndRemove:function(){throw new Error("findAndRemove() method not implemented")},paginate:function(){throw new Error("paginate() method not implemented")},tableView:function(){throw new Error("tableView() method not implemented")},raw:function(){throw new Error("raw() method not implemented")},owner:function(t){return this.chainReference.push({method:"owner",args:t}),this.ownerId=t,this},own:function(t){return this.owner(t)},first:function(){var t=this;return l(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get();case 2:return r=e.sent,e.abrupt("return",i.default.get(function(){return r[0]},[]));case 4:case"end":return e.stop()}},e,t)}))()},collect:function(){var t=this;return l(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get();case 2:if(r=e.sent,Array.isArray(r)){e.next=5;break}throw new Error("Collect method only accepts arrays of data");case 5:return e.abrupt("return",(0,s.default)(r));case 6:case"end":return e.stop()}},e,t)}))()},select:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e=this.prepareInput(e),this.chainReference.push({method:"select",args:e}),this.selectArray=this.selectArray.concat(e).filter(function(t,e,r){return r.indexOf(t)===e}),this},jsApplySelect:function(t){var e=this,r=Array.isArray(t)?[].concat(c(t)):[t];return this.selectArray.length>0&&(r=r.map(function(t){var r={};return e.selectArray.forEach(function(e){var o=i.default.getFromPath(t,e,void 0),a=i.default.get(function(){return o.value},void 0);void 0!==a&&("object"===(void 0===a?"undefined":n(a))&&a.hasOwnProperty("data")&&a.data.hasOwnProperty("name")?r[o.label]=a.data.name:r[o.label]=a)}),r})),r},offset:function(t){return this.chainReference.push({method:"offset",args:t}),this.offsetNumber=t,this},skip:function(t){return this.offset(t)},where:function(){for(var t=this,e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.chainReference.push({method:"where",args:r}),this.whereArray=[],(r=Array.isArray(r[0])?r:[r]).forEach(function(e){if(3!==e.length)throw new Error('There where clouse is not properly formatted, expecting: ["attribute", "operator","value"] but got "'+JSON.stringify(e)+'" ');t.whereArray.push(e)}),this},andWhere:function(){for(var t=this,e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.chainReference.push({method:"andWhere",args:r}),(r=Array.isArray(r[0])?r:[r]).forEach(function(e){if(3!==e.length)throw new Error('There where clouse is not properly formatted, expecting: ["attribute", "operator","value"] but got "'+JSON.stringify(e)+'" ');t.whereArray.push(e)}),this},orWhere:function(){for(var t=this,e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.chainReference.push({method:"orWhere",args:r}),(r=Array.isArray(r[0])?r:[r]).forEach(function(e){if(3!==e.length)throw new Error('There orWhere clouse is not properly formatted, expecting: ["attribute", "operator","value"] but got "'+JSON.stringify(e)+'" ');t.orWhereArray.push(e)}),this},limit:function(t){return this.chainReference.push({method:"limit",args:t}),this.limitNumber=t,this},take:function(t){return this.limit(t)},pluck:function(t){var e=this;return l(regeneratorRuntime.mark(function r(){var n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e.chainReference.push({method:"pluck",args:t}),r.next=3,e.get();case 3:return n=(n=r.sent).map(function(e){var r=i.default.getFromPath(e,t,void 0);if(void 0!==r.value)return r.value}),r.abrupt("return",n);case 6:case"end":return r.stop()}},r,e)}))()},orderBy:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.chainReference.push({method:"orderBy",args:e}),this.orderByArray=e,this},jsApplyOrderBy:function(t){var e=[].concat(c(t));if(0===this.orderByArray.length)return e;var r=this.orderByArray[0];if(this.selectArray.length>0&&(r.includes(".")||r.includes("[")))throw new Error('Cannot orderBy nested attribute "'+r+'" when using Select. You must rename the attribute');var n=this.orderByArray[1],o=this.orderByArray[2];return o||(o="string"),e.sort(function(t,e){var a=i.default.getFromPath(t,r,void 0).value,s=i.default.getFromPath(e,r,void 0).value;if(void 0===a||void 0===s)throw new Error('Cannot order by property "'+r+'" not all values have this property');return o.includes("string")||o.includes("number")?"asc"===n?a>s?1:a<s?-1:0:a>s?-1:a<s?1:0:o.includes("date")?"asc"===n?new Date(a)-new Date(s):new Date(s)-new Date(a):void 0})},prepareInput:function(t){var e=[];return t.forEach(function(t){var r=Array.isArray(t)?t:t.split(",");r=r.map(function(t){return t.trim()}),e=e.concat(r)}),e.filter(function(t,e,r){return r.indexOf(t)===e}),e},ArrayInsert:function(t,e){var r=this;return l(regeneratorRuntime.mark(function n(){var o,i,a,s,u,c,l,f;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:o=1,i=t.length,a=!0,s=!1,u=void 0,n.prev=5,c=t[Symbol.iterator]();case 7:if(a=(l=c.next()).done){n.next=26;break}return f=l.value,e&&e.showProgress&&console.log("Inserting "+o+" of "+i),n.prev=10,n.next=13,r.insert(f,e);case 13:n.sent,e&&e.showProgress&&console.log("Element "+o+" inserted"),o++,n.next=23;break;case 18:n.prev=18,n.t0=n.catch(10),console.log("ERROR - Element "+o+" - "+JSON.stringify(f)+" could not be inserted"),console.log(n.t0),o++;case 23:a=!0,n.next=7;break;case 26:n.next=32;break;case 28:n.prev=28,n.t1=n.catch(5),s=!0,u=n.t1;case 32:n.prev=32,n.prev=33,!a&&c.return&&c.return();case 35:if(n.prev=35,!s){n.next=38;break}throw u;case 38:return n.finish(35);case 39:return n.finish(32);case 40:case"end":return n.stop()}},n,r,[[5,28,32,40],[10,18],[33,,35,39]])}))()}}})},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.Event=e.MergeConnector=e.Interface=e.Fluent=e.Model=void 0;var n=u(r(14)),o=u(r(9)),i=u(r(12)),a=u(r(20)),s=u(r(21));function u(t){return t&&t.__esModule?t:{default:t}}e.Model=o.default,e.Fluent=n.default,e.Interface=i.default,e.MergeConnector=a.default,e.Event=s.default},function(t,e,r){(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o=s(r(0)),i=s(r(9)),a=s(r(10));function s(t){return t&&t.__esModule?t:{default:t}}function u(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var c=(0,o.default)({init:function(){this.registerGlobalVariable()},properties:{},methods:{model:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.registerModel(e),i.default.compose.apply(i.default,u(e))},extend:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.registerModel(e),i.default.compose.apply(i.default,u(e))},compose:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.registerModel(e),i.default.compose.apply(i.default,u(e))},collect:function(t){return(0,a.default)(t)},registerGlobalVariable:function(){"undefined"!=typeof window&&window&&!window._FLUENT_&&(window._FLUENT_={connectors:{},models:{}}),t&&!t._FLUENT_&&(t._FLUENT_={connectors:{},models:{}})},registerModel:function(e){var r=e&&e[0]&&e[0].properties&&e[0].properties.name?e[0].properties.name:void 0;if(r&&"baseModel"!==r){if("string"!=typeof r)throw new Error("You must assign a name to your Model when using Fluent.compose");"undefined"==typeof window?t._FLUENT_.models[r]=!0:window._FLUENT_.models[r]=!0}},config:function(e){var r=e.REMOTE_CONNECTORS,n=void 0===r?void 0:r,o=e.LOCAL_CONNECTORS,i=void 0===o?void 0:o,a=e.MERGE_CONNECTORS,s=void 0===a?void 0:a;"undefined"!=typeof window&&window&&(window._FLUENT_.connectors={local:i,remote:n,merge:s}),void 0!==t&&t&&(t._FLUENT_.connectors={local:i,remote:n,merge:s})},getConfig:function(){return"undefined"!=typeof window&&window?window._FLUENT_:void 0!==t&&t?t._FLUENT_:void 0},registerConnector:function(e){var r=e.type,o=e.connector;if(!r||!o)throw new Error("type and connector must be defined");if(!["local","remote","merge"].includes(r))throw new Error("type must be either local, remote or merge");var i="undefined"!=typeof window&&window?window._FLUENT_:t._FLUENT_,a=i.connectors.hasOwnProperty(r)?i.connectors[r]:[];if(0===a.length)return o=n({},o,{default:!0}),a.push(o),void(i.connectors[r]=a);a.find(function(t){return t.name===o.name})?console.log("A "+r+" connector with the name '"+o.name+"' already exists"):(a.push(o),i.connectors[r]=a)},deregisterConnector:function(e){var r=e.type,n=e.name;if(!r||!n)throw new Error("type and name must be defined");if(!["local","remote","merge"].includes(r))throw new Error("type must be either local, remote or merge");var o="undefined"!=typeof window&&window?window._FLUENT_:t._FLUENT_,i=o.connectors.hasOwnProperty(r)?o.connectors[r]:[];if(0!==i.length){var a=i.filter(function(t){return t.name!==n});o.connectors[r]=a}}}})();e.default=c}).call(this,r(4))},function(t,e,r){t.exports=r(1)},function(t,e){t.exports=function(t){return Boolean(t)&&"object"==(void 0===t?"undefined":a(t))&&Object.getPrototypeOf(t)===Object.prototype}},function(t,e,r){var n=r(2);function o(t){return function(e){var r={};return r[t]=e,this&&this.compose?this.compose(r):n(r)}}var i=o("properties"),a=o("staticProperties"),s=o("configuration"),u=o("deepProperties"),c=o("staticDeepProperties"),l=o("deepConfiguration"),f=o("initializers");t.exports=n({staticProperties:{methods:o("methods"),props:i,properties:i,statics:a,staticProperties:a,conf:s,configuration:s,deepProps:u,deepProperties:u,deepStatics:c,staticDeepProperties:c,deepConf:l,deepConfiguration:l,init:f,initializers:f,composers:o("composers"),propertyDescriptors:o("propertyDescriptors"),staticPropertyDescriptors:o("staticPropertyDescriptors")}})},function(t,e){t.exports=function(t){return"string"==typeof t}},function(t,e,r){var n=r(2),o=new WeakMap,i=function(t,e){function r(){var e=o.get(this);return t.apply(e,arguments)}return Object.defineProperty(r,"name",{value:e,configurable:!0}),r};function a(t,e){var r=e.stamp.compose,n=r.deepConfiguration.Privatize.methods,a={};o.set(a,this);var s=r.methods;if(!s)return a;for(var u=Object.keys(s),c=0;c<u.length;c++){var l=u[c];n.indexOf(l)<0&&(a[l]=i(s[l],l))}if("undefined"!=typeof Symbol){var f=Symbol.for("stamp");s[f]&&(a[f]=e.stamp)}return a}var s=n({initializers:[a],deepConfiguration:{Privatize:{methods:[]}},staticProperties:{privatizeMethods:function(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];"string"==typeof r&&r.length>0&&t.push(r)}return(this&&this.compose?this:s).compose({deepConfiguration:{Privatize:{methods:t}}})}},composers:[function(t){var e=t.stamp.compose.initializers;e.splice(e.indexOf(a),1),e.push(a)}]});t.exports=s},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n,o=(n=r(12))&&n.__esModule?n:{default:n};e.default=o.default.compose({properties:{localFx:void 0,remoteFx:void 0},init:function(t){this.connectors=t},methods:{get:function(){var t,e=this;return(t=regeneratorRuntime.mark(function t(){var r,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.prepareMergedFunctions(),t.next=3,e.localFx.get();case 3:return r=t.sent,t.next=6,e.remoteFx.get();case 6:return n=t.sent,t.abrupt("return",r.concat(n));case 8:case"end":return t.stop()}},t,e)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}("next")})})()},prepareMergedFunctions:function(){var t=this;this.localFx=this.connectors.local,this.remoteFx=this.connectors.remote,this.chainReference.forEach(function(e){var r=e.method,n=e.args;t.localFx=t.localFx[r](n),t.remoteFx=t.remoteFx[r](n)})}}})},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.freeze({emit:function(t){var e=t.name,r=t.data,n=t.text;if(!e)throw new Error("Event must have a name.");if(!r)throw new Error("Event must have data.");if(!n)throw new Error("Event must have a text.");var o=function(t,e){var r=document.createEvent("CustomEvent");return e=e||{bubbles:!1,cancelable:!1,detail:void 0},r.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),r}(e,{detail:{data:r,text:n}});window.dispatchEvent(o)},listen:function(t){var e=t.name,r=t.callback;if(!e)throw new Error("Listener must have a name.");if(!r)throw new Error("Listener must have a callback.");window.addEventListener(e,r)},remove:function(t){var e=t.name,r=t.callback;if(!e)throw new Error("Listener must have a name to detach");if(!r)throw new Error("Listener must have a callback to detach");window.removeEventListener(e,r)}});e.default=n}])},"object"==a(e)&&"object"==a(t)?t.exports=i():(n=[],void 0===(o="function"==typeof(r=i)?r.apply(e,n):r)||(t.exports=o))}).call(this,r(37)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(r(39)),o=i(r(2));function i(t){return t&&t.__esModule?t:{default:t}}var a=function(){var t="undefined"==typeof window||!window||!window.navigator||window.navigator.onLine;return Object.freeze({isOnline:function(){return new Promise(function(t,e){o.default.get("https://yesno.wtf/api").then(function(e){t(!0)}).catch(function(e){t(!1)})})},initEventListeners:function(){n.default.listen({name:"online",callback:function(){console.log("App is now online"),t||(t=!0,n.default.emit({name:"FAST:CONNECTION:ONLINE",data:t,text:"Application is now online"}))}}),n.default.listen({name:"offline",callback:function(){console.log("App is now offline"),t&&(t=!1,n.default.emit({name:"FAST:CONNECTION:OFFLINE",data:t,text:"Application is now offline"}))}})}})}();e.default=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.freeze({emit:function(t){var e=t.name,r=t.data,n=t.text;if(!e)throw new Error("Event must have a name.");if(!r)throw new Error("Event must have data.");if(!n)throw new Error("Event must have a text.");var o=function(t,e){var r=document.createEvent("CustomEvent");return e=e||{bubbles:!1,cancelable:!1,detail:void 0},r.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),r}(e,{detail:{data:r,text:n}});window.dispatchEvent(o)},listen:function(t){var e=t.name,r=t.callback;if(!e)throw new Error("Listener must have a name.");if(!r)throw new Error("Listener must have a callback.");window.addEventListener(e,r)},remove:function(t){var e=t.name,r=t.callback;if(!e)throw new Error("Listener must have a name to detach");if(!r)throw new Error("Listener must have a callback to detach");window.removeEventListener(e,r)}});e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.name="AuthenticationError",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,Error),e}();e.default=n}])},function(t,e,r){t.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=8)}([function(t,e,r){"use strict";var n=r(3),o=r(13),i=Object.prototype.toString;function a(t){return"[object Array]"===i.call(t)}function s(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===i.call(t)}function c(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),a(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}t.exports={isArray:a,isArrayBuffer:function(t){return"[object ArrayBuffer]"===i.call(t)},isBuffer:o,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:u,isStream:function(t){return s(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function t(){var e={};function r(r,n){"object"==typeof e[n]&&"object"==typeof r?e[n]=t(e[n],r):e[n]=r}for(var n=0,o=arguments.length;n<o;n++)c(arguments[n],r);return e},extend:function(t,e,r){return c(e,function(e,o){t[o]=r&&"function"==typeof e?n(e,r):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,r){"use strict";(function(e){var n=r(0),o=r(16),i={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s,u={adapter:("undefined"!=typeof XMLHttpRequest?s=r(4):void 0!==e&&(s=r(4)),s),transformRequest:[function(t,e){return o(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t)?t:n.isArrayBufferView(t)?t.buffer:n.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):n.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],function(t){u.headers[t]={}}),n.forEach(["post","put","patch"],function(t){u.headers[t]=n.merge(i)}),t.exports=u}).call(this,r(15))},function(t,e,r){t.exports=r(12)},function(t,e,r){"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}},function(t,e,r){"use strict";var n=r(0),o=r(17),i=r(19),a=r(20),s=r(21),u=r(5),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||r(22);t.exports=function(t){return new Promise(function(e,l){var f=t.data,h=t.headers;n.isFormData(f)&&delete h["Content-Type"];var p=new XMLHttpRequest,d="onreadystatechange",v=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in p||s(t.url)||(p=new window.XDomainRequest,d="onload",v=!0,p.onprogress=function(){},p.ontimeout=function(){}),t.auth){var y=t.auth.username||"",m=t.auth.password||"";h.Authorization="Basic "+c(y+":"+m)}if(p.open(t.method.toUpperCase(),i(t.url,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,p[d]=function(){if(p&&(4===p.readyState||v)&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null,n={data:t.responseType&&"text"!==t.responseType?p.response:p.responseText,status:1223===p.status?204:p.status,statusText:1223===p.status?"No Content":p.statusText,headers:r,config:t,request:p};o(e,l,n),p=null}},p.onerror=function(){l(u("Network Error",t,null,p)),p=null},p.ontimeout=function(){l(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",p)),p=null},n.isStandardBrowserEnv()){var g=r(23),b=(t.withCredentials||s(t.url))&&t.xsrfCookieName?g.read(t.xsrfCookieName):void 0;b&&(h[t.xsrfHeaderName]=b)}if("setRequestHeader"in p&&n.forEach(h,function(t,e){void 0===f&&"content-type"===e.toLowerCase()?delete h[e]:p.setRequestHeader(e,t)}),t.withCredentials&&(p.withCredentials=!0),t.responseType)try{p.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){p&&(p.abort(),l(t),p=null)}),void 0===f&&(f=null),p.send(f)})}},function(t,e,r){"use strict";var n=r(18);t.exports=function(t,e,r,o,i){var a=new Error(t);return n(a,e,r,o,i)}},function(t,e,r){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,r){"use strict";function n(t){this.message=t}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,t.exports=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=r(9),i=(n=o)&&n.__esModule?n:{default:n};e.default=i.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=d(r(10)),a=d(r(11)),s=d(r(2)),u=r(31),c=d(r(33)),l=d(r(35)),f=d(r(36)),h=d(r(37)),p=d(r(40));function d(t){return t&&t.__esModule?t:{default:t}}function v(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function m(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}("next")})}}l.default.extend(f.default),e.default=u.Interface.compose({methods:{getToken:function(){if("undefined"!=typeof localStorage){var t=localStorage.getItem("formioToken");if(!t||"x-token"===this.getTokenType(t))return t;var e=(0,h.default)(t),r=l.default.unix(e.exp);if((0,l.default)().isSameOrAfter(r))throw u.Event.emit({name:"GOAT:SESSION:EXPIRED",data:r,text:"Session expired"}),new Error("Token has expired.");return t}},baseUrl:function(){var t=this.connector,e=t.baseUrl,r=t.name;if(!e)throw new Error('You did not provide a baseUrl for the "'+r+'" connector');return e.replace(/\/+$/,"")},get:function(){var t=this;return m(regeneratorRuntime.mark(function e(){var r,n,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.ownerId&&t.andWhere("owner","=",t.ownerId),r=void 0,n=void 0,e.next=5,(0,i.default)(t.httpGET());case 5:if(a=e.sent,s=o(a,2),r=s[0],n=s[1],!r){e.next=14;break}if(440!==r.response.status){e.next=13;break}throw u.Event.emit({name:"GOAT:SESSION:EXPIRED",data:r,text:"Session expired"}),new Error("Session has expired.");case 13:throw new Error("Error while getting submissions");case 14:if(!(n&&n.data&&n.data.hasOwnProperty("meta")&&t.selectArray.length>0)){e.next=17;break}return n.data.data=t.jsApplySelect(n.data.data),e.abrupt("return",[n.data]);case 17:return e.abrupt("return",t.jsApplySelect(n&&n.data));case 18:case"end":return e.stop()}},e,t)}))()},all:function(){var t=this;return m(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.get());case 1:case"end":return e.stop()}},e,t)}))()},paginate:function(t){var e=this;return m(regeneratorRuntime.mark(function r(){var n,o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(t){r.next=2;break}throw new Error("Paginator cannot be empty");case 2:return e.paginator=t,n={},r.next=6,e.get();case 6:if((o=r.sent)[0]){r.next=9;break}throw new Error("The query was not paginated");case 9:return n.data=o[0].data,n.paginator={page:o[0].meta.currentPage,rowsPerPage:o[0].meta.itemsPerPage,rowsNumber:o[0].meta.totalItemCount},r.abrupt("return",n);case 12:case"end":return r.stop()}},r,e)}))()},raw:function(t){if(!t)throw new Error("No query was received");return this.rawQuery=t,this},insert:function(t){var e=this;return m(regeneratorRuntime.mark(function r(){var s,u,c,l,f,h,p,d,v;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(Array.isArray(t)){r.next=3;break}return r.next=3,e.validate(t);case 3:return s=e&&e.baseUrl()?e.baseUrl():void 0,u=a.default.get(function(){return e.remoteConnection.path},void 0),r.next=7,e.getForm(s,u);case 7:return c=r.sent,l=e.getHeaders(),f=n({data:t,form:c._id},l),r.next=12,(0,i.default)(e.httpPOST(f));case 12:if(h=r.sent,p=o(h,2),d=p[0],v=p[1],!d){r.next=18;break}throw new Error("Cannot insert data");case 18:return r.abrupt("return",v.data);case 19:case"end":return r.stop()}},r,e)}))()},tableView:function(t){var e=this;return m(regeneratorRuntime.mark(function r(){var n,o,i,s,u;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=e&&e.baseUrl()?e.baseUrl():void 0,o=a.default.get(function(){return e.remoteConnection.path},void 0),r.next=4,e.getForm(n,o);case 4:if(i=r.sent){r.next=7;break}throw new Error("Could not find form");case 7:return s=i.components,u=e.getTableViewComponents(s),u=[].concat(y(u),["id as _id","modified as HumanUpdated"]),e.select(u),r.abrupt("return",e.paginate(t));case 12:case"end":return r.stop()}},r,e)}))()},getTableViewComponents:function(t){return a.default.findComponents(t,{input:!0,tableView:!0}).filter(function(t){return!(""===t.label)}).map(function(t){return"data."+t.key+" as "+t.key})},getForm:function(t,e){var r=this;return m(regeneratorRuntime.mark(function t(){var n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.Fluent.model({properties:{name:"Form",config:{remote:{path:"form",pullForm:!0}}}})(),t.next=3,n.local().where("data.path","=",e).first();case 3:return o=t.sent,t.abrupt("return",o.data);case 5:case"end":return t.stop()}},t,r)}))()},getUrl:function(){return this&&this.baseUrl()?this.baseUrl():void 0},getHeaders:function(){var t={},e={};return e=this.getToken(),(this.remoteConnection.token||""===this.remoteConnection.token)&&(e=this.remoteConnection.token),e?(t[this.getTokenType(e)]=e,t.Authorization="Bearer "+e,t):t},getPage:function(){return this.paginator&&this.paginator.page?"page="+this.paginator.page+"&":""},getPaginatorLimit:function(t){return this.paginator&&this.paginator.rowsPerPage?n({},t,{limit:this.paginator.rowsPerPage}):t},httpGET:function(){var t=this;return m(regeneratorRuntime.mark(function e(){var r,o,i,u,l,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},o=t.getUrl(),i=t.getHeaders(),e.next=5,t.getFilters(r);case 5:if(r=e.sent,r=t.getLimit(r),r=t.getSkip(r),r=t.getSelect(r),r=t.getOrderBy(r),r=t.getPaginatorLimit(r),u=t.getPage(),t.rawQuery&&(r.limit=r.limit||t.rawQuery.limit,r.skip=r.skip||t.rawQuery.skip,r.order=r.order||t.rawQuery.order,r.fields=n({},r.fields,t.rawQuery.fields),l=r.where&&r.where.and?r.where.and[0]:{},r.where=n({},l,t.rawQuery.where)),r.where=n({},r.where,{deleted:null}),t.remoteConnection.path.includes("/")&&(t.remoteConnection.path=t.remoteConnection.path.replace("/","")),t.remoteConnection.path=(0,p.default)(t.remoteConnection.path),f=a.default.get(function(){return t.remoteConnection.path},void 0),o=o+"/"+f+"?"+u+"filter="+encodeURI(JSON.stringify(r)),e.t0=!0,e.t0){e.next=23;break}return e.next=22,c.default.isOnline();case 22:e.t0=e.sent;case 23:if(e.t0){e.next=26;break}throw new Error("Cannot make get request to "+o+".You are not online");case 26:return e.abrupt("return",s.default.get(o,{headers:i}));case 27:case"end":return e.stop()}},e,t)}))()},httpPOST:function(t){var e=this;return m(regeneratorRuntime.mark(function r(){var n,o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(n=e.getUrl(),o=e.getHeaders(),r.t0=!0,r.t0){r.next=7;break}return r.next=6,c.default.isOnline();case 6:r.t0=r.sent;case 7:if(r.t0){r.next=10;break}throw new Error("Cannot make request post to "+n+".You are not online");case 10:return r.abrupt("return",s.default.post(n,t,{headers:o}));case 11:case"end":return r.stop()}},r,e)}))()},getTokenType:function(t){return t.length>32?"x-jwt-token":"x-token"},getFilters:function(t){var e=this;return m(regeneratorRuntime.mark(function r(){var n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if((n=e.whereArray)&&0!==n.length){r.next=3;break}return r.abrupt("return",t);case 3:return t.where={and:[]},n.forEach(function(e){var r=e[0],n=e[1],o=e[2];switch(n){case"=":t.where.and.push(v({},r,o));break;case"!=":t.where.and.push(v({},r,{neq:o}));break;case">":t.where.and.push(v({},r,{gt:o}));break;case">=":t.where.and.push(v({},r,{gte:o}));break;case"<":t.where.and.push(v({},r,{lt:o}));break;case"<=":t.where.and.push(v({},r,{lte:o}));break;case"in":t.where.and.push(v({},r,{inq:o}));break;case"nin":t.where.and.push(v({},r,{nin:o}));break;case"exists":t.where.and.push(v({},r,{exists:!0}));break;case"!exists":t.where.and.push(v({},r,{exists:!1}));break;case"regex":t.where.and.push(v({},"data."+r,{regexp:o}))}}),r.abrupt("return",t);case 6:case"end":return r.stop()}},r,e)}))()},getOrderBy:function(t){return this.orderByArray&&0!==this.orderByArray.length?n({},t,{order:this.orderByArray[0]+" "+this.orderByArray[1].toUpperCase()}):t},getLimit:function(t){return this.limitNumber&&0!==this.limitNumber||(this.limitNumber=this.rawQuery&&this.rawQuery.limit||50),n({},t,{limit:this.limitNumber})},getSkip:function(t){return this.offsetNumber||(this.offsetNumber=this.rawQuery&&this.rawQuery.skip||0),n({},t,{skip:this.offsetNumber})},getSelect:function(t){var e=this.selectArray;if((e=e.map(function(t){return t=(t=t.split(" as ")[0]).includes("_id")?"id":t})).find(function(t){return t.startsWith("data.")})&&e.unshift("data"),!e)return t;var r={};return e.forEach(function(t){r[t]=!0}),n({},t,{fields:r})}}})},function(t,e,r){"use strict";function n(t,e){return t.then(function(t){return[null,t]}).catch(function(t){return e&&Object.assign(t,e),[t,void 0]})}r.r(e),r.d(e,"to",function(){return n}),e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o,i,a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=(n=function(t,e){try{return t()}catch(t){return e}},o=function(t,e,r){var o=e;e.includes(" as ")&&(o=(e=e.split(" as "))[0]);var i=n(function(){return Array.isArray(e)&&e[1].trim()},void 0),a=o.replace(/\[/g,".").replace(/]/g,"").split(".").filter(Boolean).map(function(t){return t.trim()});return{label:i||o,value:a.every(function(e){return!(e&&void 0===(t=t[e]))})?t:r}},i=function t(e,r,n,o,i){e&&(o=o||"",e.forEach(function(e){if(e){var s=e.columns&&Array.isArray(e.columns),u=e.rows&&Array.isArray(e.rows),c=e.components&&Array.isArray(e.components),l=!1,f=e.key?o?o+"."+e.key:e.key:"";i&&(e.parent=a({},i),delete e.parent.components,delete e.parent.componentMap,delete e.parent.columns,delete e.parent.rows),(n||e.tree||!s&&!u&&!c)&&(l=r(e,f));var h=function(){return e.key&&!["panel","table","well","columns","fieldset","tabs","form"].includes(e.type)&&(["datagrid","container","editgrid"].includes(e.type)||e.tree)?f:e.key&&"form"===e.type?f+".data":o};l||(s?e.columns.forEach(function(o){return t(o.components,r,n,h(),i?e:null)}):u?e.rows.forEach(function(o){Array.isArray(o)&&o.forEach(function(o){return t(o.components,r,n,h(),i?e:null)})}):c&&t(e.components,r,n,h(),i?e:null))}}))},Object.freeze({cloneDeep:function(t){return JSON.parse(JSON.stringify(t))},get:n,orderBy:function(){},isEmpty:function(t){if(!t)return!0;if(Array.isArray(t)||"string"==typeof t)return!t.length;for(var e in t)if(hasOwnProperty.call(t,e))return!1;return!0},debounce:function(t,e){var r=void 0;return function(){var n=this,o=arguments;clearTimeout(r),r=setTimeout(function(){return t.apply(n,o)},e)}},getFromPath:o,deleteNulls:function t(e){var r=e,n=r instanceof Array;for(var o in r)null===r[o]?n?r.splice(o,1):delete r[o]:"object"===s(r[o])&&t(r[o]);return r},eachComponent:i,findComponents:function(t,e){var r=[];return i(t,function(t,n){(function(t,e){if("string"==typeof e)return t.key===e;var r=!1;return Object.keys(e).forEach(function(n){if(!(r=o(t,n).value===e[n]))return!1}),r})(t,e)&&(t.path=n,r.push(t))},!0),r},unixDate:function(){return Math.round(+new Date/1e3)}}));e.default=u},function(t,e,r){"use strict";var n=r(0),o=r(3),i=r(14),a=r(1);function s(t){var e=new i(t),r=o(i.prototype.request,e);return n.extend(r,i.prototype,e),n.extend(r,e),r}var u=s(a);u.Axios=i,u.create=function(t){return s(n.merge(a,t))},u.Cancel=r(7),u.CancelToken=r(29),u.isCancel=r(6),u.all=function(t){return Promise.all(t)},u.spread=r(30),t.exports=u,t.exports.default=u},function(t,e){function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */t.exports=function(t){return null!=t&&(r(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,r){"use strict";var n=r(1),o=r(0),i=r(24),a=r(25);function s(t){this.defaults=t,this.interceptors={request:new i,response:new i}}s.prototype.request=function(t){"string"==typeof t&&(t=o.merge({url:arguments[0]},arguments[1])),(t=o.merge(n,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[a,void 0],r=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)r=r.then(e.shift(),e.shift());return r},o.forEach(["delete","get","head","options"],function(t){s.prototype[t]=function(e,r){return this.request(o.merge(r||{},{method:t,url:e}))}}),o.forEach(["post","put","patch"],function(t){s.prototype[t]=function(e,r,n){return this.request(o.merge(n||{},{method:t,url:e,data:r}))}}),t.exports=s},function(t,e){var r,n,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!l){var t=s(h);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new d(t,e)),1!==c.length||l||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,r){"use strict";var n=r(0);t.exports=function(t,e){n.forEach(t,function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])})}},function(t,e,r){"use strict";var n=r(5);t.exports=function(t,e,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?e(n("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}},function(t,e,r){"use strict";t.exports=function(t,e,r,n,o){return t.config=e,r&&(t.code=r),t.request=n,t.response=o,t}},function(t,e,r){"use strict";var n=r(0);function o(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,r){if(!e)return t;var i;if(r)i=r(e);else if(n.isURLSearchParams(e))i=e.toString();else{var a=[];n.forEach(e,function(t,e){null!=t&&(n.isArray(t)?e+="[]":t=[t],n.forEach(t,function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),a.push(o(e)+"="+o(t))}))}),i=a.join("&")}return i&&(t+=(-1===t.indexOf("?")?"?":"&")+i),t}},function(t,e,r){"use strict";var n=r(0),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,r,i,a={};return t?(n.forEach(t.split("\n"),function(t){if(i=t.indexOf(":"),e=n.trim(t.substr(0,i)).toLowerCase(),r=n.trim(t.substr(i+1)),e){if(a[e]&&o.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([r]):a[e]?a[e]+", "+r:r}}),a):a}},function(t,e,r){"use strict";var n=r(0);t.exports=n.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(t){var n=t;return e&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=o(window.location.href),function(e){var r=n.isString(e)?o(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}},function(t,e,r){"use strict";function n(){this.message="String contains an invalid character"}n.prototype=new Error,n.prototype.code=5,n.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,r,o=String(t),i="",a=0,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.charAt(0|a)||(s="=",a%1);i+=s.charAt(63&e>>8-a%1*8)){if((r=o.charCodeAt(a+=.75))>255)throw new n;e=e<<8|r}return i}},function(t,e,r){"use strict";var n=r(0);t.exports=n.isStandardBrowserEnv()?{write:function(t,e,r,o,i,a){var s=[];s.push(t+"="+encodeURIComponent(e)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(o)&&s.push("path="+o),n.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,r){"use strict";var n=r(0);function o(){this.handlers=[]}o.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){n.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=o},function(t,e,r){"use strict";var n=r(0),o=r(26),i=r(6),a=r(1),s=r(27),u=r(28);function c(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return c(t),t.baseURL&&!s(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||a.adapter)(t).then(function(e){return c(t),e.data=o(e.data,e.headers,t.transformResponse),e},function(e){return i(e)||(c(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,r){"use strict";var n=r(0);t.exports=function(t,e,r){return n.forEach(r,function(r){t=r(t,e)}),t}},function(t,e,r){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,r){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,r){"use strict";var n=r(7);function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var r=this;t(function(t){r.reason||(r.reason=new n(t),e(r.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o(function(e){t=e}),cancel:t}},t.exports=o},function(t,e,r){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,r){"use strict";(function(t){var r,n,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i=function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==(void 0===t?"undefined":a(t))&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=13)}([function(t,e,r){var n=r(2),o=r(17),i=r(6),a=r(18),s=r(1),u=r(3),c=r(8),l=r(7),f=Array.prototype.concat;function h(){var t=f.apply([],arguments).filter(u);return 0===t.length?void 0:t}function p(t){if(!s(t))return t;var e=t.methods,r=t.properties,n=t.props,o=t.initializers,i=t.init,u=t.composers,f=t.deepProperties,p=t.deepProps,d=t.propertyDescriptors,v=t.staticProperties,y=t.statics,m=t.staticDeepProperties,g=t.deepStatics,b=t.configuration,w=t.conf,x=t.deepConfiguration,_=t.deepConf,k=s(n)||s(r)?l({},n,r):void 0,S=s(p)?c({},p):void 0;S=s(f)?c(S,f):S;var O=s(y)||s(v)?l({},y,v):void 0,E=s(g)?c({},g):void 0;E=s(m)?c(E,m):E;var P=t.staticPropertyDescriptors;a(t.name)&&(P=l({},P||{},{name:{value:t.name}}));var A=s(w)||s(b)?l({},w,b):void 0,C=s(_)?c({},_):void 0;C=s(x)?c(C,x):C;var T=h(i,o),R=h(u),M={};return e&&(M.methods=e),k&&(M.properties=k),T&&(M.initializers=T),R&&(M.composers=R),S&&(M.deepProperties=S),O&&(M.staticProperties=O),E&&(M.staticDeepProperties=E),d&&(M.propertyDescriptors=d),P&&(M.staticPropertyDescriptors=P),A&&(M.configuration=A),C&&(M.deepConfiguration=C),M}function d(){for(var t=arguments.length,e=[],r=0;r<t;r+=1){var o=arguments[r];e.push(i(o)?o:p(o))}return n.apply(this||v,e)}var v=o.compose({staticProperties:{create:function(){return this.apply(this,arguments)},compose:d}}),y=o.compose.staticProperties;for(var m in y)d[m]=y[m].bind(v);d.compose=d.bind(),t.exports=d},function(t,e){t.exports=function(t){var e=void 0===t?"undefined":a(t);return Boolean(t)&&("object"===e||"function"===e)}},function(t,e,r){var n=r(5),o=r(3),i=r(1),a=r(6),s=r(15),u=r(7),c=r(8),l=Array.prototype.slice;function f(t,e){var r=function t(e){var r=t.compose||{},n={__proto__:r.methods};if(c(n,r.deepProperties),u(n,r.properties),Object.defineProperties(n,r.propertyDescriptors||{}),!r.initializers||0===r.initializers.length)return n;void 0===e&&(e={});for(var i=r.initializers,a=i.length,s=0;s<a;s+=1){var f=i[s];if(o(f)){var h=f.call(n,e,{instance:n,stamp:t,args:l.apply(arguments)});n=void 0===h?n:h}}return n};t.staticDeepProperties&&c(r,t.staticDeepProperties),t.staticProperties&&u(r,t.staticProperties),t.staticPropertyDescriptors&&Object.defineProperties(r,t.staticPropertyDescriptors);var n=o(r.compose)?r.compose:e;return u(r.compose=function(){return n.apply(this,arguments)},t),r}function h(t,e,r){if(n(e)){var i=e.length,a=t[r]||[];t[r]=a;for(var s=0;s<i;s+=1){var u=e[s];o(u)&&a.indexOf(u)<0&&a.push(u)}}}function p(t,e,r,n){i(e[r])&&(i(t[r])||(t[r]={}),n(t[r],e[r]))}function d(t,e,r){p(t,e,r,c)}function v(t,e,r){p(t,e,r,u)}function y(t,e){var r=e&&e.compose||e;v(t,r,"methods"),v(t,r,"properties"),d(t,r,"deepProperties"),v(t,r,"propertyDescriptors"),v(t,r,"staticProperties"),d(t,r,"staticDeepProperties"),v(t,r,"staticPropertyDescriptors"),v(t,r,"configuration"),d(t,r,"deepConfiguration"),h(t,r.initializers,"initializers"),h(t,r.composers,"composers")}t.exports=function t(){var e={},r=[];s(this)&&(y(e,this),r.push(this));for(var o=0;o<arguments.length;o++){var i=arguments[o];s(i)&&(y(e,i),r.push(i))}var u=f(e,t),c=e.composers;if(n(c)&&c.length>0)for(var l=0;l<c.length;l+=1){var h=(0,c[l])({stamp:u,composables:r});u=a(h)?h:u}return u}},function(t,e){t.exports=function(t){return"function"==typeof t}},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==("undefined"==typeof window?"undefined":a(window))&&(r=window)}t.exports=r},function(t,e){t.exports=Array.isArray},function(t,e,r){var n=r(3);t.exports=function(t){return n(t)&&n(t.compose)}},function(t,e){t.exports=Object.assign},function(t,e,r){var n=r(16),o=r(1),i=r(5);function a(t,e){if(void 0===e)return t;if(i(e))return(i(t)?t:[]).concat(e);if(!n(e))return e;for(var r=o(t)?t:{},s=Object.keys(e),u=0;u<s.length;u+=1){var c=s[u],l=e[c];if(void 0!==l){var f=r[c],h=n(f)||i(l)?f:{};r[c]=a(h,l)}}return r}t.exports=function(t){for(var e=1;e<arguments.length;e++)t=a(t,arguments[e]);return t}},function(t,e,r){(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=i(r(0)),o=i(r(19));function i(t){return t&&t.__esModule?t:{default:t}}e.default=(0,n.default)({properties:{name:"baseModel",config:{remote:{path:void 0,token:void 0,pullForm:!1},local:{connector:"loki"},merge:{connector:"formio-loki"}}},methods:{getModelName:function(){return this.name},getFluentConfig:function(){var e=void 0;return"undefined"!=typeof window&&window&&window._FLUENT_?e=window._FLUENT_:t&&t._FLUENT_&&(e=t._FLUENT_),e},getConnector:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Array.isArray(t)?this.getConnectorFromArray(t,e,r):t instanceof Object?t:void 0},getConnectorFromArray:function(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(1===t.length)return t[0];if(this.config&&this.config[e]&&this.config[e].connector){var o=t.find(function(t){return t.name===r.config[e].connector});if(o instanceof Object)return o}if(n){var i=t.find(function(t){return t.name===n});if(i instanceof Object)return i}var a=t.find(function(t){return t.default});return a instanceof Object?a:void 0},remote:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.token,r=void 0===e?void 0:e,n=t.pullForm,o=void 0===n?void 0:n,i=t.connectorName,a=void 0===i?void 0:i,s=t.path,u=void 0===s?void 0:s,c=this.getFluentConfig(),l=c&&c.connectors&&c.connectors.remote;if(!l)throw new Error("No remote connector was defined. Please define it using Fluent.config()");var f=this.getConnector(l,"remote",a||!1);if(this.config.remote.token=r||this.config.remote.token,this.config.remote.path=u||this.config.remote.path,o&&(this.config.remote.pullForm=o||this.config.remote.pullForm),f)return f.connector({remoteConnection:this.config.remote,connector:f});throw new Error("No default remote connector found. Please assign one as your default in Fluent.config")},local:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).connectorName,e=void 0===t?void 0:t,r=this.getFluentConfig(),n=r&&r.connectors&&r.connectors.local;if(!n)throw new Error("No local connector was defined. Please define it using Fluent.config()");var o=this.getConnector(n,"local",e||!1);if(o)return o.connector({name:this.name,connector:o});throw new Error("No default local connector found. Please assign one as your default in Fluent.config")},merged:function(){var t=this.local(),e=this.remote(),r=this.getFluentConfig(),n=r&&r.connectors&&r.connectors.merge;if(!n)throw new Error("No merge connector was defined. Please define it using Fluent.config()");var o=this.getConnector(n,"merge");if(o)return o.connector({local:t,remote:e,name:this.name,connector:o});throw new Error("No default merge connector found. Please assign one as your default in Fluent.config")}}}).compose(o.default)}).call(this,r(4))},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o=a(r(0)),i=a(r(11));function a(t){return t&&t.__esModule?t:{default:t}}function s(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}e.default=(0,o.default)({init:function(t){if(!Array.isArray(t))throw new Error("Collect method only accepts arrays of data");this.data=t},properties:{data:[]},methods:{get:function(){return this.data},all:function(){return this.get()},avg:function(t){return this.average(t)},average:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=[].concat(s(this.data)),r=e.reduce(function(e,r){var n=r;if(r instanceof Object){var o=i.default.getFromPath(r,t,void 0);void 0!==o&&o.value&&(n=o.value)}return e+n},0);try{return r/e.length}catch(t){throw new Error('Division between "'+r+'" and "'+e.length+'" is not valid.')}},chunkApply:function(t,e){var r,n=this;return(r=regeneratorRuntime.mark(function r(){var o,i,a,s;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==e){r.next=2;break}throw new Error("Callback function not defined.");case 2:return o=n.data.length,i=0,n.chunks(t),a=function(r,n){return r.then(function(){return Promise.all(n.map(function(t){return e(t)}))}).then(function(){i=i+t>o?o:i+t,console.log("Processed "+i+"/"+o+" elements...")})},console.log("Processed "+i+"/"+o+" elements..."),s=n.data.reduce(a,Promise.resolve()),r.abrupt("return",s);case 9:case"end":return r.stop()}},r,n)}),function(){var t=r.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});e(s)}("next")})})()},chunks:function(t){for(var e=[].concat(s(this.data)),r=[];e.length;)r.push(e.splice(0,t));return this.data=r,this},collapse:function(){var t=[].concat(s(this.data)),e=[];return t.forEach(function(t){Array.isArray(t)?t.forEach(function(t){e.push(t)}):e.push(t)}),this.data=e,this},unChunk:function(){return this.collapse()},combine:function(t){var e=[].concat(s(this.data)),r=void 0;return e.forEach(function(e,o){e instanceof Object?(r||(r=[]),r[o]=n({},e,{_value:t[o]})):(r||(r={}),r[e]=t[o])}),this.data=r,this},concat:function(t){return this.data=[].concat(s(this.data),s(t)),this},contains:function(){var t=void 0,e=void 0,r=void 0;return 1===arguments.length?(this.isFunction(arguments.length<=0?void 0:arguments[0])&&(r=arguments.length<=0?void 0:arguments[0]),t=arguments.length<=0?void 0:arguments[0]):(t=arguments.length<=1?void 0:arguments[1],e=arguments.length<=0?void 0:arguments[0]),[].concat(s(this.data)).some(function(n,o){if(r)return!!r(n,o);var a=n;if(n instanceof Object){var s=i.default.getFromPath(n,e,void 0);s.value&&(a=s.value)}return a===t})},duplicatesBy:function(t){var e=[].concat(s(this.data)),r=[];return e.reduce(function(e,n){var o=t.reduce(function(t,e){return t+i.default.getFromPath(n,e,"").value},"");return e.hasOwnProperty(o)?r.push(n):e[o]=!0,e},{}),this.data=r,this},count:function(){return this.data.length},isFunction:function(t){return t&&"[object Function]"==={}.toString.call(t)}}})},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n,o=(n=function(t,e){try{return t()}catch(t){return e}},Object.freeze({get:n,getFromPath:function(t,e,r){var o=e;e.includes(" as ")&&(o=(e=e.split(" as "))[0]);var i=n(function(){return Array.isArray(e)&&e[1].trim()},void 0),a=o.replace(/\[/g,".").replace(/]/g,"").split(".").filter(Boolean).map(function(t){return t.trim()});return{label:i||o,value:a.every(function(e){return!(e&&void 0===(t=t[e]))})?t:r}}}));e.default=o},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==a(Symbol.iterator)?function(t){return void 0===t?"undefined":a(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":a(t)},o=u(r(0)),i=u(r(11)),s=u(r(10));function u(t){return t&&t.__esModule?t:{default:t}}function c(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function l(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}("next")})}}e.default=(0,o.default)({init:function(t){var e=t.name,r=t.remoteConnection,n=t.connector;if(!e&&!r)throw new Error("Model must have a name or path");if(!n)throw new Error("Model must have a connector. Please register one using Fluent.config");this.name=e||this.name,this.remoteConnection=r||this.remoteConnection,this.connector=n||this.connector,this.chainReference=[],this.whereArray=[],this.orWhereArray=[],this.selectArray=[],this.orderByArray=[],this.limitNumber=void 0,this.offsetNumber=void 0,this.populate=[],this.chunk=null,this.pullSize=null,this.ownerId=void 0,this.paginator=void 0,this.rawQuery=void 0},properties:{operators:["=","<",">","<=",">=","<>","!=","in","nin","like","regexp","startsWith","endsWith","contains"]},methods:{get:function(){throw new Error("get() method not implemented")},all:function(){throw new Error("all() method not implemented")},find:function(t){throw new Error("find() method not implemented")},findOne:function(){throw new Error("findOne() method not implemented")},remove:function(){throw new Error("remove() method not implemented")},softDelete:function(){throw new Error("softDelete() method not implemented")},insert:function(){throw new Error("insert() method not implemented")},update:function(){throw new Error("update() method not implemented")},clear:function(){throw new Error("clear() method not implemented")},updateOrCreate:function(){throw new Error("updateOrCreate() method not implemented")},findAndRemove:function(){throw new Error("findAndRemove() method not implemented")},paginate:function(){throw new Error("paginate() method not implemented")},tableView:function(){throw new Error("tableView() method not implemented")},raw:function(){throw new Error("raw() method not implemented")},owner:function(t){return this.chainReference.push({method:"owner",args:t}),this.ownerId=t,this},own:function(t){return this.owner(t)},first:function(){var t=this;return l(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get();case 2:return r=e.sent,e.abrupt("return",i.default.get(function(){return r[0]},[]));case 4:case"end":return e.stop()}},e,t)}))()},collect:function(){var t=this;return l(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get();case 2:if(r=e.sent,Array.isArray(r)){e.next=5;break}throw new Error("Collect method only accepts arrays of data");case 5:return e.abrupt("return",(0,s.default)(r));case 6:case"end":return e.stop()}},e,t)}))()},select:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return e=this.prepareInput(e),this.chainReference.push({method:"select",args:e}),this.selectArray=this.selectArray.concat(e).filter(function(t,e,r){return r.indexOf(t)===e}),this},jsApplySelect:function(t){var e=this,r=Array.isArray(t)?[].concat(c(t)):[t];return this.selectArray.length>0&&(r=r.map(function(t){var r={};return e.selectArray.forEach(function(e){var o=i.default.getFromPath(t,e,void 0),a=i.default.get(function(){return o.value},void 0);void 0!==a&&("object"===(void 0===a?"undefined":n(a))&&a.hasOwnProperty("data")&&a.data.hasOwnProperty("name")?r[o.label]=a.data.name:r[o.label]=a)}),r})),r},offset:function(t){return this.chainReference.push({method:"offset",args:t}),this.offsetNumber=t,this},skip:function(t){return this.offset(t)},where:function(){for(var t=this,e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.chainReference.push({method:"where",args:r}),this.whereArray=[],(r=Array.isArray(r[0])?r:[r]).forEach(function(e){if(3!==e.length)throw new Error('There where clouse is not properly formatted, expecting: ["attribute", "operator","value"] but got "'+JSON.stringify(e)+'" ');t.whereArray.push(e)}),this},andWhere:function(){for(var t=this,e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.chainReference.push({method:"andWhere",args:r}),(r=Array.isArray(r[0])?r:[r]).forEach(function(e){if(3!==e.length)throw new Error('There where clouse is not properly formatted, expecting: ["attribute", "operator","value"] but got "'+JSON.stringify(e)+'" ');t.whereArray.push(e)}),this},orWhere:function(){for(var t=this,e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.chainReference.push({method:"orWhere",args:r}),(r=Array.isArray(r[0])?r:[r]).forEach(function(e){if(3!==e.length)throw new Error('There orWhere clouse is not properly formatted, expecting: ["attribute", "operator","value"] but got "'+JSON.stringify(e)+'" ');t.orWhereArray.push(e)}),this},limit:function(t){return this.chainReference.push({method:"limit",args:t}),this.limitNumber=t,this},take:function(t){return this.limit(t)},pluck:function(t){var e=this;return l(regeneratorRuntime.mark(function r(){var n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e.chainReference.push({method:"pluck",args:t}),r.next=3,e.get();case 3:return n=(n=r.sent).map(function(e){var r=i.default.getFromPath(e,t,void 0);if(void 0!==r.value)return r.value}),r.abrupt("return",n);case 6:case"end":return r.stop()}},r,e)}))()},orderBy:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.chainReference.push({method:"orderBy",args:e}),this.orderByArray=e,this},jsApplyOrderBy:function(t){var e=[].concat(c(t));if(0===this.orderByArray.length)return e;var r=this.orderByArray[0];if(this.selectArray.length>0&&(r.includes(".")||r.includes("[")))throw new Error('Cannot orderBy nested attribute "'+r+'" when using Select. You must rename the attribute');var n=this.orderByArray[1],o=this.orderByArray[2];return o||(o="string"),e.sort(function(t,e){var a=i.default.getFromPath(t,r,void 0).value,s=i.default.getFromPath(e,r,void 0).value;if(void 0===a||void 0===s)throw new Error('Cannot order by property "'+r+'" not all values have this property');return o.includes("string")||o.includes("number")?"asc"===n?a>s?1:a<s?-1:0:a>s?-1:a<s?1:0:o.includes("date")?"asc"===n?new Date(a)-new Date(s):new Date(s)-new Date(a):void 0})},prepareInput:function(t){var e=[];return t.forEach(function(t){var r=Array.isArray(t)?t:t.split(",");r=r.map(function(t){return t.trim()}),e=e.concat(r)}),e.filter(function(t,e,r){return r.indexOf(t)===e}),e},ArrayInsert:function(t,e){var r=this;return l(regeneratorRuntime.mark(function n(){var o,i,a,s,u,c,l,f;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:o=1,i=t.length,a=!0,s=!1,u=void 0,n.prev=5,c=t[Symbol.iterator]();case 7:if(a=(l=c.next()).done){n.next=26;break}return f=l.value,e&&e.showProgress&&console.log("Inserting "+o+" of "+i),n.prev=10,n.next=13,r.insert(f,e);case 13:n.sent,e&&e.showProgress&&console.log("Element "+o+" inserted"),o++,n.next=23;break;case 18:n.prev=18,n.t0=n.catch(10),console.log("ERROR - Element "+o+" - "+JSON.stringify(f)+" could not be inserted"),console.log(n.t0),o++;case 23:a=!0,n.next=7;break;case 26:n.next=32;break;case 28:n.prev=28,n.t1=n.catch(5),s=!0,u=n.t1;case 32:n.prev=32,n.prev=33,!a&&c.return&&c.return();case 35:if(n.prev=35,!s){n.next=38;break}throw u;case 38:return n.finish(35);case 39:return n.finish(32);case 40:case"end":return n.stop()}},n,r,[[5,28,32,40],[10,18],[33,,35,39]])}))()}}})},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.Event=e.MergeConnector=e.Interface=e.Fluent=e.Model=void 0;var n=u(r(14)),o=u(r(9)),i=u(r(12)),a=u(r(20)),s=u(r(21));function u(t){return t&&t.__esModule?t:{default:t}}e.Model=o.default,e.Fluent=n.default,e.Interface=i.default,e.MergeConnector=a.default,e.Event=s.default},function(t,e,r){(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o=s(r(0)),i=s(r(9)),a=s(r(10));function s(t){return t&&t.__esModule?t:{default:t}}function u(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var c=(0,o.default)({init:function(){this.registerGlobalVariable()},properties:{},methods:{model:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.registerModel(e),i.default.compose.apply(i.default,u(e))},extend:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.registerModel(e),i.default.compose.apply(i.default,u(e))},compose:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.registerModel(e),i.default.compose.apply(i.default,u(e))},collect:function(t){return(0,a.default)(t)},registerGlobalVariable:function(){"undefined"!=typeof window&&window&&!window._FLUENT_&&(window._FLUENT_={connectors:{},models:{}}),t&&!t._FLUENT_&&(t._FLUENT_={connectors:{},models:{}})},registerModel:function(e){var r=e&&e[0]&&e[0].properties&&e[0].properties.name?e[0].properties.name:void 0;if(r&&"baseModel"!==r){if("string"!=typeof r)throw new Error("You must assign a name to your Model when using Fluent.compose");"undefined"==typeof window?t._FLUENT_.models[r]=!0:window._FLUENT_.models[r]=!0}},config:function(e){var r=e.REMOTE_CONNECTORS,n=void 0===r?void 0:r,o=e.LOCAL_CONNECTORS,i=void 0===o?void 0:o,a=e.MERGE_CONNECTORS,s=void 0===a?void 0:a;"undefined"!=typeof window&&window&&(window._FLUENT_.connectors={local:i,remote:n,merge:s}),void 0!==t&&t&&(t._FLUENT_.connectors={local:i,remote:n,merge:s})},getConfig:function(){return"undefined"!=typeof window&&window?window._FLUENT_:void 0!==t&&t?t._FLUENT_:void 0},registerConnector:function(e){var r=e.type,o=e.connector;if(!r||!o)throw new Error("type and connector must be defined");if(!["local","remote","merge"].includes(r))throw new Error("type must be either local, remote or merge");var i="undefined"!=typeof window&&window?window._FLUENT_:t._FLUENT_,a=i.connectors.hasOwnProperty(r)?i.connectors[r]:[];if(0===a.length)return o=n({},o,{default:!0}),a.push(o),void(i.connectors[r]=a);a.find(function(t){return t.name===o.name})?console.log("A "+r+" connector with the name '"+o.name+"' already exists"):(a.push(o),i.connectors[r]=a)},deregisterConnector:function(e){var r=e.type,n=e.name;if(!r||!n)throw new Error("type and name must be defined");if(!["local","remote","merge"].includes(r))throw new Error("type must be either local, remote or merge");var o="undefined"!=typeof window&&window?window._FLUENT_:t._FLUENT_,i=o.connectors.hasOwnProperty(r)?o.connectors[r]:[];if(0!==i.length){var a=i.filter(function(t){return t.name!==n});o.connectors[r]=a}}}})();e.default=c}).call(this,r(4))},function(t,e,r){t.exports=r(1)},function(t,e){t.exports=function(t){return Boolean(t)&&"object"==(void 0===t?"undefined":a(t))&&Object.getPrototypeOf(t)===Object.prototype}},function(t,e,r){var n=r(2);function o(t){return function(e){var r={};return r[t]=e,this&&this.compose?this.compose(r):n(r)}}var i=o("properties"),a=o("staticProperties"),s=o("configuration"),u=o("deepProperties"),c=o("staticDeepProperties"),l=o("deepConfiguration"),f=o("initializers");t.exports=n({staticProperties:{methods:o("methods"),props:i,properties:i,statics:a,staticProperties:a,conf:s,configuration:s,deepProps:u,deepProperties:u,deepStatics:c,staticDeepProperties:c,deepConf:l,deepConfiguration:l,init:f,initializers:f,composers:o("composers"),propertyDescriptors:o("propertyDescriptors"),staticPropertyDescriptors:o("staticPropertyDescriptors")}})},function(t,e){t.exports=function(t){return"string"==typeof t}},function(t,e,r){var n=r(2),o=new WeakMap,i=function(t,e){function r(){var e=o.get(this);return t.apply(e,arguments)}return Object.defineProperty(r,"name",{value:e,configurable:!0}),r};function a(t,e){var r=e.stamp.compose,n=r.deepConfiguration.Privatize.methods,a={};o.set(a,this);var s=r.methods;if(!s)return a;for(var u=Object.keys(s),c=0;c<u.length;c++){var l=u[c];n.indexOf(l)<0&&(a[l]=i(s[l],l))}if("undefined"!=typeof Symbol){var f=Symbol.for("stamp");s[f]&&(a[f]=e.stamp)}return a}var s=n({initializers:[a],deepConfiguration:{Privatize:{methods:[]}},staticProperties:{privatizeMethods:function(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];"string"==typeof r&&r.length>0&&t.push(r)}return(this&&this.compose?this:s).compose({deepConfiguration:{Privatize:{methods:t}}})}},composers:[function(t){var e=t.stamp.compose.initializers;e.splice(e.indexOf(a),1),e.push(a)}]});t.exports=s},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n,o=(n=r(12))&&n.__esModule?n:{default:n};e.default=o.default.compose({properties:{localFx:void 0,remoteFx:void 0},init:function(t){this.connectors=t},methods:{get:function(){var t,e=this;return(t=regeneratorRuntime.mark(function t(){var r,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.prepareMergedFunctions(),t.next=3,e.localFx.get();case 3:return r=t.sent,t.next=6,e.remoteFx.get();case 6:return n=t.sent,t.abrupt("return",r.concat(n));case 8:case"end":return t.stop()}},t,e)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}("next")})})()},prepareMergedFunctions:function(){var t=this;this.localFx=this.connectors.local,this.remoteFx=this.connectors.remote,this.chainReference.forEach(function(e){var r=e.method,n=e.args;t.localFx=t.localFx[r](n),t.remoteFx=t.remoteFx[r](n)})}}})},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.freeze({emit:function(t){var e=t.name,r=t.data,n=t.text;if(!e)throw new Error("Event must have a name.");if(!r)throw new Error("Event must have data.");if(!n)throw new Error("Event must have a text.");var o=function(t,e){var r=document.createEvent("CustomEvent");return e=e||{bubbles:!1,cancelable:!1,detail:void 0},r.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),r}(e,{detail:{data:r,text:n}});window.dispatchEvent(o)},listen:function(t){var e=t.name,r=t.callback;if(!e)throw new Error("Listener must have a name.");if(!r)throw new Error("Listener must have a callback.");window.addEventListener(e,r)},remove:function(t){var e=t.name,r=t.callback;if(!e)throw new Error("Listener must have a name to detach");if(!r)throw new Error("Listener must have a callback to detach");window.removeEventListener(e,r)}});e.default=n}])},"object"==a(e)&&"object"==a(t)?t.exports=i():(n=[],void 0===(o="function"==typeof(r=i)?r.apply(e,n):r)||(t.exports=o))}).call(this,r(32)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(r(34)),o=i(r(2));function i(t){return t&&t.__esModule?t:{default:t}}var a=function(){var t="undefined"==typeof window||!window||!window.navigator||window.navigator.onLine;return Object.freeze({isOnline:function(){return new Promise(function(t,e){o.default.get("https://yesno.wtf/api").then(function(e){t(!0)}).catch(function(e){t(!1)})})},initEventListeners:function(){n.default.listen({name:"online",callback:function(){console.log("App is now online"),t||(t=!0,n.default.emit({name:"FAST:CONNECTION:ONLINE",data:t,text:"Application is now online"}))}}),n.default.listen({name:"offline",callback:function(){console.log("App is now offline"),t&&(t=!1,n.default.emit({name:"FAST:CONNECTION:OFFLINE",data:t,text:"Application is now offline"}))}})}})}();e.default=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.freeze({emit:function(t){var e=t.name,r=t.data,n=t.text;if(!e)throw new Error("Event must have a name.");if(!r)throw new Error("Event must have data.");if(!n)throw new Error("Event must have a text.");var o=function(t,e){var r=document.createEvent("CustomEvent");return e=e||{bubbles:!1,cancelable:!1,detail:void 0},r.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),r}(e,{detail:{data:r,text:n}});window.dispatchEvent(o)},listen:function(t){var e=t.name,r=t.callback;if(!e)throw new Error("Listener must have a name.");if(!r)throw new Error("Listener must have a callback.");window.addEventListener(e,r)},remove:function(t){var e=t.name,r=t.callback;if(!e)throw new Error("Listener must have a name to detach");if(!r)throw new Error("Listener must have a callback to detach");window.removeEventListener(e,r)}});e.default=n},function(t,e,r){t.exports=function(){"use strict";var t="millisecond",e="second",r="minute",n="hour",o="day",i="week",a="month",s="quarter",u="year",c=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,l=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=function(t,e,r){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(r)+t},h={s:f,z:function(t){var e=-t.utcOffset(),r=Math.abs(e),n=Math.floor(r/60),o=r%60;return(e<=0?"+":"-")+f(n,2,"0")+":"+f(o,2,"0")},m:function(t,e){var r=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(r,a),o=e-n<0,i=t.clone().add(r+(o?-1:1),a);return Number(-(r+(e-n)/(o?n-i:i-n))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(c){return{M:a,y:u,w:i,d:o,h:n,m:r,s:e,ms:t,Q:s}[c]||String(c||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},p={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},d="en",v={};v[d]=p;var y=function(t){return t instanceof w},m=function(t,e,r){var n;if(!t)return null;if("string"==typeof t)v[t]&&(n=t),e&&(v[t]=e,n=t);else{var o=t.name;v[o]=t,n=o}return r||(d=n),n},g=function(t,e,r){if(y(t))return t.clone();var n=e?"string"==typeof e?{format:e,pl:r}:e:{};return n.date=t,new w(n)},b=h;b.l=m,b.i=y,b.w=function(t,e){return g(t,{locale:e.$L,utc:e.$u})};var w=function(){function f(t){this.$L=this.$L||m(t.locale,null,!0)||d,this.parse(t)}var h=f.prototype;return h.parse=function(t){this.$d=function(t){var e=t.date,r=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(c);if(n)return r?new Date(Date.UTC(n[1],n[2]-1,n[3]||1,n[4]||0,n[5]||0,n[6]||0,n[7]||0)):new Date(n[1],n[2]-1,n[3]||1,n[4]||0,n[5]||0,n[6]||0,n[7]||0)}return new Date(e)}(t),this.init()},h.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},h.$utils=function(){return b},h.isValid=function(){return!("Invalid Date"===this.$d.toString())},h.isSame=function(t,e){var r=g(t);return this.startOf(e)<=r&&r<=this.endOf(e)},h.isAfter=function(t,e){return g(t)<this.startOf(e)},h.isBefore=function(t,e){return this.endOf(e)<g(t)},h.$g=function(t,e,r){return b.u(t)?this[e]:this.set(r,t)},h.year=function(t){return this.$g(t,"$y",u)},h.month=function(t){return this.$g(t,"$M",a)},h.day=function(t){return this.$g(t,"$W",o)},h.date=function(t){return this.$g(t,"$D","date")},h.hour=function(t){return this.$g(t,"$H",n)},h.minute=function(t){return this.$g(t,"$m",r)},h.second=function(t){return this.$g(t,"$s",e)},h.millisecond=function(e){return this.$g(e,"$ms",t)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(t,s){var c=this,l=!!b.u(s)||s,f=b.p(t),h=function(t,e){var r=b.w(c.$u?Date.UTC(c.$y,e,t):new Date(c.$y,e,t),c);return l?r:r.endOf(o)},p=function(t,e){return b.w(c.toDate()[t].apply(c.toDate(),(l?[0,0,0,0]:[23,59,59,999]).slice(e)),c)},d=this.$W,v=this.$M,y=this.$D,m="set"+(this.$u?"UTC":"");switch(f){case u:return l?h(1,0):h(31,11);case a:return l?h(1,v):h(0,v+1);case i:var g=this.$locale().weekStart||0,w=(d<g?d+7:d)-g;return h(l?y-w:y+(6-w),v);case o:case"date":return p(m+"Hours",0);case n:return p(m+"Minutes",1);case r:return p(m+"Seconds",2);case e:return p(m+"Milliseconds",3);default:return this.clone()}},h.endOf=function(t){return this.startOf(t,!1)},h.$set=function(i,s){var c,l=b.p(i),f="set"+(this.$u?"UTC":""),h=(c={},c[o]=f+"Date",c.date=f+"Date",c[a]=f+"Month",c[u]=f+"FullYear",c[n]=f+"Hours",c[r]=f+"Minutes",c[e]=f+"Seconds",c[t]=f+"Milliseconds",c)[l],p=l===o?this.$D+(s-this.$W):s;if(l===a||l===u){var d=this.clone().set("date",1);d.$d[h](p),d.init(),this.$d=d.set("date",Math.min(this.$D,d.daysInMonth())).toDate()}else h&&this.$d[h](p);return this.init(),this},h.set=function(t,e){return this.clone().$set(t,e)},h.get=function(t){return this[b.p(t)]()},h.add=function(t,s){var c,l=this;t=Number(t);var f=b.p(s),h=function(e){var r=g(l);return b.w(r.date(r.date()+Math.round(e*t)),l)};if(f===a)return this.set(a,this.$M+t);if(f===u)return this.set(u,this.$y+t);if(f===o)return h(1);if(f===i)return h(7);var p=(c={},c[r]=6e4,c[n]=36e5,c[e]=1e3,c)[f]||1,d=this.valueOf()+t*p;return b.w(d,this)},h.subtract=function(t,e){return this.add(-1*t,e)},h.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var r=t||"YYYY-MM-DDTHH:mm:ssZ",n=b.z(this),o=this.$locale(),i=this.$H,a=this.$m,s=this.$M,u=o.weekdays,c=o.months,f=function(t,n,o,i){return t&&(t[n]||t(e,r))||o[n].substr(0,i)},h=function(t){return b.s(i%12||12,t,"0")},p=o.meridiem||function(t,e,r){var n=t<12?"AM":"PM";return r?n.toLowerCase():n},d={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:b.s(s+1,2,"0"),MMM:f(o.monthsShort,s,c,3),MMMM:c[s]||c(this,r),D:this.$D,DD:b.s(this.$D,2,"0"),d:String(this.$W),dd:f(o.weekdaysMin,this.$W,u,2),ddd:f(o.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(i),HH:b.s(i,2,"0"),h:h(1),hh:h(2),a:p(i,a,!0),A:p(i,a,!1),m:String(a),mm:b.s(a,2,"0"),s:String(this.$s),ss:b.s(this.$s,2,"0"),SSS:b.s(this.$ms,3,"0"),Z:n};return r.replace(l,function(t,e){return e||d[t]||n.replace(":","")})},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(t,c,l){var f,h=b.p(c),p=g(t),d=6e4*(p.utcOffset()-this.utcOffset()),v=this-p,y=b.m(this,p);return y=(f={},f[u]=y/12,f[a]=y,f[s]=y/3,f[i]=(v-d)/6048e5,f[o]=(v-d)/864e5,f[n]=v/36e5,f[r]=v/6e4,f[e]=v/1e3,f)[h]||v,l?y:b.a(y)},h.daysInMonth=function(){return this.endOf(a).$D},h.$locale=function(){return v[this.$L]},h.locale=function(t,e){if(!t)return this.$L;var r=this.clone();return r.$L=m(t,e,!0),r},h.clone=function(){return b.w(this.toDate(),this)},h.toDate=function(){return new Date(this.$d)},h.toJSON=function(){return this.toISOString()},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},f}();return g.prototype=w.prototype,g.extend=function(t,e){return t(e,w,g),g},g.locale=m,g.isDayjs=y,g.unix=function(t){return g(1e3*t)},g.en=v[d],g.Ls=v,g}()},function(t,e,r){t.exports=function(){"use strict";return function(t,e){e.prototype.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)}}}()},function(t,e,r){"use strict";var n=r(38);function o(t){this.message=t}o.prototype=new Error,o.prototype.name="InvalidTokenError",t.exports=function(t,e){if("string"!=typeof t)throw new o("Invalid token specified");var r=!0===(e=e||{}).header?0:1;try{return JSON.parse(n(t.split(".")[r]))}catch(t){throw new o("Invalid token specified: "+t.message)}},t.exports.InvalidTokenError=o},function(t,e,r){var n=r(39);t.exports=function(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return function(t){return decodeURIComponent(n(t).replace(/(.)/g,function(t,e){var r=e.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}(e)}catch(t){return n(e)}}},function(t,e){function r(t){this.message=t}r.prototype=new Error,r.prototype.name="InvalidCharacterError",t.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,o,i=0,a=0,s="";o=e.charAt(a++);~o&&(n=i%4?64*n+o:o,i++%4)?s+=String.fromCharCode(255&n>>(-2*i&6)):0)o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return s}},function(t,e,r){t.exports=function(){var t=[],e=[],r={},n={},o={};function i(t){return"string"==typeof t?new RegExp("^"+t+"$","i"):t}function a(t,e){return t===e?e:t===t.toLowerCase()?e.toLowerCase():t===t.toUpperCase()?e.toUpperCase():t[0]===t[0].toUpperCase()?e.charAt(0).toUpperCase()+e.substr(1).toLowerCase():e.toLowerCase()}function s(t,e){return t.replace(e[0],function(r,n){var o,i,s=(o=e[1],i=arguments,o.replace(/\$(\d{1,2})/g,function(t,e){return i[e]||""}));return a(""===r?t[n-1]:r,s)})}function u(t,e,n){if(!t.length||r.hasOwnProperty(t))return e;for(var o=n.length;o--;){var i=n[o];if(i[0].test(e))return s(e,i)}return e}function c(t,e,r){return function(n){var o=n.toLowerCase();return e.hasOwnProperty(o)?a(n,o):t.hasOwnProperty(o)?a(n,t[o]):u(o,n,r)}}function l(t,e,r,n){return function(n){var o=n.toLowerCase();return!!e.hasOwnProperty(o)||!t.hasOwnProperty(o)&&u(o,o,r)===o}}function f(t,e,r){var n=1===e?f.singular(t):f.plural(t);return(r?e+" ":"")+n}return f.plural=c(o,n,t),f.isPlural=l(o,n,t),f.singular=c(n,o,e),f.isSingular=l(n,o,e),f.addPluralRule=function(e,r){t.push([i(e),r])},f.addSingularRule=function(t,r){e.push([i(t),r])},f.addUncountableRule=function(t){"string"!=typeof t?(f.addPluralRule(t,"$0"),f.addSingularRule(t,"$0")):r[t.toLowerCase()]=!0},f.addIrregularRule=function(t,e){e=e.toLowerCase(),t=t.toLowerCase(),o[t]=e,n[e]=t},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach(function(t){return f.addIrregularRule(t[0],t[1])}),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(t){return f.addPluralRule(t[0],t[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(t){return f.addSingularRule(t[0],t[1])}),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(f.addUncountableRule),f}()}])},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(r(7)),o=i(r(9));function i(t){return t&&t.__esModule?t:{default:t}}function a(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}("next")})}}var s,u,c=(s=a(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.response.status,t.next=400===t.t0?3:440===t.t0?6:8;break;case 3:return console.log("Bad request"),o.default.emit({name:"GOAT:SESSION:BADREQUEST",data:e,text:"Bad request"}),t.abrupt("break",10);case 6:return o.default.emit({name:"GOAT:SESSION:EXPIRED",data:e,text:"Session Expired"}),t.abrupt("break",10);case 8:return console.log(e),t.abrupt("break",10);case 10:case"end":return t.stop()}},t,void 0)})),u=function(t){return s.apply(this,arguments)},Object.freeze({interceptAxios:function(){var t;n.default.interceptors.response.use(function(t){return t},(t=a(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u(e);case 2:return t.abrupt("return",Promise.reject(e));case 3:case"end":return t.stop()}},t,void 0)})),function(e){return t.apply(this,arguments)}))}}));e.default=c},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=a(r(4)),i=a(r(0));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return n(t,null,[{key:"setLocales",value:function(){o.default.locale(t.getLanguage())}},{key:"changeLanguage",value:function(t){o.default.locale(t)}},{key:"getLanguage",value:function(){return i.default.getLanguage()}}]),t}();e.default=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(r(10)),o=i(r(85));function i(t){return t&&t.__esModule?t:{default:t}}e.default=(0,n.default)({init:function(t){var e=t.connector;this.default=e||this.default},properties:{default:"Pusher",connectors:{Pusher:o.default}},methods:{getConnector:function(t){return this.connectors[t]},connector:function(t){return this.getConnector(this.default)(t)}}})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(r(86)),o=a(r(12)),i=a(r(87));function a(t){return t&&t.__esModule?t:{default:t}}e.default=i.default.compose({init:function(t){var e=t.appKey,r=t.appCluster,i=t.authEndpoint,a=t.token;this.credentials.appKey=e||this.credentials.appKey,this.credentials.appCluster=r||this.credentials.appCluster,this.authEndpoint=i||this.authEndpoint;var s=a||(0,o.default)().connector().user().x_jwt_token;this.instance=new n.default(this.credentials.appKey,{cluster:this.credentials.appCluster,authEndpoint:this.authEndpoint,auth:{headers:{Authorization:"Bearer "+s}}})},properties:{credentials:{appKey:void 0,appCluster:void 0},channels:{here:"pusher:subscription_succeded",error:"pusher:subscription_error",entering:"pusher:member_added",leaving:"pusher:member_removed"},authEndpoint:void 0,instance:void 0,channel:void 0},methods:{join:function(t){return this.channel=this.instance.subscribe("presence-"+t),this},leave:function(){this.instance.subscribe(this.channel).trigger(this.channels.leaving,{user:user}),this.channel=void 0},here:function(t){if("function"!=typeof t)throw new Error("Callback must be a function.");return this.channel.bind(this.channels.error,function(t){throw new Error("Could not subscribe to channel",t)}),this},joining:function(t){if("function"!=typeof t)throw new Error("Callback must be a function.");return this.channel.bind(this.channels.entering,t),this},leaving:function(t){if("function"!=typeof t)throw new Error("Callback must be a function.");return this.channel.bind(this.channels.leaving,t),this}}})},function(t,e,r){
/*!
 * Pusher JavaScript Library v4.4.0
 * https://pusher.com/
 *
 * Copyright 2017, Pusher
 * Released under the MIT licence.
 */
var n;n=function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}return r.m=t,r.c=e,r.p="",r(0)}([function(t,e,r){"use strict";var n=r(1);t.exports=n.default},function(t,e,r){"use strict";var n=r(2),o=r(9),i=r(24),a=r(39),s=r(40),u=r(41),c=r(12),l=r(5),f=r(71),h=r(8),p=r(43),d=r(14),v=function(){function t(e,r){var c=this;if(function(t){throw"You must pass your app key when you instantiate Pusher."}(),!(r=r||{}).cluster&&!r.wsHost&&!r.httpHost){var v=d.default.buildLogSuffix("javascriptQuickStart");h.default.warn("You should always specify a cluster when connecting. "+v)}this.key=e,this.config=o.extend(f.getGlobalConfig(),r.cluster?f.getClusterConfig(r.cluster):{},r),this.channels=p.default.createChannels(),this.global_emitter=new i.default,this.sessionID=Math.floor(1e9*Math.random()),this.timeline=new a.default(this.key,this.sessionID,{cluster:this.config.cluster,features:t.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:s.default.INFO,version:l.default.VERSION}),this.config.disableStats||(this.timelineSender=p.default.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+n.default.TimelineTransport.name})),this.connection=p.default.createConnectionManager(this.key,o.extend({getStrategy:function(t){var e=o.extend({},c.config,t);return u.build(n.default.getDefaultStrategy(e),e)},timeline:this.timeline,activityTimeout:this.config.activity_timeout,pongTimeout:this.config.pong_timeout,unavailableTimeout:this.config.unavailable_timeout},this.config,{useTLS:this.shouldUseTLS()})),this.connection.bind("connected",function(){c.subscribeAll(),c.timelineSender&&c.timelineSender.send(c.connection.isUsingTLS())}),this.connection.bind("message",function(t){var e=0===t.event.indexOf("pusher_internal:");if(t.channel){var r=c.channel(t.channel);r&&r.handleEvent(t)}e||c.global_emitter.emit(t.event,t.data)}),this.connection.bind("connecting",function(){c.channels.disconnect()}),this.connection.bind("disconnected",function(){c.channels.disconnect()}),this.connection.bind("error",function(t){h.default.warn("Error",t)}),t.instances.push(this),this.timeline.info({instances:t.instances.length}),t.isReady&&this.connect()}return t.ready=function(){t.isReady=!0;for(var e=0,r=t.instances.length;e<r;e++)t.instances[e].connect()},t.log=function(e){t.logToConsole&&window.console&&window.console.log&&window.console.log(e)},t.getClientFeatures=function(){return o.keys(o.filterObject({ws:n.default.Transports.ws},function(t){return t.isSupported({})}))},t.prototype.channel=function(t){return this.channels.find(t)},t.prototype.allChannels=function(){return this.channels.all()},t.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var t=this.connection.isUsingTLS(),e=this.timelineSender;this.timelineSenderTimer=new c.PeriodicTimer(6e4,function(){e.send(t)})}},t.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},t.prototype.bind=function(t,e,r){return this.global_emitter.bind(t,e,r),this},t.prototype.unbind=function(t,e,r){return this.global_emitter.unbind(t,e,r),this},t.prototype.bind_global=function(t){return this.global_emitter.bind_global(t),this},t.prototype.unbind_global=function(t){return this.global_emitter.unbind_global(t),this},t.prototype.unbind_all=function(t){return this.global_emitter.unbind_all(),this},t.prototype.subscribeAll=function(){var t;for(t in this.channels.channels)this.channels.channels.hasOwnProperty(t)&&this.subscribe(t)},t.prototype.subscribe=function(t){var e=this.channels.add(t,this);return e.subscriptionPending&&e.subscriptionCancelled?e.reinstateSubscription():e.subscriptionPending||"connected"!==this.connection.state||e.subscribe(),e},t.prototype.unsubscribe=function(t){var e=this.channels.find(t);e&&e.subscriptionPending?e.cancelSubscription():(e=this.channels.remove(t))&&"connected"===this.connection.state&&e.unsubscribe()},t.prototype.send_event=function(t,e,r){return this.connection.send_event(t,e,r)},t.prototype.shouldUseTLS=function(){return"https:"===n.default.getProtocol()||!0===this.config.forceTLS||Boolean(this.config.encrypted)},t.instances=[],t.isReady=!1,t.logToConsole=!1,t.Runtime=n.default,t.ScriptReceivers=n.default.ScriptReceivers,t.DependenciesReceivers=n.default.DependenciesReceivers,t.auth_callbacks=n.default.auth_callbacks,t}();e.__esModule=!0,e.default=v,n.default.setup(v)},function(t,e,r){"use strict";var n=r(3),o=r(7),i=r(15),a=r(16),s=r(17),u=r(4),c=r(18),l=r(19),f=r(26),h=r(27),p=r(28),d=r(29),v={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:u.ScriptReceivers,DependenciesReceivers:n.DependenciesReceivers,getDefaultStrategy:h.default,Transports:l.default,transportConnectionInitializer:p.default,HTTPFactory:d.default,TimelineTransport:c.default,getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(t){var e=this;window.Pusher=t;var r=function(){e.onDocumentBody(t.ready)};window.JSON?r():n.Dependencies.load("json2",{},r)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getAuthorizers:function(){return{ajax:o.default,jsonp:i.default}},onDocumentBody:function(t){var e=this;document.body?t():setTimeout(function(){e.onDocumentBody(t)},0)},createJSONPRequest:function(t,e){return new s.default(t,e)},createScriptRequest:function(t){return new a.default(t)},getLocalStorage:function(){try{return window.localStorage}catch(t){return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){return new(this.getXHRAPI())},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return f.Network},createWebSocket:function(t){return new(this.getWebSocketAPI())(t)},createSocketRequest:function(t,e){if(this.isXHRSupported())return this.HTTPFactory.createXHR(t,e);if(this.isXDRSupported(0===e.indexOf("https:")))return this.HTTPFactory.createXDR(t,e);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var t=this.getXHRAPI();return Boolean(t)&&void 0!==(new t).withCredentials},isXDRSupported:function(t){var e=t?"https:":"http:",r=this.getProtocol();return Boolean(window.XDomainRequest)&&r===e},addUnloadListener:function(t){void 0!==window.addEventListener?window.addEventListener("unload",t,!1):void 0!==window.attachEvent&&window.attachEvent("onunload",t)},removeUnloadListener:function(t){void 0!==window.addEventListener?window.removeEventListener("unload",t,!1):void 0!==window.detachEvent&&window.detachEvent("onunload",t)}};e.__esModule=!0,e.default=v},function(t,e,r){"use strict";var n=r(4),o=r(5),i=r(6);e.DependenciesReceivers=new n.ScriptReceiverFactory("_pusher_dependencies","Pusher.DependenciesReceivers"),e.Dependencies=new i.default({cdn_http:o.default.cdn_http,cdn_https:o.default.cdn_https,version:o.default.VERSION,suffix:o.default.dependency_suffix,receivers:e.DependenciesReceivers})},function(t,e){"use strict";var r=function(){function t(t,e){this.lastId=0,this.prefix=t,this.name=e}return t.prototype.create=function(t){this.lastId++;var e=this.lastId,r=this.prefix+e,n=this.name+"["+e+"]",o=!1,i=function(){o||(t.apply(null,arguments),o=!0)};return this[e]=i,{number:e,id:r,name:n,callback:i}},t.prototype.remove=function(t){delete this[t.number]},t}();e.ScriptReceiverFactory=r,e.ScriptReceivers=new r("_pusher_script_","Pusher.ScriptReceivers")},function(t,e){"use strict";e.__esModule=!0,e.default={VERSION:"4.4.0",PROTOCOL:7,host:"ws.pusherapp.com",ws_port:80,wss_port:443,ws_path:"",sockjs_host:"sockjs.pusher.com",sockjs_http_port:80,sockjs_https_port:443,sockjs_path:"/pusher",stats_host:"stats.pusher.com",channel_auth_endpoint:"/pusher/auth",channel_auth_transport:"ajax",activity_timeout:12e4,pong_timeout:3e4,unavailable_timeout:1e4,cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""}},function(t,e,r){"use strict";var n=r(4),o=r(2),i=function(){function t(t){this.options=t,this.receivers=t.receivers||n.ScriptReceivers,this.loading={}}return t.prototype.load=function(t,e,r){var n=this;if(n.loading[t]&&n.loading[t].length>0)n.loading[t].push(r);else{n.loading[t]=[r];var i=o.default.createScriptRequest(n.getPath(t,e)),a=n.receivers.create(function(e){if(n.receivers.remove(a),n.loading[t]){var r=n.loading[t];delete n.loading[t];for(var o=function(t){t||i.cleanup()},s=0;s<r.length;s++)r[s](e,o)}});i.send(a)}},t.prototype.getRoot=function(t){var e=o.default.getDocument().location.protocol;return(t&&t.useTLS||"https:"===e?this.options.cdn_https:this.options.cdn_http).replace(/\/*$/,"")+"/"+this.options.version},t.prototype.getPath=function(t,e){return this.getRoot(e)+"/"+t+this.options.suffix+".js"},t}();e.__esModule=!0,e.default=i},function(t,e,r){"use strict";var n=r(8),o=r(2),i=r(14);e.__esModule=!0,e.default=function(t,e,r){var a;for(var s in(a=o.default.createXHR()).open("POST",this.options.authEndpoint,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this.authOptions.headers)a.setRequestHeader(s,this.authOptions.headers[s]);return a.onreadystatechange=function(){if(4===a.readyState)if(200===a.status){var t,e=!1;try{t=JSON.parse(a.responseText),e=!0}catch(t){r(!0,"JSON returned from webapp was invalid, yet status code was 200. Data was: "+a.responseText)}e&&r(!1,t)}else{var o=i.default.buildLogSuffix("authenticationEndpoint");n.default.warn("Couldn't retrieve authentication info. "+a.status+"Clients must be authenticated to join private or presence channels. "+o),r(!0,a.status)}},a.send(this.composeQuery(e)),a}},function(t,e,r){"use strict";var n=r(9),o=r(1),i={debug:function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];o.default.log&&o.default.log(n.stringify.apply(this,arguments))},warn:function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=n.stringify.apply(this,arguments);o.default.log?o.default.log(r):window.console&&(window.console.warn?window.console.warn(r):window.console.log&&window.console.log(r))}};e.__esModule=!0,e.default=i},function(t,e,r){"use strict";var n=r(10),o=r(11);function i(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}function a(t,e){for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n,t,r));return r}function s(t,e){var r={};return i(t,function(t,n){r[n]=e(t)}),r}function u(t,e){var r={};return i(t,function(n,o){(e&&e(n,o,t,r)||Boolean(n))&&(r[o]=n)}),r}function c(t){var e=[];return i(t,function(t,r){e.push([r,t])}),e}function l(t){return s(t,function(t){return"object"==typeof t&&(t=h(t)),encodeURIComponent(n.default(t.toString()))})}function f(t){var e=[],r=[];return function t(n,o){var i,a,s;switch(typeof n){case"object":if(!n)return null;for(i=0;i<e.length;i+=1)if(e[i]===n)return{$ref:r[i]};if(e.push(n),r.push(o),"[object Array]"===Object.prototype.toString.apply(n))for(s=[],i=0;i<n.length;i+=1)s[i]=t(n[i],o+"["+i+"]");else for(a in s={},n)Object.prototype.hasOwnProperty.call(n,a)&&(s[a]=t(n[a],o+"["+JSON.stringify(a)+"]"));return s;case"number":case"string":case"boolean":return n}}(t,"$")}function h(t){try{return JSON.stringify(t)}catch(e){return JSON.stringify(f(t))}}e.extend=function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];for(var o=0;o<r.length;o++){var i=r[o];for(var a in i)i[a]&&i[a].constructor&&i[a].constructor===Object?e[a]=t(e[a]||{},i[a]):e[a]=i[a]}return e},e.stringify=function(){for(var t=["Pusher"],e=0;e<arguments.length;e++)"string"==typeof arguments[e]?t.push(arguments[e]):t.push(h(arguments[e]));return t.join(" : ")},e.arrayIndexOf=function(t,e){var r=Array.prototype.indexOf;if(null===t)return-1;if(r&&t.indexOf===r)return t.indexOf(e);for(var n=0,o=t.length;n<o;n++)if(t[n]===e)return n;return-1},e.objectApply=i,e.keys=function(t){var e=[];return i(t,function(t,r){e.push(r)}),e},e.values=function(t){var e=[];return i(t,function(t){e.push(t)}),e},e.apply=function(t,e,r){for(var n=0;n<t.length;n++)e.call(r||window,t[n],n,t)},e.map=a,e.mapObject=s,e.filter=function(t,e){e=e||function(t){return!!t};for(var r=[],n=0;n<t.length;n++)e(t[n],n,t,r)&&r.push(t[n]);return r},e.filterObject=u,e.flatten=c,e.any=function(t,e){for(var r=0;r<t.length;r++)if(e(t[r],r,t))return!0;return!1},e.all=function(t,e){for(var r=0;r<t.length;r++)if(!e(t[r],r,t))return!1;return!0},e.encodeParamsObject=l,e.buildQueryString=function(t){return a(c(l(u(t,function(t){return void 0!==t}))),o.default.method("join","=")).join("&")},e.decycleObject=f,e.safeJSONStringify=h},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){return f(c(t))};for(var n=String.fromCharCode,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i={},a=0,s=o.length;a<s;a++)i[o.charAt(a)]=a;var u=function(t){var e=t.charCodeAt(0);return e<128?t:e<2048?n(192|e>>>6)+n(128|63&e):n(224|e>>>12&15)+n(128|e>>>6&63)+n(128|63&e)},c=function(t){return t.replace(/[^\x00-\x7F]/g,u)},l=function(t){var e=[0,2,1][t.length%3],r=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[o.charAt(r>>>18),o.charAt(r>>>12&63),e>=2?"=":o.charAt(r>>>6&63),e>=1?"=":o.charAt(63&r)].join("")},f=window.btoa||function(t){return t.replace(/[\s\S]{1,3}/g,l)}},function(t,e,r){"use strict";var n=r(12),o={now:function(){return Date.now?Date.now():(new Date).valueOf()},defer:function(t){return new n.OneOffTimer(0,t)},method:function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=Array.prototype.slice.call(arguments,1);return function(e){return e[t].apply(e,n.concat(arguments))}}};e.__esModule=!0,e.default=o},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=r(13);function i(t){window.clearTimeout(t)}function a(t){window.clearInterval(t)}var s=function(t){function e(e,r){t.call(this,setTimeout,i,e,function(t){return r(),null})}return n(e,t),e}(o.default);e.OneOffTimer=s;var u=function(t){function e(e,r){t.call(this,setInterval,a,e,function(t){return r(),t})}return n(e,t),e}(o.default);e.PeriodicTimer=u},function(t,e){"use strict";var r=function(){function t(t,e,r,n){var o=this;this.clear=e,this.timer=t(function(){o.timer&&(o.timer=n(o.timer))},r)}return t.prototype.isRunning=function(){return null!==this.timer},t.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},t}();e.__esModule=!0,e.default=r},function(t,e){"use strict";var r={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/authenticating_users"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"}}};e.__esModule=!0,e.default={buildLogSuffix:function(t){var e,n=r.urls[t];return n?(n.fullUrl?e=n.fullUrl:n.path&&(e=r.baseUrl+n.path),e?"See: "+e:""):""}}},function(t,e,r){"use strict";var n=r(8);e.__esModule=!0,e.default=function(t,e,r){void 0!==this.authOptions.headers&&n.default.warn("Warn","To send headers with the auth request, you must use AJAX, rather than JSONP.");var o=t.nextAuthCallbackID.toString();t.nextAuthCallbackID++;var i=t.getDocument(),a=i.createElement("script");t.auth_callbacks[o]=function(t){r(!1,t)};var s="Pusher.auth_callbacks['"+o+"']";a.src=this.options.authEndpoint+"?callback="+encodeURIComponent(s)+"&"+this.composeQuery(e);var u=i.getElementsByTagName("head")[0]||i.documentElement;u.insertBefore(a,u.firstChild)}},function(t,e){"use strict";var r=function(){function t(t){this.src=t}return t.prototype.send=function(t){var e=this,r="Error loading "+e.src;e.script=document.createElement("script"),e.script.id=t.id,e.script.src=e.src,e.script.type="text/javascript",e.script.charset="UTF-8",e.script.addEventListener?(e.script.onerror=function(){t.callback(r)},e.script.onload=function(){t.callback(null)}):e.script.onreadystatechange=function(){"loaded"!==e.script.readyState&&"complete"!==e.script.readyState||t.callback(null)},void 0===e.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(e.errorScript=document.createElement("script"),e.errorScript.id=t.id+"_error",e.errorScript.text=t.name+"('"+r+"');",e.script.async=e.errorScript.async=!1):e.script.async=!0;var n=document.getElementsByTagName("head")[0];n.insertBefore(e.script,n.firstChild),e.errorScript&&n.insertBefore(e.errorScript,e.script.nextSibling)},t.prototype.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},t}();e.__esModule=!0,e.default=r},function(t,e,r){"use strict";var n=r(9),o=r(2),i=function(){function t(t,e){this.url=t,this.data=e}return t.prototype.send=function(t){if(!this.request){var e=n.buildQueryString(this.data),r=this.url+"/"+t.number+"?"+e;this.request=o.default.createScriptRequest(r),this.request.send(t)}},t.prototype.cleanup=function(){this.request&&this.request.cleanup()},t}();e.__esModule=!0,e.default=i},function(t,e,r){"use strict";var n=r(2),o=r(4),i={name:"jsonp",getAgent:function(t,e){return function(r,i){var a="http"+(e?"s":"")+"://"+(t.host||t.options.host)+t.options.path,s=n.default.createJSONPRequest(a,r),u=n.default.ScriptReceivers.create(function(e,r){o.ScriptReceivers.remove(u),s.cleanup(),r&&r.host&&(t.host=r.host),i&&i(e,r)});s.send(u)}}};e.__esModule=!0,e.default=i},function(t,e,r){"use strict";var n=r(20),o=r(22),i=r(21),a=r(2),s=r(3),u=r(9),c=new o.default({file:"sockjs",urls:i.sockjs,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(t,e){return new window.SockJS(t,null,{js_path:s.Dependencies.getPath("sockjs",{useTLS:e.useTLS}),ignore_null_origin:e.ignoreNullOrigin})},beforeOpen:function(t,e){t.send(JSON.stringify({path:e}))}}),l={isSupported:function(t){return a.default.isXDRSupported(t.useTLS)}},f=new o.default(u.extend({},n.streamingConfiguration,l)),h=new o.default(u.extend({},n.pollingConfiguration,l));n.default.xdr_streaming=f,n.default.xdr_polling=h,n.default.sockjs=c,e.__esModule=!0,e.default=n.default},function(t,e,r){"use strict";var n=r(21),o=r(22),i=r(9),a=r(2),s=new o.default({urls:n.ws,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(a.default.getWebSocketAPI())},isSupported:function(){return Boolean(a.default.getWebSocketAPI())},getSocket:function(t){return a.default.createWebSocket(t)}}),u={urls:n.http,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}};e.streamingConfiguration=i.extend({getSocket:function(t){return a.default.HTTPFactory.createStreamingSocket(t)}},u),e.pollingConfiguration=i.extend({getSocket:function(t){return a.default.HTTPFactory.createPollingSocket(t)}},u);var c={isSupported:function(){return a.default.isXHRSupported()}},l={ws:s,xhr_streaming:new o.default(i.extend({},e.streamingConfiguration,c)),xhr_polling:new o.default(i.extend({},e.pollingConfiguration,c))};e.__esModule=!0,e.default=l},function(t,e,r){"use strict";var n=r(5);function o(t,e,r){return t+(e.useTLS?"s":"")+"://"+(e.useTLS?e.hostTLS:e.hostNonTLS)+r}function i(t,e){return"/app/"+t+"?protocol="+n.default.PROTOCOL+"&client=js&version="+n.default.VERSION+(e?"&"+e:"")}e.ws={getInitial:function(t,e){return o("ws",e,(e.httpPath||"")+i(t,"flash=false"))}},e.http={getInitial:function(t,e){return o("http",e,(e.httpPath||"/pusher")+i(t))}},e.sockjs={getInitial:function(t,e){return o("http",e,e.httpPath||"/pusher")},getPath:function(t,e){return i(t)}}},function(t,e,r){"use strict";var n=r(23),o=function(){function t(t){this.hooks=t}return t.prototype.isSupported=function(t){return this.hooks.isSupported(t)},t.prototype.createConnection=function(t,e,r,o){return new n.default(this.hooks,t,e,r,o)},t}();e.__esModule=!0,e.default=o},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=r(11),i=r(9),a=r(24),s=r(8),u=r(2),c=function(t){function e(e,r,n,o,i){t.call(this),this.initialize=u.default.transportConnectionInitializer,this.hooks=e,this.name=r,this.priority=n,this.key=o,this.options=i,this.state="new",this.timeline=i.timeline,this.activityTimeout=i.activityTimeout,this.id=this.timeline.generateUniqueID()}return n(e,t),e.prototype.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},e.prototype.supportsPing=function(){return Boolean(this.hooks.supportsPing)},e.prototype.connect=function(){var t=this;if(this.socket||"initialized"!==this.state)return!1;var e=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(e,this.options)}catch(e){return o.default.defer(function(){t.onError(e),t.changeState("closed")}),!1}return this.bindListeners(),s.default.debug("Connecting",{transport:this.name,url:e}),this.changeState("connecting"),!0},e.prototype.close=function(){return!!this.socket&&(this.socket.close(),!0)},e.prototype.send=function(t){var e=this;return"open"===this.state&&(o.default.defer(function(){e.socket&&e.socket.send(t)}),!0)},e.prototype.ping=function(){"open"===this.state&&this.supportsPing()&&this.socket.ping()},e.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},e.prototype.onError=function(t){this.emit("error",{type:"WebSocketError",error:t}),this.timeline.error(this.buildTimelineMessage({error:t.toString()}))},e.prototype.onClose=function(t){t?this.changeState("closed",{code:t.code,reason:t.reason,wasClean:t.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},e.prototype.onMessage=function(t){this.emit("message",t)},e.prototype.onActivity=function(){this.emit("activity")},e.prototype.bindListeners=function(){var t=this;this.socket.onopen=function(){t.onOpen()},this.socket.onerror=function(e){t.onError(e)},this.socket.onclose=function(e){t.onClose(e)},this.socket.onmessage=function(e){t.onMessage(e)},this.supportsPing()&&(this.socket.onactivity=function(){t.onActivity()})},e.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},e.prototype.changeState=function(t,e){this.state=t,this.timeline.info(this.buildTimelineMessage({state:t,params:e})),this.emit(t,e)},e.prototype.buildTimelineMessage=function(t){return i.extend({cid:this.id},t)},e}(a.default);e.__esModule=!0,e.default=c},function(t,e,r){"use strict";var n=r(9),o=r(25),i=function(){function t(t){this.callbacks=new o.default,this.global_callbacks=[],this.failThrough=t}return t.prototype.bind=function(t,e,r){return this.callbacks.add(t,e,r),this},t.prototype.bind_global=function(t){return this.global_callbacks.push(t),this},t.prototype.unbind=function(t,e,r){return this.callbacks.remove(t,e,r),this},t.prototype.unbind_global=function(t){return t?(this.global_callbacks=n.filter(this.global_callbacks||[],function(e){return e!==t}),this):(this.global_callbacks=[],this)},t.prototype.unbind_all=function(){return this.unbind(),this.unbind_global(),this},t.prototype.emit=function(t,e,r){for(var n=0;n<this.global_callbacks.length;n++)this.global_callbacks[n](t,e);var o=this.callbacks.get(t),i=[];if(r?i.push(e,r):e&&i.push(e),o&&o.length>0)for(n=0;n<o.length;n++)o[n].fn.apply(o[n].context||window,i);else this.failThrough&&this.failThrough(t,e);return this},t}();e.__esModule=!0,e.default=i},function(t,e,r){"use strict";var n=r(9),o=function(){function t(){this._callbacks={}}return t.prototype.get=function(t){return this._callbacks[i(t)]},t.prototype.add=function(t,e,r){var n=i(t);this._callbacks[n]=this._callbacks[n]||[],this._callbacks[n].push({fn:e,context:r})},t.prototype.remove=function(t,e,r){if(t||e||r){var o=t?[i(t)]:n.keys(this._callbacks);e||r?this.removeCallback(o,e,r):this.removeAllCallbacks(o)}else this._callbacks={}},t.prototype.removeCallback=function(t,e,r){n.apply(t,function(t){this._callbacks[t]=n.filter(this._callbacks[t]||[],function(t){return e&&e!==t.fn||r&&r!==t.context}),0===this._callbacks[t].length&&delete this._callbacks[t]},this)},t.prototype.removeAllCallbacks=function(t){n.apply(t,function(t){delete this._callbacks[t]},this)},t}();function i(t){return"_"+t}e.__esModule=!0,e.default=o},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=function(t){function e(){t.call(this);var e=this;void 0!==window.addEventListener&&(window.addEventListener("online",function(){e.emit("online")},!1),window.addEventListener("offline",function(){e.emit("offline")},!1))}return n(e,t),e.prototype.isOnline=function(){return void 0===window.navigator.onLine||window.navigator.onLine},e}(r(24).default);e.NetInfo=o,e.Network=new o},function(t,e){"use strict";e.__esModule=!0,e.default=function(t){var e;return e=t.useTLS?[":best_connected_ever",":ws_loop",[":delayed",2e3,[":http_fallback_loop"]]]:[":best_connected_ever",":ws_loop",[":delayed",2e3,[":wss_loop"]],[":delayed",5e3,[":http_fallback_loop"]]],[[":def","ws_options",{hostNonTLS:t.wsHost+":"+t.wsPort,hostTLS:t.wsHost+":"+t.wssPort,httpPath:t.wsPath}],[":def","wss_options",[":extend",":ws_options",{useTLS:!0}]],[":def","sockjs_options",{hostNonTLS:t.httpHost+":"+t.httpPort,hostTLS:t.httpHost+":"+t.httpsPort,httpPath:t.httpPath}],[":def","timeouts",{loop:!0,timeout:15e3,timeoutLimit:6e4}],[":def","ws_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:t.activity_timeout}]],[":def","streaming_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:t.activity_timeout}]],[":def_transport","ws","ws",3,":ws_options",":ws_manager"],[":def_transport","wss","ws",3,":wss_options",":ws_manager"],[":def_transport","sockjs","sockjs",1,":sockjs_options"],[":def_transport","xhr_streaming","xhr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xdr_streaming","xdr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xhr_polling","xhr_polling",1,":sockjs_options"],[":def_transport","xdr_polling","xdr_polling",1,":sockjs_options"],[":def","ws_loop",[":sequential",":timeouts",":ws"]],[":def","wss_loop",[":sequential",":timeouts",":wss"]],[":def","sockjs_loop",[":sequential",":timeouts",":sockjs"]],[":def","streaming_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_streaming"],":xhr_streaming",":xdr_streaming"]]],[":def","polling_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_polling"],":xhr_polling",":xdr_polling"]]],[":def","http_loop",[":if",[":is_supported",":streaming_loop"],[":best_connected_ever",":streaming_loop",[":delayed",4e3,[":polling_loop"]]],[":polling_loop"]]],[":def","http_fallback_loop",[":if",[":is_supported",":http_loop"],[":http_loop"],[":sockjs_loop"]]],[":def","strategy",[":cached",18e5,[":first_connected",[":if",[":is_supported",":ws"],e,":http_fallback_loop"]]]]]}},function(t,e,r){"use strict";var n=r(3);e.__esModule=!0,e.default=function(){var t=this;t.timeline.info(t.buildTimelineMessage({transport:t.name+(t.options.useTLS?"s":"")})),t.hooks.isInitialized()?t.changeState("initialized"):t.hooks.file?(t.changeState("initializing"),n.Dependencies.load(t.hooks.file,{useTLS:t.options.useTLS},function(e,r){t.hooks.isInitialized()?(t.changeState("initialized"),r(!0)):(e&&t.onError(e),t.onClose(),r(!1))})):t.onClose()}},function(t,e,r){"use strict";var n=r(30),o=r(32);o.default.createXDR=function(t,e){return this.createRequest(n.default,t,e)},e.__esModule=!0,e.default=o.default},function(t,e,r){"use strict";var n=r(31),o={getRequest:function(t){var e=new window.XDomainRequest;return e.ontimeout=function(){t.emit("error",new n.RequestTimedOut),t.close()},e.onerror=function(e){t.emit("error",e),t.close()},e.onprogress=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText)},e.onload=function(){e.responseText&&e.responseText.length>0&&t.onChunk(200,e.responseText),t.emit("finished",200),t.close()},e},abortRequest:function(t){t.ontimeout=t.onerror=t.onprogress=t.onload=null,t.abort()}};e.__esModule=!0,e.default=o},function(t,e){"use strict";var r=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},n=function(t){function e(){t.apply(this,arguments)}return r(e,t),e}(Error);e.BadEventName=n;var o=function(t){function e(){t.apply(this,arguments)}return r(e,t),e}(Error);e.RequestTimedOut=o;var i=function(t){function e(){t.apply(this,arguments)}return r(e,t),e}(Error);e.TransportPriorityTooLow=i;var a=function(t){function e(){t.apply(this,arguments)}return r(e,t),e}(Error);e.TransportClosed=a;var s=function(t){function e(){t.apply(this,arguments)}return r(e,t),e}(Error);e.UnsupportedFeature=s;var u=function(t){function e(){t.apply(this,arguments)}return r(e,t),e}(Error);e.UnsupportedTransport=u;var c=function(t){function e(){t.apply(this,arguments)}return r(e,t),e}(Error);e.UnsupportedStrategy=c},function(t,e,r){"use strict";var n=r(33),o=r(34),i=r(36),a=r(37),s=r(38),u={createStreamingSocket:function(t){return this.createSocket(i.default,t)},createPollingSocket:function(t){return this.createSocket(a.default,t)},createSocket:function(t,e){return new o.default(t,e)},createXHR:function(t,e){return this.createRequest(s.default,t,e)},createRequest:function(t,e,r){return new n.default(t,e,r)}};e.__esModule=!0,e.default=u},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=r(2),i=r(24),a=function(t){function e(e,r,n){t.call(this),this.hooks=e,this.method=r,this.url=n}return n(e,t),e.prototype.start=function(t){var e=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){e.close()},o.default.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(t)},e.prototype.close=function(){this.unloader&&(o.default.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},e.prototype.onChunk=function(t,e){for(;;){var r=this.advanceBuffer(e);if(!r)break;this.emit("chunk",{status:t,data:r})}this.isBufferTooLong(e)&&this.emit("buffer_too_long")},e.prototype.advanceBuffer=function(t){var e=t.slice(this.position),r=e.indexOf("\n");return-1!==r?(this.position+=r+1,e.slice(0,r)):null},e.prototype.isBufferTooLong=function(t){return this.position===t.length&&t.length>262144},e}(i.default);e.__esModule=!0,e.default=a},function(t,e,r){"use strict";var n=r(35),o=r(11),i=r(2),a=1,s=function(){function t(t,e){this.hooks=t,this.session=c(1e3)+"/"+function(t){for(var e=[],r=0;r<8;r++)e.push(c(32).toString(32));return e.join("")}(),this.location=function(t){var e=/([^\?]*)\/*(\??.*)/.exec(t);return{base:e[1],queryString:e[2]}}(e),this.readyState=n.default.CONNECTING,this.openStream()}return t.prototype.send=function(t){return this.sendRaw(JSON.stringify([t]))},t.prototype.ping=function(){this.hooks.sendHeartbeat(this)},t.prototype.close=function(t,e){this.onClose(t,e,!0)},t.prototype.sendRaw=function(t){if(this.readyState!==n.default.OPEN)return!1;try{return i.default.createSocketRequest("POST",u((e=this.location,r=this.session,e.base+"/"+r+"/xhr_send"))).start(t),!0}catch(t){return!1}var e,r},t.prototype.reconnect=function(){this.closeStream(),this.openStream()},t.prototype.onClose=function(t,e,r){this.closeStream(),this.readyState=n.default.CLOSED,this.onclose&&this.onclose({code:t,reason:e,wasClean:r})},t.prototype.onChunk=function(t){var e;if(200===t.status)switch(this.readyState===n.default.OPEN&&this.onActivity(),t.data.slice(0,1)){case"o":e=JSON.parse(t.data.slice(1)||"{}"),this.onOpen(e);break;case"a":e=JSON.parse(t.data.slice(1)||"[]");for(var r=0;r<e.length;r++)this.onEvent(e[r]);break;case"m":e=JSON.parse(t.data.slice(1)||"null"),this.onEvent(e);break;case"h":this.hooks.onHeartbeat(this);break;case"c":e=JSON.parse(t.data.slice(1)||"[]"),this.onClose(e[0],e[1],!0)}},t.prototype.onOpen=function(t){var e,r,o;this.readyState===n.default.CONNECTING?(t&&t.hostname&&(this.location.base=(e=this.location.base,r=t.hostname,(o=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(e))[1]+r+o[3])),this.readyState=n.default.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},t.prototype.onEvent=function(t){this.readyState===n.default.OPEN&&this.onmessage&&this.onmessage({data:t})},t.prototype.onActivity=function(){this.onactivity&&this.onactivity()},t.prototype.onError=function(t){this.onerror&&this.onerror(t)},t.prototype.openStream=function(){var t=this;this.stream=i.default.createSocketRequest("POST",u(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",function(e){t.onChunk(e)}),this.stream.bind("finished",function(e){t.hooks.onFinished(t,e)}),this.stream.bind("buffer_too_long",function(){t.reconnect()});try{this.stream.start()}catch(e){o.default.defer(function(){t.onError(e),t.onClose(1006,"Could not start streaming",!1)})}},t.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},t}();function u(t){var e=-1===t.indexOf("?")?"?":"&";return t+e+"t="+ +new Date+"&n="+a++}function c(t){return Math.floor(Math.random()*t)}e.__esModule=!0,e.default=s},function(t,e){"use strict";var r;!function(t){t[t.CONNECTING=0]="CONNECTING",t[t.OPEN=1]="OPEN",t[t.CLOSED=3]="CLOSED"}(r||(r={})),e.__esModule=!0,e.default=r},function(t,e){"use strict";e.__esModule=!0,e.default={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr_streaming"+t.queryString},onHeartbeat:function(t){t.sendRaw("[]")},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){t.onClose(1006,"Connection interrupted ("+e+")",!1)}}},function(t,e){"use strict";e.__esModule=!0,e.default={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr"+t.queryString},onHeartbeat:function(){},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){200===e?t.reconnect():t.onClose(1006,"Connection interrupted ("+e+")",!1)}}},function(t,e,r){"use strict";var n=r(2),o={getRequest:function(t){var e=new(n.default.getXHRAPI());return e.onreadystatechange=e.onprogress=function(){switch(e.readyState){case 3:e.responseText&&e.responseText.length>0&&t.onChunk(e.status,e.responseText);break;case 4:e.responseText&&e.responseText.length>0&&t.onChunk(e.status,e.responseText),t.emit("finished",e.status),t.close()}},e},abortRequest:function(t){t.onreadystatechange=null,t.abort()}};e.__esModule=!0,e.default=o},function(t,e,r){"use strict";var n=r(9),o=r(11),i=r(40),a=function(){function t(t,e,r){this.key=t,this.session=e,this.events=[],this.options=r||{},this.sent=0,this.uniqueID=0}return t.prototype.log=function(t,e){t<=this.options.level&&(this.events.push(n.extend({},e,{timestamp:o.default.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},t.prototype.error=function(t){this.log(i.default.ERROR,t)},t.prototype.info=function(t){this.log(i.default.INFO,t)},t.prototype.debug=function(t){this.log(i.default.DEBUG,t)},t.prototype.isEmpty=function(){return 0===this.events.length},t.prototype.send=function(t,e){var r=this,o=n.extend({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],t(o,function(t,n){t||r.sent++,e&&e(t,n)}),!0},t.prototype.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},t}();e.__esModule=!0,e.default=a},function(t,e){"use strict";var r;!function(t){t[t.ERROR=3]="ERROR",t[t.INFO=6]="INFO",t[t.DEBUG=7]="DEBUG"}(r||(r={})),e.__esModule=!0,e.default=r},function(t,e,r){"use strict";var n=r(9),o=r(11),i=r(42),a=r(31),s=r(64),u=r(65),c=r(66),l=r(67),f=r(68),h=r(69),p=r(70),d=r(2).default.Transports;e.build=function(t,e){return w(t,n.extend({},m,e))[1].strategy};var v={isSupported:function(){return!1},connect:function(t,e){var r=o.default.defer(function(){e(new a.UnsupportedStrategy)});return{abort:function(){r.ensureAborted()},forceMinPriority:function(){}}}};function y(t){return function(e){return[t.apply(this,arguments),e]}}var m={extend:function(t,e,r){return[n.extend({},e,r),t]},def:function(t,e,r){if(void 0!==t[e])throw"Redefining symbol "+e;return t[e]=r,[void 0,t]},def_transport:function(t,e,r,o,i,u){var c,l=d[r];if(!l)throw new a.UnsupportedTransport(r);c=t.enabledTransports&&-1===n.arrayIndexOf(t.enabledTransports,e)||t.disabledTransports&&-1!==n.arrayIndexOf(t.disabledTransports,e)?v:new s.default(e,o,u?u.getAssistant(l):l,n.extend({key:t.key,useTLS:t.useTLS,timeline:t.timeline,ignoreNullOrigin:t.ignoreNullOrigin},i));var f=t.def(t,e,c)[1];return f.Transports=t.Transports||{},f.Transports[e]=c,[void 0,f]},transport_manager:y(function(t,e){return new i.default(e)}),sequential:y(function(t,e){var r=Array.prototype.slice.call(arguments,2);return new u.default(r,e)}),cached:y(function(t,e,r){return new l.default(r,t.Transports,{ttl:e,timeline:t.timeline,useTLS:t.useTLS})}),first_connected:y(function(t,e){return new p.default(e)}),best_connected_ever:y(function(){var t=Array.prototype.slice.call(arguments,1);return new c.default(t)}),delayed:y(function(t,e,r){return new f.default(r,{delay:e})}),if:y(function(t,e,r,n){return new h.default(e,r,n)}),is_supported:y(function(t,e){return function(){return e.isSupported()}})};function g(t){return"string"==typeof t&&":"===t.charAt(0)}function b(t,e){return e[t.slice(1)]}function w(t,e){return"string"==typeof t?function(t,e){if(!g(t))return[t,e];var r=b(t,e);if(void 0===r)throw"Undefined symbol "+t;return[r,e]}(t,e):"object"==typeof t&&t instanceof Array&&t.length>0?function(t,e){if(g(t[0])){var r=b(t[0],e);if(t.length>1){if("function"!=typeof r)throw"Calling non-function "+t[0];var o=[n.extend({},e)].concat(n.map(t.slice(1),function(t){return w(t,n.extend({},e))[0]}));return r.apply(this,o)}return[r,e]}return function t(e,r){if(0===e.length)return[[],r];var n=w(e[0],r),o=t(e.slice(1),n[1]);return[[n[0]].concat(o[0]),o[1]]}(t,e)}(t,e):[t,e]}},function(t,e,r){"use strict";var n=r(43),o=function(){function t(t){this.options=t||{},this.livesLeft=this.options.lives||1/0}return t.prototype.getAssistant=function(t){return n.default.createAssistantToTheTransportManager(this,t,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},t.prototype.isAlive=function(){return this.livesLeft>0},t.prototype.reportDeath=function(){this.livesLeft-=1},t}();e.__esModule=!0,e.default=o},function(t,e,r){"use strict";var n=r(44),o=r(45),i=r(48),a=r(49),s=r(50),u=r(51),c=r(54),l=r(52),f=r(62),h=r(63),p={createChannels:function(){return new h.default},createConnectionManager:function(t,e){return new f.default(t,e)},createChannel:function(t,e){return new l.default(t,e)},createPrivateChannel:function(t,e){return new u.default(t,e)},createPresenceChannel:function(t,e){return new s.default(t,e)},createEncryptedChannel:function(t,e){return new c.default(t,e)},createTimelineSender:function(t,e){return new a.default(t,e)},createAuthorizer:function(t,e){return e.authorizer?e.authorizer(t,e):new i.default(t,e)},createHandshake:function(t,e){return new o.default(t,e)},createAssistantToTheTransportManager:function(t,e,r){return new n.default(t,e,r)}};e.__esModule=!0,e.default=p},function(t,e,r){"use strict";var n=r(11),o=r(9),i=function(){function t(t,e,r){this.manager=t,this.transport=e,this.minPingDelay=r.minPingDelay,this.maxPingDelay=r.maxPingDelay,this.pingDelay=void 0}return t.prototype.createConnection=function(t,e,r,i){var a=this;i=o.extend({},i,{activityTimeout:this.pingDelay});var s=this.transport.createConnection(t,e,r,i),u=null,c=function(){s.unbind("open",c),s.bind("closed",l),u=n.default.now()},l=function(t){if(s.unbind("closed",l),1002===t.code||1003===t.code)a.manager.reportDeath();else if(!t.wasClean&&u){var e=n.default.now()-u;e<2*a.maxPingDelay&&(a.manager.reportDeath(),a.pingDelay=Math.max(e/2,a.minPingDelay))}};return s.bind("open",c),s},t.prototype.isSupported=function(t){return this.manager.isAlive()&&this.transport.isSupported(t)},t}();e.__esModule=!0,e.default=i},function(t,e,r){"use strict";var n=r(9),o=r(46),i=r(47),a=function(){function t(t,e){this.transport=t,this.callback=e,this.bindListeners()}return t.prototype.close=function(){this.unbindListeners(),this.transport.close()},t.prototype.bindListeners=function(){var t=this;this.onMessage=function(e){var r;t.unbindListeners();try{r=o.processHandshake(e)}catch(e){return t.finish("error",{error:e}),void t.transport.close()}"connected"===r.action?t.finish("connected",{connection:new i.default(r.id,t.transport),activityTimeout:r.activityTimeout}):(t.finish(r.action,{error:r.error}),t.transport.close())},this.onClosed=function(e){t.unbindListeners();var r=o.getCloseAction(e)||"backoff",n=o.getCloseError(e);t.finish(r,{error:n})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},t.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},t.prototype.finish=function(t,e){this.callback(n.extend({transport:this.transport,action:t},e))},t}();e.__esModule=!0,e.default=a},function(t,e){"use strict";e.decodeMessage=function(t){try{var e=JSON.parse(t.data),r=e.data;if("string"==typeof r)try{r=JSON.parse(e.data)}catch(t){}var n={event:e.event,channel:e.channel,data:r};return e.user_id&&(n.user_id=e.user_id),n}catch(e){throw{type:"MessageParseError",error:e,data:t.data}}},e.encodeMessage=function(t){return JSON.stringify(t)},e.processHandshake=function(t){var r=e.decodeMessage(t);if("pusher:connection_established"===r.event){if(!r.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:r.data.socket_id,activityTimeout:1e3*r.data.activity_timeout}}if("pusher:error"===r.event)return{action:this.getCloseAction(r.data),error:this.getCloseError(r.data)};throw"Invalid handshake"},e.getCloseAction=function(t){return t.code<4e3?t.code>=1002&&t.code<=1004?"backoff":null:4e3===t.code?"tls_only":t.code<4100?"refused":t.code<4200?"backoff":t.code<4300?"retry":"refused"},e.getCloseError=function(t){return 1e3!==t.code&&1001!==t.code?{type:"PusherError",data:{code:t.code,message:t.reason||t.message}}:null}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=r(9),i=r(24),a=r(46),s=r(8),u=function(t){function e(e,r){t.call(this),this.id=e,this.transport=r,this.activityTimeout=r.activityTimeout,this.bindListeners()}return n(e,t),e.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},e.prototype.send=function(t){return this.transport.send(t)},e.prototype.send_event=function(t,e,r){var n={event:t,data:e};return r&&(n.channel=r),s.default.debug("Event sent",n),this.send(a.encodeMessage(n))},e.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},e.prototype.close=function(){this.transport.close()},e.prototype.bindListeners=function(){var t=this,e={message:function(e){var r;try{r=a.decodeMessage(e)}catch(r){t.emit("error",{type:"MessageParseError",error:r,data:e.data})}if(void 0!==r){switch(s.default.debug("Event recd",r),r.event){case"pusher:error":t.emit("error",{type:"PusherError",data:r.data});break;case"pusher:ping":t.emit("ping");break;case"pusher:pong":t.emit("pong")}t.emit("message",r)}},activity:function(){t.emit("activity")},error:function(e){t.emit("error",{type:"WebSocketError",error:e})},closed:function(e){r(),e&&e.code&&t.handleCloseEvent(e),t.transport=null,t.emit("closed")}},r=function(){o.objectApply(e,function(e,r){t.transport.unbind(r,e)})};o.objectApply(e,function(e,r){t.transport.bind(r,e)})},e.prototype.handleCloseEvent=function(t){var e=a.getCloseAction(t),r=a.getCloseError(t);r&&this.emit("error",r),e&&this.emit(e,{action:e,error:r})},e}(i.default);e.__esModule=!0,e.default=u},function(t,e,r){"use strict";var n=r(2),o=function(){function t(t,e){this.channel=t;var r=e.authTransport;if(void 0===n.default.getAuthorizers()[r])throw"'"+r+"' is not a recognized auth transport";this.type=r,this.options=e,this.authOptions=(e||{}).auth||{}}return t.prototype.composeQuery=function(t){var e="socket_id="+encodeURIComponent(t)+"&channel_name="+encodeURIComponent(this.channel.name);for(var r in this.authOptions.params)e+="&"+encodeURIComponent(r)+"="+encodeURIComponent(this.authOptions.params[r]);return e},t.prototype.authorize=function(e,r){return t.authorizers=t.authorizers||n.default.getAuthorizers(),t.authorizers[this.type].call(this,n.default,e,r)},t}();e.__esModule=!0,e.default=o},function(t,e,r){"use strict";var n=r(2),o=function(){function t(t,e){this.timeline=t,this.options=e||{}}return t.prototype.send=function(t,e){this.timeline.isEmpty()||this.timeline.send(n.default.TimelineTransport.getAgent(this,t),e)},t}();e.__esModule=!0,e.default=o},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=r(51),i=r(8),a=r(53),s=r(14),u=function(t){function e(e,r){t.call(this,e,r),this.members=new a.default}return n(e,t),e.prototype.authorize=function(e,r){var n=this;t.prototype.authorize.call(this,e,function(t,e){if(!t){if(void 0===e.channel_data){var o=s.default.buildLogSuffix("authenticationEndpoint");return i.default.warn("Invalid auth response for channel '"+n.name+"',expected 'channel_data' field. "+o),void r("Invalid auth response")}var a=JSON.parse(e.channel_data);n.members.setMyID(a.user_id)}r(t,e)})},e.prototype.handleEvent=function(t){var e=t.event;if(0===e.indexOf("pusher_internal:"))this.handleInternalEvent(t);else{var r=t.data,n={};t.user_id&&(n.user_id=t.user_id),this.emit(e,r,n)}},e.prototype.handleInternalEvent=function(t){var e=t.event,r=t.data;switch(e){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(t);break;case"pusher_internal:member_added":var n=this.members.addMember(r);this.emit("pusher:member_added",n);break;case"pusher_internal:member_removed":var o=this.members.removeMember(r);o&&this.emit("pusher:member_removed",o)}},e.prototype.handleSubscriptionSucceededEvent=function(t){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(t.data),this.emit("pusher:subscription_succeeded",this.members))},e.prototype.disconnect=function(){this.members.reset(),t.prototype.disconnect.call(this)},e}(o.default);e.__esModule=!0,e.default=u},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=r(43),i=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.authorize=function(t,e){return o.default.createAuthorizer(this,this.pusher.config).authorize(t,e)},e}(r(52).default);e.__esModule=!0,e.default=i},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=r(24),i=r(31),a=r(8),s=r(14),u=function(t){function e(e,r){t.call(this,function(t,r){a.default.debug("No callbacks on "+e+" for "+t)}),this.name=e,this.pusher=r,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}return n(e,t),e.prototype.authorize=function(t,e){return e(!1,{})},e.prototype.trigger=function(t,e){if(0!==t.indexOf("client-"))throw new i.BadEventName("Event '"+t+"' does not start with 'client-'");if(!this.subscribed){var r=s.default.buildLogSuffix("triggeringClientEvents");a.default.warn("Client event triggered before channel 'subscription_succeeded' event . "+r)}return this.pusher.send_event(t,e,this.name)},e.prototype.disconnect=function(){this.subscribed=!1,this.subscriptionPending=!1},e.prototype.handleEvent=function(t){var e=t.event,r=t.data;"pusher_internal:subscription_succeeded"===e?this.handleSubscriptionSucceededEvent(t):0!==e.indexOf("pusher_internal:")&&this.emit(e,r,{})},e.prototype.handleSubscriptionSucceededEvent=function(t){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",t.data)},e.prototype.subscribe=function(){var t=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,function(e,r){e?t.emit("pusher:subscription_error",r):t.pusher.send_event("pusher:subscribe",{auth:r.auth,channel_data:r.channel_data,channel:t.name})}))},e.prototype.unsubscribe=function(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},e.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},e.prototype.reinstateSubscription=function(){this.subscriptionCancelled=!1},e}(o.default);e.__esModule=!0,e.default=u},function(t,e,r){"use strict";var n=r(9),o=function(){function t(){this.reset()}return t.prototype.get=function(t){return Object.prototype.hasOwnProperty.call(this.members,t)?{id:t,info:this.members[t]}:null},t.prototype.each=function(t){var e=this;n.objectApply(this.members,function(r,n){t(e.get(n))})},t.prototype.setMyID=function(t){this.myID=t},t.prototype.onSubscription=function(t){this.members=t.presence.hash,this.count=t.presence.count,this.me=this.get(this.myID)},t.prototype.addMember=function(t){return null===this.get(t.user_id)&&this.count++,this.members[t.user_id]=t.user_info,this.get(t.user_id)},t.prototype.removeMember=function(t){var e=this.get(t.user_id);return e&&(delete this.members[t.user_id],this.count--),e},t.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},t}();e.__esModule=!0,e.default=o},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=r(51),i=r(31),a=r(8),s=r(55),u=r(57),c=function(t){function e(){t.apply(this,arguments),this.key=null}return n(e,t),e.prototype.authorize=function(e,r){var n=this;t.prototype.authorize.call(this,e,function(t,e){if(t)r(!0,e);else{var o=e.shared_secret;if(!o){var i="No shared_secret key in auth payload for encrypted channel: "+n.name;return r(!0,i),void a.default.warn("Error: "+i)}n.key=u.decodeBase64(o),delete e.shared_secret,r(!1,e)}})},e.prototype.trigger=function(t,e){throw new i.UnsupportedFeature("Client events are not currently supported for encrypted channels")},e.prototype.handleEvent=function(e){var r=e.event,n=e.data;0!==r.indexOf("pusher_internal:")&&0!==r.indexOf("pusher:")?this.handleEncryptedEvent(r,n):t.prototype.handleEvent.call(this,e)},e.prototype.handleEncryptedEvent=function(t,e){var r=this;if(this.key)if(e.ciphertext&&e.nonce){var n=u.decodeBase64(e.ciphertext);if(n.length<s.secretbox.overheadLength)a.default.warn("Expected encrypted event ciphertext length to be "+s.secretbox.overheadLength+", got: "+n.length);else{var o=u.decodeBase64(e.nonce);if(o.length<s.secretbox.nonceLength)a.default.warn("Expected encrypted event nonce length to be "+s.secretbox.nonceLength+", got: "+o.length);else{var i=s.secretbox.open(n,o,this.key);if(null===i)return a.default.debug("Failed to decrypted an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),void this.authorize(this.pusher.connection.socket_id,function(e,c){e?a.default.warn("Failed to make a request to the authEndpoint: "+c+". Unable to fetch new key, so dropping encrypted event"):null!==(i=s.secretbox.open(n,o,r.key))?r.emitJSON(t,u.encodeUTF8(i)):a.default.warn("Failed to decrypt event with new key. Dropping encrypted event")});this.emitJSON(t,u.encodeUTF8(i))}}}else a.default.warn("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+e);else a.default.debug("Received encrypted event before key has been retrieved from the authEndpoint")},e.prototype.emitJSON=function(t,e){try{this.emit(t,JSON.parse(e))}catch(r){this.emit(t,e)}return this},e}(o.default);e.__esModule=!0,e.default=c},function(t,e,r){!function(t){"use strict";var e=function(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;e++)r[e]=t[e];return r},n=function(){throw new Error("no PRNG")},o=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var a=e(),s=e([1]),u=e([56129,1]),c=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function d(t,e,r,n){t[e]=r>>24&255,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=255&r,t[e+4]=n>>24&255,t[e+5]=n>>16&255,t[e+6]=n>>8&255,t[e+7]=255&n}function v(t,e,r,n,o){var i,a=0;for(i=0;i<o;i++)a|=t[e+i]^r[n+i];return(1&a-1>>>8)-1}function y(t,e,r,n){return v(t,e,r,n,16)}function m(t,e,r,n){return v(t,e,r,n,32)}function g(t,e,r,n){!function(t,e,r,n){for(var o,i=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,h=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,p=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,d=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,v=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,m=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,g=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,b=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,x=i,_=a,k=s,S=u,O=c,E=l,P=f,A=h,C=p,T=d,R=v,M=y,j=m,I=g,D=b,N=w,L=0;L<20;L+=2)x^=(o=(j^=(o=(C^=(o=(O^=(o=x+j|0)<<7|o>>>25)+x|0)<<9|o>>>23)+O|0)<<13|o>>>19)+C|0)<<18|o>>>14,E^=(o=(_^=(o=(I^=(o=(T^=(o=E+_|0)<<7|o>>>25)+E|0)<<9|o>>>23)+T|0)<<13|o>>>19)+I|0)<<18|o>>>14,R^=(o=(P^=(o=(k^=(o=(D^=(o=R+P|0)<<7|o>>>25)+R|0)<<9|o>>>23)+D|0)<<13|o>>>19)+k|0)<<18|o>>>14,N^=(o=(M^=(o=(A^=(o=(S^=(o=N+M|0)<<7|o>>>25)+N|0)<<9|o>>>23)+S|0)<<13|o>>>19)+A|0)<<18|o>>>14,x^=(o=(S^=(o=(k^=(o=(_^=(o=x+S|0)<<7|o>>>25)+x|0)<<9|o>>>23)+_|0)<<13|o>>>19)+k|0)<<18|o>>>14,E^=(o=(O^=(o=(A^=(o=(P^=(o=E+O|0)<<7|o>>>25)+E|0)<<9|o>>>23)+P|0)<<13|o>>>19)+A|0)<<18|o>>>14,R^=(o=(T^=(o=(C^=(o=(M^=(o=R+T|0)<<7|o>>>25)+R|0)<<9|o>>>23)+M|0)<<13|o>>>19)+C|0)<<18|o>>>14,N^=(o=(D^=(o=(I^=(o=(j^=(o=N+D|0)<<7|o>>>25)+N|0)<<9|o>>>23)+j|0)<<13|o>>>19)+I|0)<<18|o>>>14;x=x+i|0,_=_+a|0,k=k+s|0,S=S+u|0,O=O+c|0,E=E+l|0,P=P+f|0,A=A+h|0,C=C+p|0,T=T+d|0,R=R+v|0,M=M+y|0,j=j+m|0,I=I+g|0,D=D+b|0,N=N+w|0,t[0]=x>>>0&255,t[1]=x>>>8&255,t[2]=x>>>16&255,t[3]=x>>>24&255,t[4]=_>>>0&255,t[5]=_>>>8&255,t[6]=_>>>16&255,t[7]=_>>>24&255,t[8]=k>>>0&255,t[9]=k>>>8&255,t[10]=k>>>16&255,t[11]=k>>>24&255,t[12]=S>>>0&255,t[13]=S>>>8&255,t[14]=S>>>16&255,t[15]=S>>>24&255,t[16]=O>>>0&255,t[17]=O>>>8&255,t[18]=O>>>16&255,t[19]=O>>>24&255,t[20]=E>>>0&255,t[21]=E>>>8&255,t[22]=E>>>16&255,t[23]=E>>>24&255,t[24]=P>>>0&255,t[25]=P>>>8&255,t[26]=P>>>16&255,t[27]=P>>>24&255,t[28]=A>>>0&255,t[29]=A>>>8&255,t[30]=A>>>16&255,t[31]=A>>>24&255,t[32]=C>>>0&255,t[33]=C>>>8&255,t[34]=C>>>16&255,t[35]=C>>>24&255,t[36]=T>>>0&255,t[37]=T>>>8&255,t[38]=T>>>16&255,t[39]=T>>>24&255,t[40]=R>>>0&255,t[41]=R>>>8&255,t[42]=R>>>16&255,t[43]=R>>>24&255,t[44]=M>>>0&255,t[45]=M>>>8&255,t[46]=M>>>16&255,t[47]=M>>>24&255,t[48]=j>>>0&255,t[49]=j>>>8&255,t[50]=j>>>16&255,t[51]=j>>>24&255,t[52]=I>>>0&255,t[53]=I>>>8&255,t[54]=I>>>16&255,t[55]=I>>>24&255,t[56]=D>>>0&255,t[57]=D>>>8&255,t[58]=D>>>16&255,t[59]=D>>>24&255,t[60]=N>>>0&255,t[61]=N>>>8&255,t[62]=N>>>16&255,t[63]=N>>>24&255}(t,e,r,n)}function b(t,e,r,n){!function(t,e,r,n){for(var o,i=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,h=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,p=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,d=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,v=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,m=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,g=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,b=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,x=0;x<20;x+=2)i^=(o=(m^=(o=(p^=(o=(c^=(o=i+m|0)<<7|o>>>25)+i|0)<<9|o>>>23)+c|0)<<13|o>>>19)+p|0)<<18|o>>>14,l^=(o=(a^=(o=(g^=(o=(d^=(o=l+a|0)<<7|o>>>25)+l|0)<<9|o>>>23)+d|0)<<13|o>>>19)+g|0)<<18|o>>>14,v^=(o=(f^=(o=(s^=(o=(b^=(o=v+f|0)<<7|o>>>25)+v|0)<<9|o>>>23)+b|0)<<13|o>>>19)+s|0)<<18|o>>>14,w^=(o=(y^=(o=(h^=(o=(u^=(o=w+y|0)<<7|o>>>25)+w|0)<<9|o>>>23)+u|0)<<13|o>>>19)+h|0)<<18|o>>>14,i^=(o=(u^=(o=(s^=(o=(a^=(o=i+u|0)<<7|o>>>25)+i|0)<<9|o>>>23)+a|0)<<13|o>>>19)+s|0)<<18|o>>>14,l^=(o=(c^=(o=(h^=(o=(f^=(o=l+c|0)<<7|o>>>25)+l|0)<<9|o>>>23)+f|0)<<13|o>>>19)+h|0)<<18|o>>>14,v^=(o=(d^=(o=(p^=(o=(y^=(o=v+d|0)<<7|o>>>25)+v|0)<<9|o>>>23)+y|0)<<13|o>>>19)+p|0)<<18|o>>>14,w^=(o=(b^=(o=(g^=(o=(m^=(o=w+b|0)<<7|o>>>25)+w|0)<<9|o>>>23)+m|0)<<13|o>>>19)+g|0)<<18|o>>>14;t[0]=i>>>0&255,t[1]=i>>>8&255,t[2]=i>>>16&255,t[3]=i>>>24&255,t[4]=l>>>0&255,t[5]=l>>>8&255,t[6]=l>>>16&255,t[7]=l>>>24&255,t[8]=v>>>0&255,t[9]=v>>>8&255,t[10]=v>>>16&255,t[11]=v>>>24&255,t[12]=w>>>0&255,t[13]=w>>>8&255,t[14]=w>>>16&255,t[15]=w>>>24&255,t[16]=f>>>0&255,t[17]=f>>>8&255,t[18]=f>>>16&255,t[19]=f>>>24&255,t[20]=h>>>0&255,t[21]=h>>>8&255,t[22]=h>>>16&255,t[23]=h>>>24&255,t[24]=p>>>0&255,t[25]=p>>>8&255,t[26]=p>>>16&255,t[27]=p>>>24&255,t[28]=d>>>0&255,t[29]=d>>>8&255,t[30]=d>>>16&255,t[31]=d>>>24&255}(t,e,r,n)}var w=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function x(t,e,r,n,o,i,a){var s,u,c=new Uint8Array(16),l=new Uint8Array(64);for(u=0;u<16;u++)c[u]=0;for(u=0;u<8;u++)c[u]=i[u];for(;o>=64;){for(g(l,c,a,w),u=0;u<64;u++)t[e+u]=r[n+u]^l[u];for(s=1,u=8;u<16;u++)s=s+(255&c[u])|0,c[u]=255&s,s>>>=8;o-=64,e+=64,n+=64}if(o>0)for(g(l,c,a,w),u=0;u<o;u++)t[e+u]=r[n+u]^l[u];return 0}function _(t,e,r,n,o){var i,a,s=new Uint8Array(16),u=new Uint8Array(64);for(a=0;a<16;a++)s[a]=0;for(a=0;a<8;a++)s[a]=n[a];for(;r>=64;){for(g(u,s,o,w),a=0;a<64;a++)t[e+a]=u[a];for(i=1,a=8;a<16;a++)i=i+(255&s[a])|0,s[a]=255&i,i>>>=8;r-=64,e+=64}if(r>0)for(g(u,s,o,w),a=0;a<r;a++)t[e+a]=u[a];return 0}function k(t,e,r,n,o){var i=new Uint8Array(32);b(i,n,o,w);for(var a=new Uint8Array(8),s=0;s<8;s++)a[s]=n[s+16];return _(t,e,r,a,i)}function S(t,e,r,n,o,i,a){var s=new Uint8Array(32);b(s,i,a,w);for(var u=new Uint8Array(8),c=0;c<8;c++)u[c]=i[c+16];return x(t,e,r,n,o,u,s)}var O=function(t){var e,r,n,o,i,a,s,u;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,e=255&t[0]|(255&t[1])<<8,this.r[0]=8191&e,r=255&t[2]|(255&t[3])<<8,this.r[1]=8191&(e>>>13|r<<3),n=255&t[4]|(255&t[5])<<8,this.r[2]=7939&(r>>>10|n<<6),o=255&t[6]|(255&t[7])<<8,this.r[3]=8191&(n>>>7|o<<9),i=255&t[8]|(255&t[9])<<8,this.r[4]=255&(o>>>4|i<<12),this.r[5]=i>>>1&8190,a=255&t[10]|(255&t[11])<<8,this.r[6]=8191&(i>>>14|a<<2),s=255&t[12]|(255&t[13])<<8,this.r[7]=8065&(a>>>11|s<<5),u=255&t[14]|(255&t[15])<<8,this.r[8]=8191&(s>>>8|u<<8),this.r[9]=u>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};function E(t,e,r,n,o,i){var a=new O(i);return a.update(r,n,o),a.finish(t,e),0}function P(t,e,r,n,o,i){var a=new Uint8Array(16);return E(a,0,r,n,o,i),y(t,e,a,0)}function A(t,e,r,n,o){var i;if(r<32)return-1;for(S(t,0,e,0,r,n,o),E(t,16,t,32,r-32,t),i=0;i<16;i++)t[i]=0;return 0}function C(t,e,r,n,o){var i,a=new Uint8Array(32);if(r<32)return-1;if(k(a,0,32,n,o),0!==P(e,16,e,32,r-32,a))return-1;for(S(t,0,e,0,r,n,o),i=0;i<32;i++)t[i]=0;return 0}function T(t,e){var r;for(r=0;r<16;r++)t[r]=0|e[r]}function R(t){var e,r,n=1;for(e=0;e<16;e++)r=t[e]+n+65535,n=Math.floor(r/65536),t[e]=r-65536*n;t[0]+=n-1+37*(n-1)}function M(t,e,r){for(var n,o=~(r-1),i=0;i<16;i++)n=o&(t[i]^e[i]),t[i]^=n,e[i]^=n}function j(t,r){var n,o,i,a=e(),s=e();for(n=0;n<16;n++)s[n]=r[n];for(R(s),R(s),R(s),o=0;o<2;o++){for(a[0]=s[0]-65517,n=1;n<15;n++)a[n]=s[n]-65535-(a[n-1]>>16&1),a[n-1]&=65535;a[15]=s[15]-32767-(a[14]>>16&1),i=a[15]>>16&1,a[14]&=65535,M(s,a,1-i)}for(n=0;n<16;n++)t[2*n]=255&s[n],t[2*n+1]=s[n]>>8}function I(t,e){var r=new Uint8Array(32),n=new Uint8Array(32);return j(r,t),j(n,e),m(r,0,n,0)}function D(t){var e=new Uint8Array(32);return j(e,t),1&e[0]}function N(t,e){var r;for(r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function L(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]+r[n]}function U(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]-r[n]}function F(t,e,r){var n,o,i=0,a=0,s=0,u=0,c=0,l=0,f=0,h=0,p=0,d=0,v=0,y=0,m=0,g=0,b=0,w=0,x=0,_=0,k=0,S=0,O=0,E=0,P=0,A=0,C=0,T=0,R=0,M=0,j=0,I=0,D=0,N=r[0],L=r[1],U=r[2],F=r[3],$=r[4],B=r[5],z=r[6],q=r[7],H=r[8],Y=r[9],J=r[10],V=r[11],W=r[12],K=r[13],G=r[14],X=r[15];i+=(n=e[0])*N,a+=n*L,s+=n*U,u+=n*F,c+=n*$,l+=n*B,f+=n*z,h+=n*q,p+=n*H,d+=n*Y,v+=n*J,y+=n*V,m+=n*W,g+=n*K,b+=n*G,w+=n*X,a+=(n=e[1])*N,s+=n*L,u+=n*U,c+=n*F,l+=n*$,f+=n*B,h+=n*z,p+=n*q,d+=n*H,v+=n*Y,y+=n*J,m+=n*V,g+=n*W,b+=n*K,w+=n*G,x+=n*X,s+=(n=e[2])*N,u+=n*L,c+=n*U,l+=n*F,f+=n*$,h+=n*B,p+=n*z,d+=n*q,v+=n*H,y+=n*Y,m+=n*J,g+=n*V,b+=n*W,w+=n*K,x+=n*G,_+=n*X,u+=(n=e[3])*N,c+=n*L,l+=n*U,f+=n*F,h+=n*$,p+=n*B,d+=n*z,v+=n*q,y+=n*H,m+=n*Y,g+=n*J,b+=n*V,w+=n*W,x+=n*K,_+=n*G,k+=n*X,c+=(n=e[4])*N,l+=n*L,f+=n*U,h+=n*F,p+=n*$,d+=n*B,v+=n*z,y+=n*q,m+=n*H,g+=n*Y,b+=n*J,w+=n*V,x+=n*W,_+=n*K,k+=n*G,S+=n*X,l+=(n=e[5])*N,f+=n*L,h+=n*U,p+=n*F,d+=n*$,v+=n*B,y+=n*z,m+=n*q,g+=n*H,b+=n*Y,w+=n*J,x+=n*V,_+=n*W,k+=n*K,S+=n*G,O+=n*X,f+=(n=e[6])*N,h+=n*L,p+=n*U,d+=n*F,v+=n*$,y+=n*B,m+=n*z,g+=n*q,b+=n*H,w+=n*Y,x+=n*J,_+=n*V,k+=n*W,S+=n*K,O+=n*G,E+=n*X,h+=(n=e[7])*N,p+=n*L,d+=n*U,v+=n*F,y+=n*$,m+=n*B,g+=n*z,b+=n*q,w+=n*H,x+=n*Y,_+=n*J,k+=n*V,S+=n*W,O+=n*K,E+=n*G,P+=n*X,p+=(n=e[8])*N,d+=n*L,v+=n*U,y+=n*F,m+=n*$,g+=n*B,b+=n*z,w+=n*q,x+=n*H,_+=n*Y,k+=n*J,S+=n*V,O+=n*W,E+=n*K,P+=n*G,A+=n*X,d+=(n=e[9])*N,v+=n*L,y+=n*U,m+=n*F,g+=n*$,b+=n*B,w+=n*z,x+=n*q,_+=n*H,k+=n*Y,S+=n*J,O+=n*V,E+=n*W,P+=n*K,A+=n*G,C+=n*X,v+=(n=e[10])*N,y+=n*L,m+=n*U,g+=n*F,b+=n*$,w+=n*B,x+=n*z,_+=n*q,k+=n*H,S+=n*Y,O+=n*J,E+=n*V,P+=n*W,A+=n*K,C+=n*G,T+=n*X,y+=(n=e[11])*N,m+=n*L,g+=n*U,b+=n*F,w+=n*$,x+=n*B,_+=n*z,k+=n*q,S+=n*H,O+=n*Y,E+=n*J,P+=n*V,A+=n*W,C+=n*K,T+=n*G,R+=n*X,m+=(n=e[12])*N,g+=n*L,b+=n*U,w+=n*F,x+=n*$,_+=n*B,k+=n*z,S+=n*q,O+=n*H,E+=n*Y,P+=n*J,A+=n*V,C+=n*W,T+=n*K,R+=n*G,M+=n*X,g+=(n=e[13])*N,b+=n*L,w+=n*U,x+=n*F,_+=n*$,k+=n*B,S+=n*z,O+=n*q,E+=n*H,P+=n*Y,A+=n*J,C+=n*V,T+=n*W,R+=n*K,M+=n*G,j+=n*X,b+=(n=e[14])*N,w+=n*L,x+=n*U,_+=n*F,k+=n*$,S+=n*B,O+=n*z,E+=n*q,P+=n*H,A+=n*Y,C+=n*J,T+=n*V,R+=n*W,M+=n*K,j+=n*G,I+=n*X,w+=(n=e[15])*N,a+=38*(_+=n*U),s+=38*(k+=n*F),u+=38*(S+=n*$),c+=38*(O+=n*B),l+=38*(E+=n*z),f+=38*(P+=n*q),h+=38*(A+=n*H),p+=38*(C+=n*Y),d+=38*(T+=n*J),v+=38*(R+=n*V),y+=38*(M+=n*W),m+=38*(j+=n*K),g+=38*(I+=n*G),b+=38*(D+=n*X),i=(n=(i+=38*(x+=n*L))+(o=1)+65535)-65536*(o=Math.floor(n/65536)),a=(n=a+o+65535)-65536*(o=Math.floor(n/65536)),s=(n=s+o+65535)-65536*(o=Math.floor(n/65536)),u=(n=u+o+65535)-65536*(o=Math.floor(n/65536)),c=(n=c+o+65535)-65536*(o=Math.floor(n/65536)),l=(n=l+o+65535)-65536*(o=Math.floor(n/65536)),f=(n=f+o+65535)-65536*(o=Math.floor(n/65536)),h=(n=h+o+65535)-65536*(o=Math.floor(n/65536)),p=(n=p+o+65535)-65536*(o=Math.floor(n/65536)),d=(n=d+o+65535)-65536*(o=Math.floor(n/65536)),v=(n=v+o+65535)-65536*(o=Math.floor(n/65536)),y=(n=y+o+65535)-65536*(o=Math.floor(n/65536)),m=(n=m+o+65535)-65536*(o=Math.floor(n/65536)),g=(n=g+o+65535)-65536*(o=Math.floor(n/65536)),b=(n=b+o+65535)-65536*(o=Math.floor(n/65536)),w=(n=w+o+65535)-65536*(o=Math.floor(n/65536)),i=(n=(i+=o-1+37*(o-1))+(o=1)+65535)-65536*(o=Math.floor(n/65536)),a=(n=a+o+65535)-65536*(o=Math.floor(n/65536)),s=(n=s+o+65535)-65536*(o=Math.floor(n/65536)),u=(n=u+o+65535)-65536*(o=Math.floor(n/65536)),c=(n=c+o+65535)-65536*(o=Math.floor(n/65536)),l=(n=l+o+65535)-65536*(o=Math.floor(n/65536)),f=(n=f+o+65535)-65536*(o=Math.floor(n/65536)),h=(n=h+o+65535)-65536*(o=Math.floor(n/65536)),p=(n=p+o+65535)-65536*(o=Math.floor(n/65536)),d=(n=d+o+65535)-65536*(o=Math.floor(n/65536)),v=(n=v+o+65535)-65536*(o=Math.floor(n/65536)),y=(n=y+o+65535)-65536*(o=Math.floor(n/65536)),m=(n=m+o+65535)-65536*(o=Math.floor(n/65536)),g=(n=g+o+65535)-65536*(o=Math.floor(n/65536)),b=(n=b+o+65535)-65536*(o=Math.floor(n/65536)),w=(n=w+o+65535)-65536*(o=Math.floor(n/65536)),i+=o-1+37*(o-1),t[0]=i,t[1]=a,t[2]=s,t[3]=u,t[4]=c,t[5]=l,t[6]=f,t[7]=h,t[8]=p,t[9]=d,t[10]=v,t[11]=y,t[12]=m,t[13]=g,t[14]=b,t[15]=w}function $(t,e){F(t,e,e)}function B(t,r){var n,o=e();for(n=0;n<16;n++)o[n]=r[n];for(n=253;n>=0;n--)$(o,o),2!==n&&4!==n&&F(o,o,r);for(n=0;n<16;n++)t[n]=o[n]}function z(t,r,n){var o,i,a=new Uint8Array(32),s=new Float64Array(80),c=e(),l=e(),f=e(),h=e(),p=e(),d=e();for(i=0;i<31;i++)a[i]=r[i];for(a[31]=127&r[31]|64,a[0]&=248,N(s,n),i=0;i<16;i++)l[i]=s[i],h[i]=c[i]=f[i]=0;for(c[0]=h[0]=1,i=254;i>=0;--i)M(c,l,o=a[i>>>3]>>>(7&i)&1),M(f,h,o),L(p,c,f),U(c,c,f),L(f,l,h),U(l,l,h),$(h,p),$(d,c),F(c,f,c),F(f,l,p),L(p,c,f),U(c,c,f),$(l,c),U(f,h,d),F(c,f,u),L(c,c,h),F(f,f,c),F(c,h,d),F(h,l,s),$(l,p),M(c,l,o),M(f,h,o);for(i=0;i<16;i++)s[i+16]=c[i],s[i+32]=f[i],s[i+48]=l[i],s[i+64]=h[i];var v=s.subarray(32),y=s.subarray(16);return B(v,v),F(y,y,v),j(t,y),0}function q(t,e){return z(t,e,i)}function H(t,e){return n(e,32),q(t,e)}function Y(t,e,r){var n=new Uint8Array(32);return z(n,r,e),b(t,o,n,w)}O.prototype.blocks=function(t,e,r){for(var n,o,i,a,s,u,c,l,f,h,p,d,v,y,m,g,b,w,x,_=this.fin?0:2048,k=this.h[0],S=this.h[1],O=this.h[2],E=this.h[3],P=this.h[4],A=this.h[5],C=this.h[6],T=this.h[7],R=this.h[8],M=this.h[9],j=this.r[0],I=this.r[1],D=this.r[2],N=this.r[3],L=this.r[4],U=this.r[5],F=this.r[6],$=this.r[7],B=this.r[8],z=this.r[9];r>=16;)h=f=0,h+=(k+=8191&(n=255&t[e+0]|(255&t[e+1])<<8))*j,h+=(S+=8191&(n>>>13|(o=255&t[e+2]|(255&t[e+3])<<8)<<3))*(5*z),h+=(O+=8191&(o>>>10|(i=255&t[e+4]|(255&t[e+5])<<8)<<6))*(5*B),h+=(E+=8191&(i>>>7|(a=255&t[e+6]|(255&t[e+7])<<8)<<9))*(5*$),f=(h+=(P+=8191&(a>>>4|(s=255&t[e+8]|(255&t[e+9])<<8)<<12))*(5*F))>>>13,h&=8191,h+=(A+=s>>>1&8191)*(5*U),h+=(C+=8191&(s>>>14|(u=255&t[e+10]|(255&t[e+11])<<8)<<2))*(5*L),h+=(T+=8191&(u>>>11|(c=255&t[e+12]|(255&t[e+13])<<8)<<5))*(5*N),h+=(R+=8191&(c>>>8|(l=255&t[e+14]|(255&t[e+15])<<8)<<8))*(5*D),p=f+=(h+=(M+=l>>>5|_)*(5*I))>>>13,p+=k*I,p+=S*j,p+=O*(5*z),p+=E*(5*B),f=(p+=P*(5*$))>>>13,p&=8191,p+=A*(5*F),p+=C*(5*U),p+=T*(5*L),p+=R*(5*N),f+=(p+=M*(5*D))>>>13,p&=8191,d=f,d+=k*D,d+=S*I,d+=O*j,d+=E*(5*z),f=(d+=P*(5*B))>>>13,d&=8191,d+=A*(5*$),d+=C*(5*F),d+=T*(5*U),d+=R*(5*L),v=f+=(d+=M*(5*N))>>>13,v+=k*N,v+=S*D,v+=O*I,v+=E*j,f=(v+=P*(5*z))>>>13,v&=8191,v+=A*(5*B),v+=C*(5*$),v+=T*(5*F),v+=R*(5*U),y=f+=(v+=M*(5*L))>>>13,y+=k*L,y+=S*N,y+=O*D,y+=E*I,f=(y+=P*j)>>>13,y&=8191,y+=A*(5*z),y+=C*(5*B),y+=T*(5*$),y+=R*(5*F),m=f+=(y+=M*(5*U))>>>13,m+=k*U,m+=S*L,m+=O*N,m+=E*D,f=(m+=P*I)>>>13,m&=8191,m+=A*j,m+=C*(5*z),m+=T*(5*B),m+=R*(5*$),g=f+=(m+=M*(5*F))>>>13,g+=k*F,g+=S*U,g+=O*L,g+=E*N,f=(g+=P*D)>>>13,g&=8191,g+=A*I,g+=C*j,g+=T*(5*z),g+=R*(5*B),b=f+=(g+=M*(5*$))>>>13,b+=k*$,b+=S*F,b+=O*U,b+=E*L,f=(b+=P*N)>>>13,b&=8191,b+=A*D,b+=C*I,b+=T*j,b+=R*(5*z),w=f+=(b+=M*(5*B))>>>13,w+=k*B,w+=S*$,w+=O*F,w+=E*U,f=(w+=P*L)>>>13,w&=8191,w+=A*N,w+=C*D,w+=T*I,w+=R*j,x=f+=(w+=M*(5*z))>>>13,x+=k*z,x+=S*B,x+=O*$,x+=E*F,f=(x+=P*U)>>>13,x&=8191,x+=A*L,x+=C*N,x+=T*D,x+=R*I,k=h=8191&(f=(f=((f+=(x+=M*j)>>>13)<<2)+f|0)+(h&=8191)|0),S=p+=f>>>=13,O=d&=8191,E=v&=8191,P=y&=8191,A=m&=8191,C=g&=8191,T=b&=8191,R=w&=8191,M=x&=8191,e+=16,r-=16;this.h[0]=k,this.h[1]=S,this.h[2]=O,this.h[3]=E,this.h[4]=P,this.h[5]=A,this.h[6]=C,this.h[7]=T,this.h[8]=R,this.h[9]=M},O.prototype.finish=function(t,e){var r,n,o,i,a=new Uint16Array(10);if(this.leftover){for(i=this.leftover,this.buffer[i++]=1;i<16;i++)this.buffer[i]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,i=2;i<10;i++)this.h[i]+=r,r=this.h[i]>>>13,this.h[i]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,a[0]=this.h[0]+5,r=a[0]>>>13,a[0]&=8191,i=1;i<10;i++)a[i]=this.h[i]+r,r=a[i]>>>13,a[i]&=8191;for(a[9]-=8192,n=(1^r)-1,i=0;i<10;i++)a[i]&=n;for(n=~n,i=0;i<10;i++)this.h[i]=this.h[i]&n|a[i];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),o=this.h[0]+this.pad[0],this.h[0]=65535&o,i=1;i<8;i++)o=(this.h[i]+this.pad[i]|0)+(o>>>16)|0,this.h[i]=65535&o;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},O.prototype.update=function(t,e,r){var n,o;if(this.leftover){for((o=16-this.leftover)>r&&(o=r),n=0;n<o;n++)this.buffer[this.leftover+n]=t[e+n];if(r-=o,e+=o,this.leftover+=o,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(o=r-r%16,this.blocks(t,e,o),e+=o,r-=o),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=t[e+n];this.leftover+=r}};var J=A,V=C,W=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function K(t,e,r,n){for(var o,i,a,s,u,c,l,f,h,p,d,v,y,m,g,b,w,x,_,k,S,O,E,P,A,C,T=new Int32Array(16),R=new Int32Array(16),M=t[0],j=t[1],I=t[2],D=t[3],N=t[4],L=t[5],U=t[6],F=t[7],$=e[0],B=e[1],z=e[2],q=e[3],H=e[4],Y=e[5],J=e[6],V=e[7],K=0;n>=128;){for(_=0;_<16;_++)k=8*_+K,T[_]=r[k+0]<<24|r[k+1]<<16|r[k+2]<<8|r[k+3],R[_]=r[k+4]<<24|r[k+5]<<16|r[k+6]<<8|r[k+7];for(_=0;_<80;_++)if(o=M,i=j,a=I,s=D,u=N,c=L,l=U,h=$,p=B,d=z,v=q,y=H,m=Y,g=J,E=65535&(O=V),P=O>>>16,A=65535&(S=F),C=S>>>16,E+=65535&(O=(H>>>14|N<<18)^(H>>>18|N<<14)^(N>>>9|H<<23)),P+=O>>>16,A+=65535&(S=(N>>>14|H<<18)^(N>>>18|H<<14)^(H>>>9|N<<23)),C+=S>>>16,E+=65535&(O=H&Y^~H&J),P+=O>>>16,A+=65535&(S=N&L^~N&U),C+=S>>>16,S=W[2*_],E+=65535&(O=W[2*_+1]),P+=O>>>16,A+=65535&S,C+=S>>>16,S=T[_%16],P+=(O=R[_%16])>>>16,A+=65535&S,C+=S>>>16,A+=(P+=(E+=65535&O)>>>16)>>>16,E=65535&(O=x=65535&E|P<<16),P=O>>>16,A=65535&(S=w=65535&A|(C+=A>>>16)<<16),C=S>>>16,E+=65535&(O=($>>>28|M<<4)^(M>>>2|$<<30)^(M>>>7|$<<25)),P+=O>>>16,A+=65535&(S=(M>>>28|$<<4)^($>>>2|M<<30)^($>>>7|M<<25)),C+=S>>>16,P+=(O=$&B^$&z^B&z)>>>16,A+=65535&(S=M&j^M&I^j&I),C+=S>>>16,f=65535&(A+=(P+=(E+=65535&O)>>>16)>>>16)|(C+=A>>>16)<<16,b=65535&E|P<<16,E=65535&(O=v),P=O>>>16,A=65535&(S=s),C=S>>>16,P+=(O=x)>>>16,A+=65535&(S=w),C+=S>>>16,j=o,I=i,D=a,N=s=65535&(A+=(P+=(E+=65535&O)>>>16)>>>16)|(C+=A>>>16)<<16,L=u,U=c,F=l,M=f,B=h,z=p,q=d,H=v=65535&E|P<<16,Y=y,J=m,V=g,$=b,_%16==15)for(k=0;k<16;k++)S=T[k],E=65535&(O=R[k]),P=O>>>16,A=65535&S,C=S>>>16,S=T[(k+9)%16],E+=65535&(O=R[(k+9)%16]),P+=O>>>16,A+=65535&S,C+=S>>>16,w=T[(k+1)%16],E+=65535&(O=((x=R[(k+1)%16])>>>1|w<<31)^(x>>>8|w<<24)^(x>>>7|w<<25)),P+=O>>>16,A+=65535&(S=(w>>>1|x<<31)^(w>>>8|x<<24)^w>>>7),C+=S>>>16,w=T[(k+14)%16],P+=(O=((x=R[(k+14)%16])>>>19|w<<13)^(w>>>29|x<<3)^(x>>>6|w<<26))>>>16,A+=65535&(S=(w>>>19|x<<13)^(x>>>29|w<<3)^w>>>6),C+=S>>>16,C+=(A+=(P+=(E+=65535&O)>>>16)>>>16)>>>16,T[k]=65535&A|C<<16,R[k]=65535&E|P<<16;E=65535&(O=$),P=O>>>16,A=65535&(S=M),C=S>>>16,S=t[0],P+=(O=e[0])>>>16,A+=65535&S,C+=S>>>16,C+=(A+=(P+=(E+=65535&O)>>>16)>>>16)>>>16,t[0]=M=65535&A|C<<16,e[0]=$=65535&E|P<<16,E=65535&(O=B),P=O>>>16,A=65535&(S=j),C=S>>>16,S=t[1],P+=(O=e[1])>>>16,A+=65535&S,C+=S>>>16,C+=(A+=(P+=(E+=65535&O)>>>16)>>>16)>>>16,t[1]=j=65535&A|C<<16,e[1]=B=65535&E|P<<16,E=65535&(O=z),P=O>>>16,A=65535&(S=I),C=S>>>16,S=t[2],P+=(O=e[2])>>>16,A+=65535&S,C+=S>>>16,C+=(A+=(P+=(E+=65535&O)>>>16)>>>16)>>>16,t[2]=I=65535&A|C<<16,e[2]=z=65535&E|P<<16,E=65535&(O=q),P=O>>>16,A=65535&(S=D),C=S>>>16,S=t[3],P+=(O=e[3])>>>16,A+=65535&S,C+=S>>>16,C+=(A+=(P+=(E+=65535&O)>>>16)>>>16)>>>16,t[3]=D=65535&A|C<<16,e[3]=q=65535&E|P<<16,E=65535&(O=H),P=O>>>16,A=65535&(S=N),C=S>>>16,S=t[4],P+=(O=e[4])>>>16,A+=65535&S,C+=S>>>16,C+=(A+=(P+=(E+=65535&O)>>>16)>>>16)>>>16,t[4]=N=65535&A|C<<16,e[4]=H=65535&E|P<<16,E=65535&(O=Y),P=O>>>16,A=65535&(S=L),C=S>>>16,S=t[5],P+=(O=e[5])>>>16,A+=65535&S,C+=S>>>16,C+=(A+=(P+=(E+=65535&O)>>>16)>>>16)>>>16,t[5]=L=65535&A|C<<16,e[5]=Y=65535&E|P<<16,E=65535&(O=J),P=O>>>16,A=65535&(S=U),C=S>>>16,S=t[6],P+=(O=e[6])>>>16,A+=65535&S,C+=S>>>16,C+=(A+=(P+=(E+=65535&O)>>>16)>>>16)>>>16,t[6]=U=65535&A|C<<16,e[6]=J=65535&E|P<<16,E=65535&(O=V),P=O>>>16,A=65535&(S=F),C=S>>>16,S=t[7],P+=(O=e[7])>>>16,A+=65535&S,C+=S>>>16,C+=(A+=(P+=(E+=65535&O)>>>16)>>>16)>>>16,t[7]=F=65535&A|C<<16,e[7]=V=65535&E|P<<16,K+=128,n-=128}return n}function G(t,e,r){var n,o=new Int32Array(8),i=new Int32Array(8),a=new Uint8Array(256),s=r;for(o[0]=1779033703,o[1]=3144134277,o[2]=1013904242,o[3]=2773480762,o[4]=1359893119,o[5]=2600822924,o[6]=528734635,o[7]=1541459225,i[0]=4089235720,i[1]=2227873595,i[2]=4271175723,i[3]=1595750129,i[4]=2917565137,i[5]=725511199,i[6]=4215389547,i[7]=327033209,K(o,i,e,r),r%=128,n=0;n<r;n++)a[n]=e[s-r+n];for(a[r]=128,a[(r=256-128*(r<112?1:0))-9]=0,d(a,r-8,s/536870912|0,s<<3),K(o,i,a,r),n=0;n<8;n++)d(t,8*n,o[n],i[n]);return 0}function X(t,r){var n=e(),o=e(),i=e(),a=e(),s=e(),u=e(),c=e(),f=e(),h=e();U(n,t[1],t[0]),U(h,r[1],r[0]),F(n,n,h),L(o,t[0],t[1]),L(h,r[0],r[1]),F(o,o,h),F(i,t[3],r[3]),F(i,i,l),F(a,t[2],r[2]),L(a,a,a),U(s,o,n),U(u,a,i),L(c,a,i),L(f,o,n),F(t[0],s,u),F(t[1],f,c),F(t[2],c,u),F(t[3],s,f)}function Q(t,e,r){var n;for(n=0;n<4;n++)M(t[n],e[n],r)}function Z(t,r){var n=e(),o=e(),i=e();B(i,r[2]),F(n,r[0],i),F(o,r[1],i),j(t,o),t[31]^=D(n)<<7}function tt(t,e,r){var n,o;for(T(t[0],a),T(t[1],s),T(t[2],s),T(t[3],a),o=255;o>=0;--o)Q(t,e,n=r[o/8|0]>>(7&o)&1),X(e,t),X(t,t),Q(t,e,n)}function et(t,r){var n=[e(),e(),e(),e()];T(n[0],f),T(n[1],h),T(n[2],s),F(n[3],f,h),tt(t,n,r)}function rt(t,r,o){var i,a=new Uint8Array(64),s=[e(),e(),e(),e()];for(o||n(r,32),G(a,r,32),a[0]&=248,a[31]&=127,a[31]|=64,et(s,a),Z(t,s),i=0;i<32;i++)r[i+32]=t[i];return 0}var nt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ot(t,e){var r,n,o,i;for(n=63;n>=32;--n){for(r=0,o=n-32,i=n-12;o<i;++o)e[o]+=r-16*e[n]*nt[o-(n-32)],r=e[o]+128>>8,e[o]-=256*r;e[o]+=r,e[n]=0}for(r=0,o=0;o<32;o++)e[o]+=r-(e[31]>>4)*nt[o],r=e[o]>>8,e[o]&=255;for(o=0;o<32;o++)e[o]-=r*nt[o];for(n=0;n<32;n++)e[n+1]+=e[n]>>8,t[n]=255&e[n]}function it(t){var e,r=new Float64Array(64);for(e=0;e<64;e++)r[e]=t[e];for(e=0;e<64;e++)t[e]=0;ot(t,r)}function at(t,r,n,o){var i,a,s=new Uint8Array(64),u=new Uint8Array(64),c=new Uint8Array(64),l=new Float64Array(64),f=[e(),e(),e(),e()];G(s,o,32),s[0]&=248,s[31]&=127,s[31]|=64;var h=n+64;for(i=0;i<n;i++)t[64+i]=r[i];for(i=0;i<32;i++)t[32+i]=s[32+i];for(G(c,t.subarray(32),n+32),it(c),et(f,c),Z(t,f),i=32;i<64;i++)t[i]=o[i];for(G(u,t,n+64),it(u),i=0;i<64;i++)l[i]=0;for(i=0;i<32;i++)l[i]=c[i];for(i=0;i<32;i++)for(a=0;a<32;a++)l[i+a]+=u[i]*s[a];return ot(t.subarray(32),l),h}function st(t,r){var n=e(),o=e(),i=e(),u=e(),l=e(),f=e(),h=e();return T(t[2],s),N(t[1],r),$(i,t[1]),F(u,i,c),U(i,i,t[2]),L(u,t[2],u),$(l,u),$(f,l),F(h,f,l),F(n,h,i),F(n,n,u),function(t,r){var n,o=e();for(n=0;n<16;n++)o[n]=r[n];for(n=250;n>=0;n--)$(o,o),1!==n&&F(o,o,r);for(n=0;n<16;n++)t[n]=o[n]}(n,n),F(n,n,i),F(n,n,u),F(n,n,u),F(t[0],n,u),$(o,t[0]),F(o,o,u),I(o,i)&&F(t[0],t[0],p),$(o,t[0]),F(o,o,u),I(o,i)?-1:(D(t[0])===r[31]>>7&&U(t[0],a,t[0]),F(t[3],t[0],t[1]),0)}function ut(t,r,n,o){var i,a=new Uint8Array(32),s=new Uint8Array(64),u=[e(),e(),e(),e()],c=[e(),e(),e(),e()];if(n<64)return-1;if(st(c,o))return-1;for(i=0;i<n;i++)t[i]=r[i];for(i=0;i<32;i++)t[i+32]=o[i];if(G(s,t,n),it(s),tt(u,c,s),et(c,r.subarray(32)),X(u,c),Z(a,u),n-=64,m(r,0,a,0)){for(i=0;i<n;i++)t[i]=0;return-1}for(i=0;i<n;i++)t[i]=r[i+64];return n}var ct=32,lt=24,ft=lt;function ht(t,e){if(t.length!==ct)throw new Error("bad key size");if(e.length!==lt)throw new Error("bad nonce size")}function pt(){for(var t=0;t<arguments.length;t++)if(!(arguments[t]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function dt(t){for(var e=0;e<t.length;e++)t[e]=0}t.lowlevel={crypto_core_hsalsa20:b,crypto_stream_xor:S,crypto_stream:k,crypto_stream_salsa20_xor:x,crypto_stream_salsa20:_,crypto_onetimeauth:E,crypto_onetimeauth_verify:P,crypto_verify_16:y,crypto_verify_32:m,crypto_secretbox:A,crypto_secretbox_open:C,crypto_scalarmult:z,crypto_scalarmult_base:q,crypto_box_beforenm:Y,crypto_box_afternm:J,crypto_box:function(t,e,r,n,o,i){var a=new Uint8Array(32);return Y(a,o,i),J(t,e,r,n,a)},crypto_box_open:function(t,e,r,n,o,i){var a=new Uint8Array(32);return Y(a,o,i),V(t,e,r,n,a)},crypto_box_keypair:H,crypto_hash:G,crypto_sign:at,crypto_sign_keypair:rt,crypto_sign_open:ut,crypto_secretbox_KEYBYTES:ct,crypto_secretbox_NONCEBYTES:lt,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:ft,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64},t.randomBytes=function(t){var e=new Uint8Array(t);return n(e,t),e},t.secretbox=function(t,e,r){pt(t,e,r),ht(r,e);for(var n=new Uint8Array(32+t.length),o=new Uint8Array(n.length),i=0;i<t.length;i++)n[i+32]=t[i];return A(o,n,n.length,e,r),o.subarray(16)},t.secretbox.open=function(t,e,r){pt(t,e,r),ht(r,e);for(var n=new Uint8Array(16+t.length),o=new Uint8Array(n.length),i=0;i<t.length;i++)n[i+16]=t[i];return n.length<32?null:0!==C(o,n,n.length,e,r)?null:o.subarray(32)},t.secretbox.keyLength=ct,t.secretbox.nonceLength=lt,t.secretbox.overheadLength=16,t.scalarMult=function(t,e){if(pt(t,e),32!==t.length)throw new Error("bad n size");if(32!==e.length)throw new Error("bad p size");var r=new Uint8Array(32);return z(r,t,e),r},t.scalarMult.base=function(t){if(pt(t),32!==t.length)throw new Error("bad n size");var e=new Uint8Array(32);return q(e,t),e},t.scalarMult.scalarLength=32,t.scalarMult.groupElementLength=32,t.box=function(e,r,n,o){var i=t.box.before(n,o);return t.secretbox(e,r,i)},t.box.before=function(t,e){pt(t,e),function(t,e){if(32!==t.length)throw new Error("bad public key size");if(32!==e.length)throw new Error("bad secret key size")}(t,e);var r=new Uint8Array(32);return Y(r,t,e),r},t.box.after=t.secretbox,t.box.open=function(e,r,n,o){var i=t.box.before(n,o);return t.secretbox.open(e,r,i)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(32);return H(t,e),{publicKey:t,secretKey:e}},t.box.keyPair.fromSecretKey=function(t){if(pt(t),32!==t.length)throw new Error("bad secret key size");var e=new Uint8Array(32);return q(e,t),{publicKey:e,secretKey:new Uint8Array(t)}},t.box.publicKeyLength=32,t.box.secretKeyLength=32,t.box.sharedKeyLength=32,t.box.nonceLength=ft,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(t,e){if(pt(t,e),64!==e.length)throw new Error("bad secret key size");var r=new Uint8Array(64+t.length);return at(r,t,t.length,e),r},t.sign.open=function(t,e){if(pt(t,e),32!==e.length)throw new Error("bad public key size");var r=new Uint8Array(t.length),n=ut(r,t,t.length,e);if(n<0)return null;for(var o=new Uint8Array(n),i=0;i<o.length;i++)o[i]=r[i];return o},t.sign.detached=function(e,r){for(var n=t.sign(e,r),o=new Uint8Array(64),i=0;i<o.length;i++)o[i]=n[i];return o},t.sign.detached.verify=function(t,e,r){if(pt(t,e,r),64!==e.length)throw new Error("bad signature size");if(32!==r.length)throw new Error("bad public key size");var n,o=new Uint8Array(64+t.length),i=new Uint8Array(64+t.length);for(n=0;n<64;n++)o[n]=e[n];for(n=0;n<t.length;n++)o[n+64]=t[n];return ut(i,o,o.length,r)>=0},t.sign.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(64);return rt(t,e),{publicKey:t,secretKey:e}},t.sign.keyPair.fromSecretKey=function(t){if(pt(t),64!==t.length)throw new Error("bad secret key size");for(var e=new Uint8Array(32),r=0;r<e.length;r++)e[r]=t[32+r];return{publicKey:e,secretKey:new Uint8Array(t)}},t.sign.keyPair.fromSeed=function(t){if(pt(t),32!==t.length)throw new Error("bad seed size");for(var e=new Uint8Array(32),r=new Uint8Array(64),n=0;n<32;n++)r[n]=t[n];return rt(e,r,!0),{publicKey:e,secretKey:r}},t.sign.publicKeyLength=32,t.sign.secretKeyLength=64,t.sign.seedLength=32,t.sign.signatureLength=64,t.hash=function(t){pt(t);var e=new Uint8Array(64);return G(e,t,t.length),e},t.hash.hashLength=64,t.verify=function(t,e){return pt(t,e),0!==t.length&&0!==e.length&&t.length===e.length&&0===v(t,0,e,0,t.length)},t.setPRNG=function(t){n=t},function(){var e="undefined"!=typeof self?self.crypto||self.msCrypto:null;e&&e.getRandomValues?t.setPRNG(function(t,r){var n,o=new Uint8Array(r);for(n=0;n<r;n+=65536)e.getRandomValues(o.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)t[n]=o[n];dt(o)}):(e=r(56))&&e.randomBytes&&t.setPRNG(function(t,r){var n,o=e.randomBytes(r);for(n=0;n<r;n++)t[n]=o[n];dt(o)})}()}(void 0!==t&&t.exports?t.exports:self.nacl=self.nacl||{})},function(t,e){},function(t,e,r){(function(e){!function(e,r){"use strict";void 0!==t&&t.exports?t.exports=r():e.nacl?e.nacl.util=r():(e.nacl={},e.nacl.util=r())}(this,function(){"use strict";var t={};function r(t){if(!/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(t))throw new TypeError("invalid encoding")}return t.decodeUTF8=function(t){if("string"!=typeof t)throw new TypeError("expected string");var e,r=unescape(encodeURIComponent(t)),n=new Uint8Array(r.length);for(e=0;e<r.length;e++)n[e]=r.charCodeAt(e);return n},t.encodeUTF8=function(t){var e,r=[];for(e=0;e<t.length;e++)r.push(String.fromCharCode(t[e]));return decodeURIComponent(escape(r.join("")))},"undefined"==typeof atob?void 0!==e.from?(t.encodeBase64=function(t){return e.from(t).toString("base64")},t.decodeBase64=function(t){return r(t),new Uint8Array(Array.prototype.slice.call(e.from(t,"base64"),0))}):(t.encodeBase64=function(t){return new e(t).toString("base64")},t.decodeBase64=function(t){return r(t),new Uint8Array(Array.prototype.slice.call(new e(t,"base64"),0))}):(t.encodeBase64=function(t){var e,r=[],n=t.length;for(e=0;e<n;e++)r.push(String.fromCharCode(t[e]));return btoa(r.join(""))},t.decodeBase64=function(t){r(t);var e,n=atob(t),o=new Uint8Array(n.length);for(e=0;e<n.length;e++)o[e]=n.charCodeAt(e);return o}),t})}).call(e,r(58).Buffer)},function(t,e,r){
/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";var n=r(59),o=r(60),i=r(61);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return c(this,t,e,r)}function c(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=h(t,e),t}(t,e,r,n):"string"==typeof e?function(t,e,r){if("string"==typeof r&&""!==r||(r="utf8"),!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|d(e,r),o=(t=s(t,n)).write(e,r);return o!==n&&(t=t.slice(0,o)),t}(t,e,r):function(t,e){if(u.isBuffer(e)){var r=0|p(e.length);return 0===(t=s(t,r)).length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?s(t,0):h(t,e);if("Buffer"===e.type&&i(e.data))return h(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(l(e),t=s(t,e<0?0:0|p(e)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function h(t,e){var r=e.length<0?0:0|p(e.length);t=s(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function p(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return B(t).length;default:if(n)return $(t).length;e=(""+e).toLowerCase(),n=!0}}function v(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function y(t,e,r,n,o){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:m(t,e,r,n,o);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):m(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function m(t,e,r,n,o){var i,a=1,s=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){var l=-1;for(i=r;i<s;i++)if(c(t,i)===c(e,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(r+u>s&&(r=s-u),i=r;i>=0;i--){for(var f=!0,h=0;h<u;h++)if(c(t,i+h)!==c(e,h)){f=!1;break}if(f)return i}return-1}function g(t,e,r,n){r=Number(r)||0;var o=t.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var a=0;a<n;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[r+a]=s}return a}function b(t,e,r,n){return z($(e,t.length-r),t,r,n)}function w(t,e,r,n){return z(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function x(t,e,r,n){return w(t,e,r,n)}function _(t,e,r,n){return z(B(e),t,r,n)}function k(t,e,r,n){return z(function(t,e){for(var r,n,o,i=[],a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(e,t.length-r),t,r,n)}function S(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function O(t,e,r){r=Math.min(t.length,r);for(var n=[],o=e;o<r;){var i,a,s,u,c=t[o],l=null,f=c>239?4:c>223?3:c>191?2:1;if(o+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(i=t[o+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:i=t[o+1],a=t[o+2],128==(192&i)&&128==(192&a)&&(u=(15&c)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=t[o+1],a=t[o+2],s=t[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),o+=f}return function(t){var e=t.length;if(e<=E)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=E));return r}(n)}e.Buffer=u,e.SlowBuffer=function(t){return+t!=t&&(t=0),u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==window.TYPED_ARRAY_SUPPORT?window.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,r){return c(null,t,e,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,r){return function(t,e,r,n){return l(e),e<=0?s(t,e):void 0!==r?"string"==typeof n?s(t,e).fill(r,n):s(t,e).fill(r):s(t,e)}(null,t,e,r)},u.allocUnsafe=function(t){return f(null,t)},u.allocUnsafeSlow=function(t){return f(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,o=0,i=Math.min(r,n);o<i;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=u.allocUnsafe(e),o=0;for(r=0;r<t.length;++r){var a=t[r];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,o),o+=a.length}return n},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)v(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)v(this,e,e+3),v(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)v(this,e,e+7),v(this,e+1,e+6),v(this,e+2,e+5),v(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?O(this,0,t):function(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return C(this,e,r);case"utf8":case"utf-8":return O(this,e,r);case"ascii":return P(this,e,r);case"latin1":case"binary":return A(this,e,r);case"base64":return S(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,r,n,o){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||r>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&e>=r)return 0;if(n>=o)return-1;if(e>=r)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(n>>>=0),a=(r>>>=0)-(e>>>=0),s=Math.min(i,a),c=this.slice(n,o),l=t.slice(e,r),f=0;f<s;++f)if(c[f]!==l[f]){i=c[f],a=l[f];break}return i<a?-1:a<i?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return y(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return y(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-e;if((void 0===r||r>o)&&(r=o),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return g(this,t,e,r);case"utf8":case"utf-8":return b(this,t,e,r);case"ascii":return w(this,t,e,r);case"latin1":case"binary":return x(this,t,e,r);case"base64":return _(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var E=4096;function P(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(127&t[o]);return n}function A(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(t[o]);return n}function C(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=e;i<r;++i)o+=F(t[i]);return o}function T(t,e,r){for(var n=t.slice(e,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function R(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function M(t,e,r,n,o,i){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function j(t,e,r,n){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-r,2);o<i;++o)t[r+o]=(e&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function I(t,e,r,n){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-r,4);o<i;++o)t[r+o]=e>>>8*(n?o:3-o)&255}function D(t,e,r,n,o,i){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(t,e,r,n,i){return i||D(t,0,r,4),o.write(t,e,r,n,23,4),r+4}function L(t,e,r,n,i){return i||D(t,0,r,8),o.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=u.prototype;else{var o=e-t;r=new u(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+t]}return r},u.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||R(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n},u.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||R(t,e,this.length);for(var n=this[t+--e],o=1;e>0&&(o*=256);)n+=this[t+--e]*o;return n},u.prototype.readUInt8=function(t,e){return e||R(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||R(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||R(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||R(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||R(t,e,this.length);for(var n=e,o=1,i=this[t+--n];n>0&&(o*=256);)i+=this[t+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},u.prototype.readInt8=function(t,e){return e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||R(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){e||R(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||R(t,4,this.length),o.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||R(t,4,this.length),o.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||R(t,8,this.length),o.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||R(t,8,this.length),o.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,r,n){t=+t,e|=0,r|=0,n||M(this,t,e,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[e]=255&t;++i<r&&(o*=256);)this[e+i]=t/o&255;return e+r},u.prototype.writeUIntBE=function(t,e,r,n){t=+t,e|=0,r|=0,n||M(this,t,e,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+r},u.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):j(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):I(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):I(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*r-1);M(this,t,e,r,o-1,-o)}var i=0,a=1,s=0;for(this[e]=255&t;++i<r&&(a*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*r-1);M(this,t,e,r,o-1,-o)}var i=r-1,a=1,s=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):j(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):I(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||M(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):I(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,r){return N(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return N(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return L(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return L(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var o,i=n-r;if(this===t&&r<e&&e<n)for(o=i-1;o>=0;--o)t[o+e]=this[o+r];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+i),e);return i},u.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{var a=u.isBuffer(t)?t:$(new u(t,n).toString()),s=a.length;for(i=0;i<r-e;++i)this[i+e]=a[i%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function F(t){return t<16?"0"+t.toString(16):t.toString(16)}function $(t,e){var r;e=e||1/0;for(var n=t.length,o=null,i=[],a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function B(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(U,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function z(t,e,r,n){for(var o=0;o<n&&!(o+r>=e.length||o>=t.length);++o)e[o+r]=t[o];return o}},function(t,e){"use strict";e.byteLength=function(t){var e=u(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){for(var e,r=u(t),i=r[0],a=r[1],s=new o(NaN),c=0,l=a>0?i-4:i,f=0;f<l;f+=4)e=n[t.charCodeAt(f)]<<18|n[t.charCodeAt(f+1)]<<12|n[t.charCodeAt(f+2)]<<6|n[t.charCodeAt(f+3)],s[c++]=e>>16&255,s[c++]=e>>8&255,s[c++]=255&e;return 2===a&&(e=n[t.charCodeAt(f)]<<2|n[t.charCodeAt(f+1)]>>4,s[c++]=255&e),1===a&&(e=n[t.charCodeAt(f)]<<10|n[t.charCodeAt(f+1)]<<4|n[t.charCodeAt(f+2)]>>2,s[c++]=e>>8&255,s[c++]=255&e),s},e.fromByteArray=function(t){for(var e,n=t.length,o=n%3,i=[],a=0,s=n-o;a<s;a+=16383)i.push(c(t,a,a+16383>s?s:a+16383));return 1===o?(e=t[n-1],i.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],i.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),i.join("")};for(var r=[],n=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=i.length;a<s;++a)r[a]=i[a],n[i.charCodeAt(a)]=a;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function c(t,e,n){for(var o,i,a=[],s=e;s<n;s+=3)o=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,r,n,o){var i,a,s=8*o-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?o-1:0,h=r?-1:1,p=t[e+f];for(f+=h,i=p&(1<<-l)-1,p>>=-l,l+=s;l>0;i=256*i+t[e+f],f+=h,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=n;l>0;a=256*a+t[e+f],f+=h,l-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),i-=c}return(p?-1:1)*a*Math.pow(2,i-n)},e.write=function(t,e,r,n,o,i){var a,s,u,c=8*i-o-1,l=(1<<c)-1,f=l>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,d=n?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*u-1)*Math.pow(2,o),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;t[r+p]=255&s,p+=d,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;t[r+p]=255&a,p+=d,a/=256,c-=8);t[r+p-d]|=128*v}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=r(24),i=r(12),a=r(8),s=r(9),u=r(2),c=function(t){function e(e,r){var n=this;t.call(this),this.key=e,this.options=r||{},this.state="initialized",this.connection=null,this.usingTLS=!!r.useTLS,this.timeline=this.options.timeline,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var o=u.default.getNetwork();o.bind("online",function(){n.timeline.info({netinfo:"online"}),"connecting"!==n.state&&"unavailable"!==n.state||n.retryIn(0)}),o.bind("offline",function(){n.timeline.info({netinfo:"offline"}),n.connection&&n.sendActivityCheck()}),this.updateStrategy()}return n(e,t),e.prototype.connect=function(){this.connection||this.runner||(this.strategy.isSupported()?(this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()):this.updateState("failed"))},e.prototype.send=function(t){return!!this.connection&&this.connection.send(t)},e.prototype.send_event=function(t,e,r){return!!this.connection&&this.connection.send_event(t,e,r)},e.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},e.prototype.isUsingTLS=function(){return this.usingTLS},e.prototype.startConnecting=function(){var t=this,e=function(r,n){r?t.runner=t.strategy.connect(0,e):"error"===n.action?(t.emit("error",{type:"HandshakeError",error:n.error}),t.timeline.error({handshakeError:n.error})):(t.abortConnecting(),t.handshakeCallbacks[n.action](n))};this.runner=this.strategy.connect(0,e)},e.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},e.prototype.disconnectInternally=function(){this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection&&this.abandonConnection().close()},e.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})},e.prototype.retryIn=function(t){var e=this;this.timeline.info({action:"retry",delay:t}),t>0&&this.emit("connecting_in",Math.round(t/1e3)),this.retryTimer=new i.OneOffTimer(t||0,function(){e.disconnectInternally(),e.connect()})},e.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},e.prototype.setUnavailableTimer=function(){var t=this;this.unavailableTimer=new i.OneOffTimer(this.options.unavailableTimeout,function(){t.updateState("unavailable")})},e.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},e.prototype.sendActivityCheck=function(){var t=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new i.OneOffTimer(this.options.pongTimeout,function(){t.timeline.error({pong_timed_out:t.options.pongTimeout}),t.retryIn(0)})},e.prototype.resetActivityCheck=function(){var t=this;this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new i.OneOffTimer(this.activityTimeout,function(){t.sendActivityCheck()}))},e.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},e.prototype.buildConnectionCallbacks=function(t){var e=this;return s.extend({},t,{message:function(t){e.resetActivityCheck(),e.emit("message",t)},ping:function(){e.send_event("pusher:pong",{})},activity:function(){e.resetActivityCheck()},error:function(t){e.emit("error",{type:"WebSocketError",error:t})},closed:function(){e.abandonConnection(),e.shouldRetry()&&e.retryIn(1e3)}})},e.prototype.buildHandshakeCallbacks=function(t){var e=this;return s.extend({},t,{connected:function(t){e.activityTimeout=Math.min(e.options.activityTimeout,t.activityTimeout,t.connection.activityTimeout||1/0),e.clearUnavailableTimer(),e.setConnection(t.connection),e.socket_id=e.connection.id,e.updateState("connected",{socket_id:e.socket_id})}})},e.prototype.buildErrorCallbacks=function(){var t=this,e=function(e){return function(r){r.error&&t.emit("error",{type:"WebSocketError",error:r.error}),e(r)}};return{tls_only:e(function(){t.usingTLS=!0,t.updateStrategy(),t.retryIn(0)}),refused:e(function(){t.disconnect()}),backoff:e(function(){t.retryIn(1e3)}),retry:e(function(){t.retryIn(0)})}},e.prototype.setConnection=function(t){for(var e in this.connection=t,this.connectionCallbacks)this.connection.bind(e,this.connectionCallbacks[e]);this.resetActivityCheck()},e.prototype.abandonConnection=function(){if(this.connection){for(var t in this.stopActivityCheck(),this.connectionCallbacks)this.connection.unbind(t,this.connectionCallbacks[t]);var e=this.connection;return this.connection=null,e}},e.prototype.updateState=function(t,e){var r=this.state;if(this.state=t,r!==t){var n=t;"connected"===n&&(n+=" with new socket ID "+e.socket_id),a.default.debug("State changed",r+" -> "+n),this.timeline.info({state:t,params:e}),this.emit("state_change",{previous:r,current:t}),this.emit(t,e)}},e.prototype.shouldRetry=function(){return"connecting"===this.state||"connected"===this.state},e}(o.default);e.__esModule=!0,e.default=c},function(t,e,r){"use strict";var n=r(9),o=r(43),i=r(31),a=function(){function t(){this.channels={}}return t.prototype.add=function(t,e){return this.channels[t]||(this.channels[t]=function(t,e){if(0===t.indexOf("private-encrypted-")){if("ReactNative"==navigator.product)throw new i.UnsupportedFeature("Encrypted channels are not yet supported when using React Native builds.");return o.default.createEncryptedChannel(t,e)}return 0===t.indexOf("private-")?o.default.createPrivateChannel(t,e):0===t.indexOf("presence-")?o.default.createPresenceChannel(t,e):o.default.createChannel(t,e)}(t,e)),this.channels[t]},t.prototype.all=function(){return n.values(this.channels)},t.prototype.find=function(t){return this.channels[t]},t.prototype.remove=function(t){var e=this.channels[t];return delete this.channels[t],e},t.prototype.disconnect=function(){n.objectApply(this.channels,function(t){t.disconnect()})},t}();e.__esModule=!0,e.default=a},function(t,e,r){"use strict";var n=r(43),o=r(11),i=r(31),a=r(9),s=function(){function t(t,e,r,n){this.name=t,this.priority=e,this.transport=r,this.options=n||{}}return t.prototype.isSupported=function(){return this.transport.isSupported({useTLS:this.options.useTLS})},t.prototype.connect=function(t,e){var r=this;if(!this.isSupported())return u(new i.UnsupportedStrategy,e);if(this.priority<t)return u(new i.TransportPriorityTooLow,e);var o=!1,s=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),c=null,l=function(){s.unbind("initialized",l),s.connect()},f=function(){c=n.default.createHandshake(s,function(t){o=!0,d(),e(null,t)})},h=function(t){d(),e(t)},p=function(){var t;d(),t=a.safeJSONStringify(s),e(new i.TransportClosed(t))},d=function(){s.unbind("initialized",l),s.unbind("open",f),s.unbind("error",h),s.unbind("closed",p)};return s.bind("initialized",l),s.bind("open",f),s.bind("error",h),s.bind("closed",p),s.initialize(),{abort:function(){o||(d(),c?c.close():s.close())},forceMinPriority:function(t){o||r.priority<t&&(c?c.close():s.close())}}},t}();function u(t,e){return o.default.defer(function(){e(t)}),{abort:function(){},forceMinPriority:function(){}}}e.__esModule=!0,e.default=s},function(t,e,r){"use strict";var n=r(9),o=r(11),i=r(12),a=function(){function t(t,e){this.strategies=t,this.loop=Boolean(e.loop),this.failFast=Boolean(e.failFast),this.timeout=e.timeout,this.timeoutLimit=e.timeoutLimit}return t.prototype.isSupported=function(){return n.any(this.strategies,o.default.method("isSupported"))},t.prototype.connect=function(t,e){var r=this,n=this.strategies,o=0,i=this.timeout,a=null,s=function(u,c){c?e(null,c):(o+=1,r.loop&&(o%=n.length),o<n.length?(i&&(i*=2,r.timeoutLimit&&(i=Math.min(i,r.timeoutLimit))),a=r.tryStrategy(n[o],t,{timeout:i,failFast:r.failFast},s)):e(!0))};return a=this.tryStrategy(n[o],t,{timeout:i,failFast:this.failFast},s),{abort:function(){a.abort()},forceMinPriority:function(e){t=e,a&&a.forceMinPriority(e)}}},t.prototype.tryStrategy=function(t,e,r,n){var o=null,a=null;return r.timeout>0&&(o=new i.OneOffTimer(r.timeout,function(){a.abort(),n(!0)})),a=t.connect(e,function(t,e){t&&o&&o.isRunning()&&!r.failFast||(o&&o.ensureAborted(),n(t,e))}),{abort:function(){o&&o.ensureAborted(),a.abort()},forceMinPriority:function(t){a.forceMinPriority(t)}}},t}();e.__esModule=!0,e.default=a},function(t,e,r){"use strict";var n=r(9),o=r(11),i=function(){function t(t){this.strategies=t}return t.prototype.isSupported=function(){return n.any(this.strategies,o.default.method("isSupported"))},t.prototype.connect=function(t,e){return function(t,e,r){var o=n.map(t,function(t,n,o,i){return t.connect(e,r(n,i))});return{abort:function(){n.apply(o,a)},forceMinPriority:function(t){n.apply(o,function(e){e.forceMinPriority(t)})}}}(this.strategies,t,function(t,r){return function(o,i){r[t].error=o,o?function(t){return n.all(t,function(t){return Boolean(t.error)})}(r)&&e(!0):(n.apply(r,function(t){t.forceMinPriority(i.transport.priority)}),e(null,i))}})},t}();function a(t){t.error||t.aborted||(t.abort(),t.aborted=!0)}e.__esModule=!0,e.default=i},function(t,e,r){"use strict";var n=r(11),o=r(2),i=r(65),a=r(9),s=function(){function t(t,e,r){this.strategy=t,this.transports=e,this.ttl=r.ttl||18e5,this.usingTLS=r.useTLS,this.timeline=r.timeline}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var r=this.usingTLS,s=function(t){var e=o.default.getLocalStorage();if(e)try{var r=e[u(t)];if(r)return JSON.parse(r)}catch(e){c(t)}return null}(r),l=[this.strategy];if(s&&s.timestamp+this.ttl>=n.default.now()){var f=this.transports[s.transport];f&&(this.timeline.info({cached:!0,transport:s.transport,latency:s.latency}),l.push(new i.default([f],{timeout:2*s.latency+1e3,failFast:!0})))}var h=n.default.now(),p=l.pop().connect(t,function i(s,f){s?(c(r),l.length>0?(h=n.default.now(),p=l.pop().connect(t,i)):e(s)):(function(t,e,r){var i=o.default.getLocalStorage();if(i)try{i[u(t)]=a.safeJSONStringify({timestamp:n.default.now(),transport:e,latency:r})}catch(t){}}(r,f.transport.name,n.default.now()-h),e(null,f))});return{abort:function(){p.abort()},forceMinPriority:function(e){t=e,p&&p.forceMinPriority(e)}}},t}();function u(t){return"pusherTransport"+(t?"TLS":"NonTLS")}function c(t){var e=o.default.getLocalStorage();if(e)try{delete e[u(t)]}catch(t){}}e.__esModule=!0,e.default=s},function(t,e,r){"use strict";var n=r(12),o=function(){function t(t,e){var r=e.delay;this.strategy=t,this.options={delay:r}}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var r,o=this.strategy,i=new n.OneOffTimer(this.options.delay,function(){r=o.connect(t,e)});return{abort:function(){i.ensureAborted(),r&&r.abort()},forceMinPriority:function(e){t=e,r&&r.forceMinPriority(e)}}},t}();e.__esModule=!0,e.default=o},function(t,e){"use strict";var r=function(){function t(t,e,r){this.test=t,this.trueBranch=e,this.falseBranch=r}return t.prototype.isSupported=function(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()},t.prototype.connect=function(t,e){return(this.test()?this.trueBranch:this.falseBranch).connect(t,e)},t}();e.__esModule=!0,e.default=r},function(t,e){"use strict";var r=function(){function t(t){this.strategy=t}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var r=this.strategy.connect(t,function(t,n){n&&r.abort(),e(t,n)});return r},t}();e.__esModule=!0,e.default=r},function(t,e,r){"use strict";var n=r(5);e.getGlobalConfig=function(){return{wsHost:n.default.host,wsPort:n.default.ws_port,wssPort:n.default.wss_port,wsPath:n.default.ws_path,httpHost:n.default.sockjs_host,httpPort:n.default.sockjs_http_port,httpsPort:n.default.sockjs_https_port,httpPath:n.default.sockjs_path,statsHost:n.default.stats_host,authEndpoint:n.default.channel_auth_endpoint,authTransport:n.default.channel_auth_transport,activity_timeout:n.default.activity_timeout,pong_timeout:n.default.pong_timeout,unavailable_timeout:n.default.unavailable_timeout}},e.getClusterConfig=function(t){return{wsHost:"ws-"+t+".pusher.com",httpHost:"sockjs-"+t+".pusher.com"}}}])},t.exports=n()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=r(10),i=(n=o)&&n.__esModule?n:{default:n};e.default=(0,i.default)({methods:{subscribe:function(){throw new Error("subscribe() method not implemented in this connector.")},bind:function(){throw new Error("bind() method not implemented in this connector.")},trigger:function(){throw new Error("trigger() method not implemented in this connector.")}}})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o=s(r(89)),i=s(r(0)),a=s(r(11));function s(t){return t&&t.__esModule?t:{default:t}}function u(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}("next")})}}var c=function(){var t,e,r,s=(t=u(regeneratorRuntime.mark(function t(e){var r,n=e.submission,o=e.vm;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!d(r=p(n))){t.next=3;break}return t.abrupt("return",Object.assign({},h(o),{groupId:r}));case 3:return t.abrupt("return",Object.assign({},f(o),{groupId:r}));case 4:case"end":return t.stop()}},t,this)})),function(e){return t.apply(this,arguments)}),c=(e=u(regeneratorRuntime.mark(function t(e){var r=e.submission,n=e.vm,o=e.info;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!d(p(r))){t.next=3;break}return t.abrupt("return",y({submission:r,vm:n,info:o}));case 3:return t.abrupt("return",v({submission:r,vm:n,info:o}));case 4:case"end":return t.stop()}},t,this)})),function(t){return e.apply(this,arguments)}),l=(r=u(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:console.log(e);case 1:case"end":return t.stop()}},t,this)})),function(t){return r.apply(this,arguments)});function f(t){return{progressSteps:["1","2","3"],steps:[{title:t.$t("Group Name"),text:t.$t("Give the group a name"),inputValidator:function(e){return new Promise(function(r,n){""!==e?r():n(new Error(t.$t("The group name is already taken")))})}},{title:t.$t("Current Participant Name"),text:t.$t("Give the current participant a name")},{title:t.$t("Next participant Name"),text:t.$t("Give the next participant a name")}]}}function h(t){return{progressSteps:["1"],steps:[{title:t.$t("Participant Name"),text:t.$t("Give the next participant a name")}]}}function p(t){return i.default.get(function(){return(0,a.default)().getParallelSurvey(t).groupId})}function d(t){return!!t}function v(t){var e=t.submission,r=t.vm,i=t.info,s=i[0],u=i[1],c=i[2],l={groupId:(0,o.default)(),groupName:s,participantName:u,submissionId:e._id};return r.currentSubmission.parallelSurvey=(0,a.default)().setParallelSurvey(l),{parallelSurvey:(0,a.default)().setParallelSurvey(n({},l,{participantName:c}))}}function y(t){var e=t.submission,r=t.info[0],n=(0,a.default)().getParallelSurvey(e);return n.participantName=r,{parallelSurvey:(0,a.default)().setParallelSurvey(n)}}return Object.freeze({createWizard:s,createNewSurvey:c,assignSelfId:l})}();e.default=c},function(t,e,r){var n=r(90),o=r(91);t.exports=function(t,e,r){var i=e&&r||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var a=(t=t||{}).random||(t.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var s=0;s<16;++s)e[i+s]=a[s];return e||o(a)}},function(t,e){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);t.exports=function(){return r(n),n}}else{var o=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},function(t,e){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);t.exports=function(t,e){var n=e||0,o=r;return[o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]]].join("")}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=a(r(11)),i=a(r(9));function a(t){return t&&t.__esModule?t:{default:t}}function s(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}("next")})}}var u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return n(t,null,[{key:"fromJsonFile",value:function(e,r){var n=new FileReader;n.onload=function(e){var n=void 0;try{n=JSON.parse(e.target.result)}catch(t){throw new Error("The Json file could not be parsed")}t.parseJson(n,r)},n.readAsText(e)}},{key:"parseJson",value:function(){var e=s(regeneratorRuntime.mark(function e(r,n){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=t.getFormIOInstance(n),Promise.each(r,function(){var e=s(regeneratorRuntime.mark(function e(r,i){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.prepareSubmission(r),e.next=3,t.saveSubmission(a,o,n);case 3:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()).then(function(){i.default.emit({name:"FAST:DATA:IMPORTED",data:{imported:!0},text:"Data was imported"})}).catch(function(t){console.log(t),n.$swal(n.$t("Import Error!"),n.$t("Your submission could not be Imported. Please check the format of your Json file."),"error")});case 2:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"emitNotification",value:function(t){t.$eventHub.emit("FAST-DATA_IMPORTED")}},{key:"prepareSubmission",value:function(t){return(t.id||t._id)&&(delete t.id,delete t._id),t.modified&&delete t.modified,t.owner&&delete t.owner,{data:t.data?t.data:t,redirect:!1,syncError:!1,draft:!0,trigger:"importSubmission"}}},{key:"saveSubmission",value:function(){var t=s(regeneratorRuntime.mark(function t(e,r,n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,o.default)("*").add({submission:e,formio:r});case 2:case"end":return t.stop()}},t,this)}));return function(e,r,n){return t.apply(this,arguments)}}()}]),t}();e.default=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(94),a=(n=i)&&n.__esModule?n:{default:n};function s(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}("next")})}}var u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return o(t,null,[{key:"get",value:function(){var t=this;return{priority:0,preRequest:function(){var e=s(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("GET"!==r.method){t.next=2;break}return t.abrupt("return",a.default.handle(r));case 2:case"end":return t.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}(),request:function(){var e=s(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("GET"!==r.method){t.next=2;break}return t.abrupt("return",a.default.handle(r));case 2:case"end":return t.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}(),staticRequest:function(){var e=s(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("GET"!==r.method){t.next=2;break}return t.abrupt("return",a.default.handle(r));case 2:case"end":return t.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()}}}]),t}();e.default=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(5),a=(n=i)&&n.__esModule?n:{default:n};function s(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}("next")})}}var u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return o(t,null,[{key:"handle",value:function(){var e=s(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==r.url.indexOf("form.io")){e.next=2;break}return e.abrupt("return",t.handleExternalAPI(r));case 2:if("form"!==r.type){e.next=4;break}return e.abrupt("return",t.handleLocalForm(r));case 4:if("select"!==r.type||-1===r.url.indexOf("form.io")){e.next=6;break}return e.abrupt("return",t.handleInternalResource(r));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleExternalAPI",value:function(){return null}},{key:"handleLocalForm",value:function(){var t=s(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.default.local().where("data.path","=",e.formio.formId).first();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"handleInternalResource",value:function(){var t=s(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null);case 4:if(t.sent.filter(function(t){return void 0===t.data._id})[0]){t.next=8;break}return t.abrupt("return");case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}]),t}();e.default=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=a(r(33)),i=a(r(2));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return n(t,null,[{key:"string",value:function(){var t,e=(t=regeneratorRuntime.mark(function t(e){var r,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.default.local().first();case 2:return r=t.sent,n=(0,o.default)(e,r.MD5_KEY),t.abrupt("return",n);case 6:case"end":return t.stop()}},t,this)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});t(s)}("next")})});return function(t){return e.apply(this,arguments)}}()}]),t}();e.default=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o,i,a,s,u=r(0),c=(n=u)&&n.__esModule?n:{default:n},l=(a=0,o=regeneratorRuntime.mark(function t(e){var r,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==a){t.next=2;break}throw new Error("You must asign a timeframe. Cannot Schedule every 0 milliseconds. Did you call function every()?");case 2:r=function(t,e){var r=Date.now,n="undefined"!=typeof window&&window.requestAnimationFrame,o=r(),i=void 0;return n(function a(){r()-o<e||(o+=e,t()),i||n(a)}),{clear:function(){i=1}}},n=c.default.debounce(e,2e3),r(n,milliseconds);case 5:case"end":return t.stop()}},t,void 0)}),i=function(){var t=o.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(t){return void r(t)}if(!a.done)return Promise.resolve(s).then(function(t){n("next",t)},function(t){n("throw",t)});e(s)}("next")})},s=function(t){return i.apply(this,arguments)},Object.freeze({set:s,every:function(t){a=t}}));e.default=l}])},function(t,e,r){var n=r(4),o=r(1),i=r(0),a=r(5),s=r(10),u=r(6),c=r(7),l=Array.prototype.slice;function f(t,e){var r=function t(e){var r=t.compose||{},n={__proto__:r.methods};if(c(n,r.deepProperties),u(n,r.properties),Object.defineProperties(n,r.propertyDescriptors||{}),!r.initializers||0===r.initializers.length)return n;void 0===e&&(e={});for(var i=r.initializers,a=i.length,s=0;s<a;s+=1){var f=i[s];if(o(f)){var h=f.call(n,e,{instance:n,stamp:t,args:l.apply(arguments)});n=void 0===h?n:h}}return n};t.staticDeepProperties&&c(r,t.staticDeepProperties),t.staticProperties&&u(r,t.staticProperties),t.staticPropertyDescriptors&&Object.defineProperties(r,t.staticPropertyDescriptors);var n=o(r.compose)?r.compose:e;return r.compose=function(){"use strict";return n.apply(this,arguments)},u(r.compose,t),r}function h(t,e,r){if(n(e)){var i=e.length,a=t[r]||[];t[r]=a;for(var s=0;s<i;s+=1){var u=e[s];o(u)&&a.indexOf(u)<0&&a.push(u)}}}function p(t,e,r,n){i(e[r])&&(i(t[r])||(t[r]={}),n(t[r],e[r]))}function d(t,e,r){p(t,e,r,c)}function v(t,e,r){p(t,e,r,u)}function y(t,e){var r=e&&e.compose||e;v(t,r,"methods"),v(t,r,"properties"),d(t,r,"deepProperties"),v(t,r,"propertyDescriptors"),v(t,r,"staticProperties"),d(t,r,"staticDeepProperties"),v(t,r,"staticPropertyDescriptors"),v(t,r,"configuration"),d(t,r,"deepConfiguration"),h(t,r.initializers,"initializers"),h(t,r.composers,"composers")}t.exports=function t(){"use strict";var e={},r=[];s(this)&&(y(e,this),r.push(this));for(var o=0;o<arguments.length;o++){var i=arguments[o];s(i)&&(y(e,i),r.push(i))}var u=f(e,t),c=e.composers;if(n(c)&&c.length>0)for(var l=0;l<c.length;l+=1){var h=(0,c[l])({stamp:u,composables:r});u=a(h)?h:u}return u}},function(t,e){t.exports=Array.isArray},function(t,e,r){var n=r(1);t.exports=function(t){return n(t)&&n(t.compose)}},function(t,e){t.exports=Object.assign},function(t,e,r){var n=r(11),o=r(0),i=r(4);function a(t,e){if(void 0===e)return t;if(i(e))return(i(t)?t:[]).concat(e);if(!n(e))return e;for(var r=o(t)?t:{},s=Object.keys(e),u=0;u<s.length;u+=1){var c=s[u],l=e[c];if(void 0!==l){var f=r[c],h=n(f)||i(l)?f:{};r[c]=a(h,l)}}return r}t.exports=function(t){for(var e=1;e<arguments.length;e++)t=a(t,arguments[e]);return t}},function(t,e,r){var n=r(3),o=r(12),i=r(5),a=r(13),s=r(0),u=r(1),c=r(7),l=r(6),f=Array.prototype.concat;function h(){var t=f.apply([],arguments).filter(u);return 0===t.length?void 0:t}function p(t){if(!s(t))return t;var e=t.methods,r=t.properties,n=t.props,o=t.initializers,i=t.init,u=t.composers,f=t.deepProperties,p=t.deepProps,d=t.propertyDescriptors,v=t.staticProperties,y=t.statics,m=t.staticDeepProperties,g=t.deepStatics,b=t.configuration,w=t.conf,x=t.deepConfiguration,_=t.deepConf,k=s(n)||s(r)?l({},n,r):void 0,S=s(p)?c({},p):void 0;S=s(f)?c(S,f):S;var O=s(y)||s(v)?l({},y,v):void 0,E=s(g)?c({},g):void 0;E=s(m)?c(E,m):E;var P=t.staticPropertyDescriptors;a(t.name)&&(P=l({},P||{},{name:{value:t.name}}));var A=s(w)||s(b)?l({},w,b):void 0,C=s(_)?c({},_):void 0;C=s(x)?c(C,x):C;var T=h(i,o),R=h(u),M={};return e&&(M.methods=e),k&&(M.properties=k),T&&(M.initializers=T),R&&(M.composers=R),S&&(M.deepProperties=S),O&&(M.staticProperties=O),E&&(M.staticDeepProperties=E),d&&(M.propertyDescriptors=d),P&&(M.staticPropertyDescriptors=P),A&&(M.configuration=A),C&&(M.deepConfiguration=C),M}function d(){"use strict";for(var t=arguments.length,e=[],r=0;r<t;r+=1){var o=arguments[r];e.push(i(o)?o:p(o))}return n.apply(this||v,e)}var v=o.compose({staticProperties:{create:function(){return this.apply(this,arguments)},compose:d}}),y=o.compose.staticProperties;for(var m in y)d[m]=y[m].bind(v);d.compose=d.bind(),t.exports=d},function(t,e,r){t.exports=r(14)},function(t,e,r){t.exports=r(0)},function(t,e){t.exports=function(t){return Boolean(t)&&"object"==typeof t&&Object.getPrototypeOf(t)===Object.prototype}},function(t,e,r){var n=r(3);function o(t){return function(e){"use strict";var r={};return r[t]=e,this&&this.compose?this.compose(r):n(r)}}var i=o("properties"),a=o("staticProperties"),s=o("configuration"),u=o("deepProperties"),c=o("staticDeepProperties"),l=o("deepConfiguration"),f=o("initializers");t.exports=n({staticProperties:{methods:o("methods"),props:i,properties:i,statics:a,staticProperties:a,conf:s,configuration:s,deepProps:u,deepProperties:u,deepStatics:c,staticDeepProperties:c,deepConf:l,deepConfiguration:l,init:f,initializers:f,composers:o("composers"),propertyDescriptors:o("propertyDescriptors"),staticPropertyDescriptors:o("staticPropertyDescriptors")}})},function(t,e){t.exports=function(t){return"string"==typeof t}},function(t,e,r){(function(e){
/*!
 * Pusher JavaScript Library v4.4.0
 * https://pusher.com/
 *
 * Copyright 2017, Pusher
 * Released under the MIT licence.
 */
t.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}return r.m=t,r.c=e,r.p="",r(0)}([function(t,e,r){"use strict";var n=r(1);t.exports=n.default},function(t,r,n){"use strict";var o=n(2),i=n(4),a=n(14),s=n(31),u=n(32),c=n(33),l=n(7),f=n(11),h=n(59),p=n(16),d=n(35),v=n(29),y=function(){function t(e,r){var n=this;if(function(t){if(null==t)throw"You must pass your app key when you instantiate Pusher."}(e),!(r=r||{}).cluster&&!r.wsHost&&!r.httpHost){var l=v.default.buildLogSuffix("javascriptQuickStart");p.default.warn("You should always specify a cluster when connecting. "+l)}this.key=e,this.config=i.extend(h.getGlobalConfig(),r.cluster?h.getClusterConfig(r.cluster):{},r),this.channels=d.default.createChannels(),this.global_emitter=new a.default,this.sessionID=Math.floor(1e9*Math.random()),this.timeline=new s.default(this.key,this.sessionID,{cluster:this.config.cluster,features:t.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:u.default.INFO,version:f.default.VERSION}),this.config.disableStats||(this.timelineSender=d.default.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+o.default.TimelineTransport.name}));this.connection=d.default.createConnectionManager(this.key,i.extend({getStrategy:function(t){var e=i.extend({},n.config,t);return c.build(o.default.getDefaultStrategy(e),e)},timeline:this.timeline,activityTimeout:this.config.activity_timeout,pongTimeout:this.config.pong_timeout,unavailableTimeout:this.config.unavailable_timeout},this.config,{useTLS:this.shouldUseTLS()})),this.connection.bind("connected",function(){n.subscribeAll(),n.timelineSender&&n.timelineSender.send(n.connection.isUsingTLS())}),this.connection.bind("message",function(t){var e=0===t.event.indexOf("pusher_internal:");if(t.channel){var r=n.channel(t.channel);r&&r.handleEvent(t)}e||n.global_emitter.emit(t.event,t.data)}),this.connection.bind("connecting",function(){n.channels.disconnect()}),this.connection.bind("disconnected",function(){n.channels.disconnect()}),this.connection.bind("error",function(t){p.default.warn("Error",t)}),t.instances.push(this),this.timeline.info({instances:t.instances.length}),t.isReady&&this.connect()}return t.ready=function(){t.isReady=!0;for(var e=0,r=t.instances.length;e<r;e++)t.instances[e].connect()},t.log=function(r){t.logToConsole&&e.console&&e.console.log&&e.console.log(r)},t.getClientFeatures=function(){return i.keys(i.filterObject({ws:o.default.Transports.ws},function(t){return t.isSupported({})}))},t.prototype.channel=function(t){return this.channels.find(t)},t.prototype.allChannels=function(){return this.channels.all()},t.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var t=this.connection.isUsingTLS(),e=this.timelineSender;this.timelineSenderTimer=new l.PeriodicTimer(6e4,function(){e.send(t)})}},t.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},t.prototype.bind=function(t,e,r){return this.global_emitter.bind(t,e,r),this},t.prototype.unbind=function(t,e,r){return this.global_emitter.unbind(t,e,r),this},t.prototype.bind_global=function(t){return this.global_emitter.bind_global(t),this},t.prototype.unbind_global=function(t){return this.global_emitter.unbind_global(t),this},t.prototype.unbind_all=function(t){return this.global_emitter.unbind_all(),this},t.prototype.subscribeAll=function(){var t;for(t in this.channels.channels)this.channels.channels.hasOwnProperty(t)&&this.subscribe(t)},t.prototype.subscribe=function(t){var e=this.channels.add(t,this);return e.subscriptionPending&&e.subscriptionCancelled?e.reinstateSubscription():e.subscriptionPending||"connected"!==this.connection.state||e.subscribe(),e},t.prototype.unsubscribe=function(t){var e=this.channels.find(t);e&&e.subscriptionPending?e.cancelSubscription():(e=this.channels.remove(t))&&"connected"===this.connection.state&&e.unsubscribe()},t.prototype.send_event=function(t,e,r){return this.connection.send_event(t,e,r)},t.prototype.shouldUseTLS=function(){return"https:"===o.default.getProtocol()||(!0===this.config.forceTLS||Boolean(this.config.encrypted))},t.instances=[],t.isReady=!1,t.logToConsole=!1,t.Runtime=o.default,t.ScriptReceivers=o.default.ScriptReceivers,t.DependenciesReceivers=o.default.DependenciesReceivers,t.auth_callbacks=o.default.auth_callbacks,t}();r.__esModule=!0,r.default=y,o.default.setup(y)},function(t,e,r){"use strict";var n=r(3),o=r(26),i=r(28),a=r(30),s={getDefaultStrategy:n.default.getDefaultStrategy,Transports:n.default.Transports,setup:n.default.setup,getProtocol:n.default.getProtocol,isXHRSupported:n.default.isXHRSupported,getLocalStorage:n.default.getLocalStorage,createXHR:n.default.createXHR,createWebSocket:n.default.createWebSocket,addUnloadListener:n.default.addUnloadListener,removeUnloadListener:n.default.removeUnloadListener,transportConnectionInitializer:n.default.transportConnectionInitializer,createSocketRequest:n.default.createSocketRequest,HTTPFactory:n.default.HTTPFactory,TimelineTransport:a.default,getAuthorizers:function(){return{ajax:i.default}},getWebSocketAPI:function(){return WebSocket},getXHRAPI:function(){return XMLHttpRequest},getNetwork:function(){return o.Network}};e.__esModule=!0,e.default=s},function(t,e,r){"use strict";var n=r(4),o=r(9),i=r(17),a=r(18),s=r(19),u={getDefaultStrategy:i.default,Transports:o.default,transportConnectionInitializer:a.default,HTTPFactory:s.default,setup:function(t){t.ready()},getLocalStorage:function(){},getClientFeatures:function(){return n.keys(n.filterObject({ws:o.default.ws},function(t){return t.isSupported({})}))},getProtocol:function(){return"http:"},isXHRSupported:function(){return!0},createSocketRequest:function(t,e){if(this.isXHRSupported())return this.HTTPFactory.createXHR(t,e);throw"Cross-origin HTTP requests are not supported"},createXHR:function(){return new(this.getXHRAPI())},createWebSocket:function(t){return new(this.getWebSocketAPI())(t)},addUnloadListener:function(t){},removeUnloadListener:function(t){}};e.__esModule=!0,e.default=u},function(t,r,n){"use strict";var o=n(5),i=n(6);function a(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}function s(t,e){for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n,t,r));return r}function u(t,e){var r={};return a(t,function(t,n){r[n]=e(t)}),r}function c(t,e){var r={};return a(t,function(n,o){(e&&e(n,o,t,r)||Boolean(n))&&(r[o]=n)}),r}function l(t){var e=[];return a(t,function(t,r){e.push([r,t])}),e}function f(t){return u(t,function(t){return"object"==typeof t&&(t=p(t)),encodeURIComponent(o.default(t.toString()))})}function h(t){var e=[],r=[];return function t(n,o){var i,a,s;switch(typeof n){case"object":if(!n)return null;for(i=0;i<e.length;i+=1)if(e[i]===n)return{$ref:r[i]};if(e.push(n),r.push(o),"[object Array]"===Object.prototype.toString.apply(n))for(s=[],i=0;i<n.length;i+=1)s[i]=t(n[i],o+"["+i+"]");else for(a in s={},n)Object.prototype.hasOwnProperty.call(n,a)&&(s[a]=t(n[a],o+"["+JSON.stringify(a)+"]"));return s;case"number":case"string":case"boolean":return n}}(t,"$")}function p(t){try{return JSON.stringify(t)}catch(e){return JSON.stringify(h(t))}}r.extend=function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];for(var o=0;o<r.length;o++){var i=r[o];for(var a in i)i[a]&&i[a].constructor&&i[a].constructor===Object?e[a]=t(e[a]||{},i[a]):e[a]=i[a]}return e},r.stringify=function(){for(var t=["Pusher"],e=0;e<arguments.length;e++)"string"==typeof arguments[e]?t.push(arguments[e]):t.push(p(arguments[e]));return t.join(" : ")},r.arrayIndexOf=function(t,e){var r=Array.prototype.indexOf;if(null===t)return-1;if(r&&t.indexOf===r)return t.indexOf(e);for(var n=0,o=t.length;n<o;n++)if(t[n]===e)return n;return-1},r.objectApply=a,r.keys=function(t){var e=[];return a(t,function(t,r){e.push(r)}),e},r.values=function(t){var e=[];return a(t,function(t){e.push(t)}),e},r.apply=function(t,r,n){for(var o=0;o<t.length;o++)r.call(n||e,t[o],o,t)},r.map=s,r.mapObject=u,r.filter=function(t,e){e=e||function(t){return!!t};for(var r=[],n=0;n<t.length;n++)e(t[n],n,t,r)&&r.push(t[n]);return r},r.filterObject=c,r.flatten=l,r.any=function(t,e){for(var r=0;r<t.length;r++)if(e(t[r],r,t))return!0;return!1},r.all=function(t,e){for(var r=0;r<t.length;r++)if(!e(t[r],r,t))return!1;return!0},r.encodeParamsObject=f,r.buildQueryString=function(t){return s(l(f(c(t,function(t){return void 0!==t}))),i.default.method("join","=")).join("&")},r.decycleObject=h,r.safeJSONStringify=p},function(t,r){"use strict";r.__esModule=!0,r.default=function(t){return f(c(t))};for(var n=String.fromCharCode,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i={},a=0,s=o.length;a<s;a++)i[o.charAt(a)]=a;var u=function(t){var e=t.charCodeAt(0);return e<128?t:e<2048?n(192|e>>>6)+n(128|63&e):n(224|e>>>12&15)+n(128|e>>>6&63)+n(128|63&e)},c=function(t){return t.replace(/[^\x00-\x7F]/g,u)},l=function(t){var e=[0,2,1][t.length%3],r=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[o.charAt(r>>>18),o.charAt(r>>>12&63),e>=2?"=":o.charAt(r>>>6&63),e>=1?"=":o.charAt(63&r)].join("")},f=e.btoa||function(t){return t.replace(/[\s\S]{1,3}/g,l)}},function(t,e,r){"use strict";var n=r(7),o={now:function(){return Date.now?Date.now():(new Date).valueOf()},defer:function(t){return new n.OneOffTimer(0,t)},method:function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=Array.prototype.slice.call(arguments,1);return function(e){return e[t].apply(e,n.concat(arguments))}}};e.__esModule=!0,e.default=o},function(t,r,n){"use strict";var o=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(8);function a(t){e.clearTimeout(t)}function s(t){e.clearInterval(t)}var u=function(t){function e(e,r){t.call(this,setTimeout,a,e,function(t){return r(),null})}return o(e,t),e}(i.default);r.OneOffTimer=u;var c=function(t){function e(e,r){t.call(this,setInterval,s,e,function(t){return r(),t})}return o(e,t),e}(i.default);r.PeriodicTimer=c},function(t,e){"use strict";var r=function(){function t(t,e,r,n){var o=this;this.clear=e,this.timer=t(function(){o.timer&&(o.timer=n(o.timer))},r)}return t.prototype.isRunning=function(){return null!==this.timer},t.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},t}();e.__esModule=!0,e.default=r},function(t,e,r){"use strict";var n=r(10),o=r(12),i=r(4),a=r(2),s=new o.default({urls:n.ws,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(a.default.getWebSocketAPI())},isSupported:function(){return Boolean(a.default.getWebSocketAPI())},getSocket:function(t){return a.default.createWebSocket(t)}}),u={urls:n.http,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}};e.streamingConfiguration=i.extend({getSocket:function(t){return a.default.HTTPFactory.createStreamingSocket(t)}},u),e.pollingConfiguration=i.extend({getSocket:function(t){return a.default.HTTPFactory.createPollingSocket(t)}},u);var c={isSupported:function(){return a.default.isXHRSupported()}},l={ws:s,xhr_streaming:new o.default(i.extend({},e.streamingConfiguration,c)),xhr_polling:new o.default(i.extend({},e.pollingConfiguration,c))};e.__esModule=!0,e.default=l},function(t,e,r){"use strict";var n=r(11);function o(t,e,r){return t+(e.useTLS?"s":"")+"://"+(e.useTLS?e.hostTLS:e.hostNonTLS)+r}function i(t,e){return"/app/"+t+("?protocol="+n.default.PROTOCOL+"&client=js&version="+n.default.VERSION+(e?"&"+e:""))}e.ws={getInitial:function(t,e){return o("ws",e,(e.httpPath||"")+i(t,"flash=false"))}},e.http={getInitial:function(t,e){return o("http",e,(e.httpPath||"/pusher")+i(t))}},e.sockjs={getInitial:function(t,e){return o("http",e,e.httpPath||"/pusher")},getPath:function(t,e){return i(t)}}},function(t,e){"use strict";e.__esModule=!0,e.default={VERSION:"4.4.0",PROTOCOL:7,host:"ws.pusherapp.com",ws_port:80,wss_port:443,ws_path:"",sockjs_host:"sockjs.pusher.com",sockjs_http_port:80,sockjs_https_port:443,sockjs_path:"/pusher",stats_host:"stats.pusher.com",channel_auth_endpoint:"/pusher/auth",channel_auth_transport:"ajax",activity_timeout:12e4,pong_timeout:3e4,unavailable_timeout:1e4,cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""}},function(t,e,r){"use strict";var n=r(13),o=function(){function t(t){this.hooks=t}return t.prototype.isSupported=function(t){return this.hooks.isSupported(t)},t.prototype.createConnection=function(t,e,r,o){return new n.default(this.hooks,t,e,r,o)},t}();e.__esModule=!0,e.default=o},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=r(6),i=r(4),a=r(14),s=r(16),u=r(2),c=function(t){function e(e,r,n,o,i){t.call(this),this.initialize=u.default.transportConnectionInitializer,this.hooks=e,this.name=r,this.priority=n,this.key=o,this.options=i,this.state="new",this.timeline=i.timeline,this.activityTimeout=i.activityTimeout,this.id=this.timeline.generateUniqueID()}return n(e,t),e.prototype.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},e.prototype.supportsPing=function(){return Boolean(this.hooks.supportsPing)},e.prototype.connect=function(){var t=this;if(this.socket||"initialized"!==this.state)return!1;var e=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(e,this.options)}catch(e){return o.default.defer(function(){t.onError(e),t.changeState("closed")}),!1}return this.bindListeners(),s.default.debug("Connecting",{transport:this.name,url:e}),this.changeState("connecting"),!0},e.prototype.close=function(){return!!this.socket&&(this.socket.close(),!0)},e.prototype.send=function(t){var e=this;return"open"===this.state&&(o.default.defer(function(){e.socket&&e.socket.send(t)}),!0)},e.prototype.ping=function(){"open"===this.state&&this.supportsPing()&&this.socket.ping()},e.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},e.prototype.onError=function(t){this.emit("error",{type:"WebSocketError",error:t}),this.timeline.error(this.buildTimelineMessage({error:t.toString()}))},e.prototype.onClose=function(t){t?this.changeState("closed",{code:t.code,reason:t.reason,wasClean:t.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},e.prototype.onMessage=function(t){this.emit("message",t)},e.prototype.onActivity=function(){this.emit("activity")},e.prototype.bindListeners=function(){var t=this;this.socket.onopen=function(){t.onOpen()},this.socket.onerror=function(e){t.onError(e)},this.socket.onclose=function(e){t.onClose(e)},this.socket.onmessage=function(e){t.onMessage(e)},this.supportsPing()&&(this.socket.onactivity=function(){t.onActivity()})},e.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},e.prototype.changeState=function(t,e){this.state=t,this.timeline.info(this.buildTimelineMessage({state:t,params:e})),this.emit(t,e)},e.prototype.buildTimelineMessage=function(t){return i.extend({cid:this.id},t)},e}(a.default);e.__esModule=!0,e.default=c},function(t,r,n){"use strict";var o=n(4),i=n(15),a=function(){function t(t){this.callbacks=new i.default,this.global_callbacks=[],this.failThrough=t}return t.prototype.bind=function(t,e,r){return this.callbacks.add(t,e,r),this},t.prototype.bind_global=function(t){return this.global_callbacks.push(t),this},t.prototype.unbind=function(t,e,r){return this.callbacks.remove(t,e,r),this},t.prototype.unbind_global=function(t){return t?(this.global_callbacks=o.filter(this.global_callbacks||[],function(e){return e!==t}),this):(this.global_callbacks=[],this)},t.prototype.unbind_all=function(){return this.unbind(),this.unbind_global(),this},t.prototype.emit=function(t,r,n){for(var o=0;o<this.global_callbacks.length;o++)this.global_callbacks[o](t,r);var i=this.callbacks.get(t),a=[];if(n?a.push(r,n):r&&a.push(r),i&&i.length>0)for(o=0;o<i.length;o++)i[o].fn.apply(i[o].context||e,a);else this.failThrough&&this.failThrough(t,r);return this},t}();r.__esModule=!0,r.default=a},function(t,e,r){"use strict";var n=r(4),o=function(){function t(){this._callbacks={}}return t.prototype.get=function(t){return this._callbacks[i(t)]},t.prototype.add=function(t,e,r){var n=i(t);this._callbacks[n]=this._callbacks[n]||[],this._callbacks[n].push({fn:e,context:r})},t.prototype.remove=function(t,e,r){if(t||e||r){var o=t?[i(t)]:n.keys(this._callbacks);e||r?this.removeCallback(o,e,r):this.removeAllCallbacks(o)}else this._callbacks={}},t.prototype.removeCallback=function(t,e,r){n.apply(t,function(t){this._callbacks[t]=n.filter(this._callbacks[t]||[],function(t){return e&&e!==t.fn||r&&r!==t.context}),0===this._callbacks[t].length&&delete this._callbacks[t]},this)},t.prototype.removeAllCallbacks=function(t){n.apply(t,function(t){delete this._callbacks[t]},this)},t}();function i(t){return"_"+t}e.__esModule=!0,e.default=o},function(t,r,n){"use strict";var o=n(4),i=n(1),a={debug:function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];i.default.log&&i.default.log(o.stringify.apply(this,arguments))},warn:function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var n=o.stringify.apply(this,arguments);i.default.log?i.default.log(n):e.console&&(e.console.warn?e.console.warn(n):e.console.log&&e.console.log(n))}};r.__esModule=!0,r.default=a},function(t,e){"use strict";e.__esModule=!0,e.default=function(t){var e;return e=t.useTLS?[":best_connected_ever",":ws_loop",[":delayed",2e3,[":http_loop"]]]:[":best_connected_ever",":ws_loop",[":delayed",2e3,[":wss_loop"]],[":delayed",5e3,[":http_loop"]]],[[":def","ws_options",{hostNonTLS:t.wsHost+":"+t.wsPort,hostTLS:t.wsHost+":"+t.wssPort,httpPath:t.wsPath}],[":def","wss_options",[":extend",":ws_options",{useTLS:!0}]],[":def","http_options",{hostNonTLS:t.httpHost+":"+t.httpPort,hostTLS:t.httpHost+":"+t.httpsPort,httpPath:t.httpPath}],[":def","timeouts",{loop:!0,timeout:15e3,timeoutLimit:6e4}],[":def","ws_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:t.activity_timeout}]],[":def","streaming_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:t.activity_timeout}]],[":def_transport","ws","ws",3,":ws_options",":ws_manager"],[":def_transport","wss","ws",3,":wss_options",":ws_manager"],[":def_transport","xhr_streaming","xhr_streaming",1,":http_options",":streaming_manager"],[":def_transport","xhr_polling","xhr_polling",1,":http_options"],[":def","ws_loop",[":sequential",":timeouts",":ws"]],[":def","wss_loop",[":sequential",":timeouts",":wss"]],[":def","streaming_loop",[":sequential",":timeouts",":xhr_streaming"]],[":def","polling_loop",[":sequential",":timeouts",":xhr_polling"]],[":def","http_loop",[":if",[":is_supported",":streaming_loop"],[":best_connected_ever",":streaming_loop",[":delayed",4e3,[":polling_loop"]]],[":polling_loop"]]],[":def","strategy",[":cached",18e5,[":first_connected",[":if",[":is_supported",":ws"],e,":http_loop"]]]]]}},function(t,e){"use strict";e.__esModule=!0,e.default=function(){this.timeline.info(this.buildTimelineMessage({transport:this.name+(this.options.useTLS?"s":"")})),this.hooks.isInitialized()?this.changeState("initialized"):this.onClose()}},function(t,e,r){"use strict";var n=r(20),o=r(21),i=r(23),a=r(24),s=r(25),u={createStreamingSocket:function(t){return this.createSocket(i.default,t)},createPollingSocket:function(t){return this.createSocket(a.default,t)},createSocket:function(t,e){return new o.default(t,e)},createXHR:function(t,e){return this.createRequest(s.default,t,e)},createRequest:function(t,e,r){return new n.default(t,e,r)}};e.__esModule=!0,e.default=u},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=r(2),i=r(14),a=function(t){function e(e,r,n){t.call(this),this.hooks=e,this.method=r,this.url=n}return n(e,t),e.prototype.start=function(t){var e=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){e.close()},o.default.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(t)},e.prototype.close=function(){this.unloader&&(o.default.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},e.prototype.onChunk=function(t,e){for(;;){var r=this.advanceBuffer(e);if(!r)break;this.emit("chunk",{status:t,data:r})}this.isBufferTooLong(e)&&this.emit("buffer_too_long")},e.prototype.advanceBuffer=function(t){var e=t.slice(this.position),r=e.indexOf("\n");return-1!==r?(this.position+=r+1,e.slice(0,r)):null},e.prototype.isBufferTooLong=function(t){return this.position===t.length&&t.length>262144},e}(i.default);e.__esModule=!0,e.default=a},function(t,e,r){"use strict";var n=r(22),o=r(6),i=r(2),a=1,s=function(){function t(t,e){this.hooks=t,this.session=c(1e3)+"/"+function(t){for(var e=[],r=0;r<t;r++)e.push(c(32).toString(32));return e.join("")}(8),this.location=function(t){var e=/([^\?]*)\/*(\??.*)/.exec(t);return{base:e[1],queryString:e[2]}}(e),this.readyState=n.default.CONNECTING,this.openStream()}return t.prototype.send=function(t){return this.sendRaw(JSON.stringify([t]))},t.prototype.ping=function(){this.hooks.sendHeartbeat(this)},t.prototype.close=function(t,e){this.onClose(t,e,!0)},t.prototype.sendRaw=function(t){if(this.readyState!==n.default.OPEN)return!1;try{return i.default.createSocketRequest("POST",u((e=this.location,r=this.session,e.base+"/"+r+"/xhr_send"))).start(t),!0}catch(t){return!1}var e,r},t.prototype.reconnect=function(){this.closeStream(),this.openStream()},t.prototype.onClose=function(t,e,r){this.closeStream(),this.readyState=n.default.CLOSED,this.onclose&&this.onclose({code:t,reason:e,wasClean:r})},t.prototype.onChunk=function(t){var e;if(200===t.status)switch(this.readyState===n.default.OPEN&&this.onActivity(),t.data.slice(0,1)){case"o":e=JSON.parse(t.data.slice(1)||"{}"),this.onOpen(e);break;case"a":e=JSON.parse(t.data.slice(1)||"[]");for(var r=0;r<e.length;r++)this.onEvent(e[r]);break;case"m":e=JSON.parse(t.data.slice(1)||"null"),this.onEvent(e);break;case"h":this.hooks.onHeartbeat(this);break;case"c":e=JSON.parse(t.data.slice(1)||"[]"),this.onClose(e[0],e[1],!0)}},t.prototype.onOpen=function(t){var e,r,o;this.readyState===n.default.CONNECTING?(t&&t.hostname&&(this.location.base=(e=this.location.base,r=t.hostname,(o=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(e))[1]+r+o[3])),this.readyState=n.default.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},t.prototype.onEvent=function(t){this.readyState===n.default.OPEN&&this.onmessage&&this.onmessage({data:t})},t.prototype.onActivity=function(){this.onactivity&&this.onactivity()},t.prototype.onError=function(t){this.onerror&&this.onerror(t)},t.prototype.openStream=function(){var t=this;this.stream=i.default.createSocketRequest("POST",u(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",function(e){t.onChunk(e)}),this.stream.bind("finished",function(e){t.hooks.onFinished(t,e)}),this.stream.bind("buffer_too_long",function(){t.reconnect()});try{this.stream.start()}catch(e){o.default.defer(function(){t.onError(e),t.onClose(1006,"Could not start streaming",!1)})}},t.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},t}();function u(t){var e=-1===t.indexOf("?")?"?":"&";return t+e+"t="+ +new Date+"&n="+a++}function c(t){return Math.floor(Math.random()*t)}e.__esModule=!0,e.default=s},function(t,e){"use strict";var r;!function(t){t[t.CONNECTING=0]="CONNECTING",t[t.OPEN=1]="OPEN",t[t.CLOSED=3]="CLOSED"}(r||(r={})),e.__esModule=!0,e.default=r},function(t,e){"use strict";e.__esModule=!0,e.default={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr_streaming"+t.queryString},onHeartbeat:function(t){t.sendRaw("[]")},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){t.onClose(1006,"Connection interrupted ("+e+")",!1)}}},function(t,e){"use strict";e.__esModule=!0,e.default={getReceiveURL:function(t,e){return t.base+"/"+e+"/xhr"+t.queryString},onHeartbeat:function(){},sendHeartbeat:function(t){t.sendRaw("[]")},onFinished:function(t,e){200===e?t.reconnect():t.onClose(1006,"Connection interrupted ("+e+")",!1)}}},function(t,e,r){"use strict";var n=r(2),o={getRequest:function(t){var e=new(n.default.getXHRAPI());return e.onreadystatechange=e.onprogress=function(){switch(e.readyState){case 3:e.responseText&&e.responseText.length>0&&t.onChunk(e.status,e.responseText);break;case 4:e.responseText&&e.responseText.length>0&&t.onChunk(e.status,e.responseText),t.emit("finished",e.status),t.close()}},e},abortRequest:function(t){t.onreadystatechange=null,t.abort()}};e.__esModule=!0,e.default=o},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=r(27);function i(t){return"none"!==t.type.toLowerCase()}var a=function(t){function e(){var e=this;t.call(this),this.online=!0,o.NetInfo.getConnectionInfo().then(function(t){e.online=i(t)}),o.NetInfo.addEventListener("connectionChange",function(t){var r=i(t);e.online!==r&&(e.online=r,e.online?e.emit("online"):e.emit("offline"))})}return n(e,t),e.prototype.isOnline=function(){return this.online},e}(r(14).default);e.NetInfo=a,e.Network=new a},function(t,e){t.exports=r(16)},function(t,e,r){"use strict";var n=r(16),o=r(2),i=r(29);e.__esModule=!0,e.default=function(t,e,r){var a;for(var s in(a=o.default.createXHR()).open("POST",this.options.authEndpoint,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this.authOptions.headers)a.setRequestHeader(s,this.authOptions.headers[s]);return a.onreadystatechange=function(){if(4===a.readyState)if(200===a.status){var t,e=!1;try{t=JSON.parse(a.responseText),e=!0}catch(t){r(!0,"JSON returned from webapp was invalid, yet status code was 200. Data was: "+a.responseText)}e&&r(!1,t)}else{var o=i.default.buildLogSuffix("authenticationEndpoint");n.default.warn("Couldn't retrieve authentication info. "+a.status+"Clients must be authenticated to join private or presence channels. "+o),r(!0,a.status)}},a.send(this.composeQuery(e)),a}},function(t,e){"use strict";var r={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/authenticating_users"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"}}};e.__esModule=!0,e.default={buildLogSuffix:function(t){var e,n=r.urls[t];return n?(n.fullUrl?e=n.fullUrl:n.path&&(e=r.baseUrl+n.path),e?"See: "+e:""):""}}},function(t,e,r){"use strict";var n=r(16),o=r(4),i=r(2),a={name:"xhr",getAgent:function(t,e){return function(r,a){var s="http"+(e?"s":"")+"://"+(t.host||t.options.host)+t.options.path;s+="/2?"+o.buildQueryString(r);var u=i.default.createXHR();u.open("GET",s,!0),u.onreadystatechange=function(){if(4===u.readyState){var e=u.status,r=u.responseText;if(200!==e)return void n.default.debug("TimelineSender Error: received "+e+" from stats.pusher.com");try{var o=JSON.parse(r).host}catch(t){n.default.debug("TimelineSenderError: invalid response "+r)}o&&(t.host=o)}},u.send()}}};e.__esModule=!0,e.default=a},function(t,e,r){"use strict";var n=r(4),o=r(6),i=r(32),a=function(){function t(t,e,r){this.key=t,this.session=e,this.events=[],this.options=r||{},this.sent=0,this.uniqueID=0}return t.prototype.log=function(t,e){t<=this.options.level&&(this.events.push(n.extend({},e,{timestamp:o.default.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},t.prototype.error=function(t){this.log(i.default.ERROR,t)},t.prototype.info=function(t){this.log(i.default.INFO,t)},t.prototype.debug=function(t){this.log(i.default.DEBUG,t)},t.prototype.isEmpty=function(){return 0===this.events.length},t.prototype.send=function(t,e){var r=this,o=n.extend({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],t(o,function(t,n){t||r.sent++,e&&e(t,n)}),!0},t.prototype.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},t}();e.__esModule=!0,e.default=a},function(t,e){"use strict";var r;!function(t){t[t.ERROR=3]="ERROR",t[t.INFO=6]="INFO",t[t.DEBUG=7]="DEBUG"}(r||(r={})),e.__esModule=!0,e.default=r},function(t,e,r){"use strict";var n=r(4),o=r(6),i=r(34),a=r(45),s=r(52),u=r(53),c=r(54),l=r(55),f=r(56),h=r(57),p=r(58),d=r(2).default.Transports;e.build=function(t,e){return x(t,n.extend({},m,e))[1].strategy};var v={isSupported:function(){return!1},connect:function(t,e){var r=o.default.defer(function(){e(new a.UnsupportedStrategy)});return{abort:function(){r.ensureAborted()},forceMinPriority:function(){}}}};function y(t){return function(e){return[t.apply(this,arguments),e]}}var m={extend:function(t,e,r){return[n.extend({},e,r),t]},def:function(t,e,r){if(void 0!==t[e])throw"Redefining symbol "+e;return t[e]=r,[void 0,t]},def_transport:function(t,e,r,o,i,u){var c,l=d[r];if(!l)throw new a.UnsupportedTransport(r);c=!(t.enabledTransports&&-1===n.arrayIndexOf(t.enabledTransports,e)||t.disabledTransports&&-1!==n.arrayIndexOf(t.disabledTransports,e))?new s.default(e,o,u?u.getAssistant(l):l,n.extend({key:t.key,useTLS:t.useTLS,timeline:t.timeline,ignoreNullOrigin:t.ignoreNullOrigin},i)):v;var f=t.def(t,e,c)[1];return f.Transports=t.Transports||{},f.Transports[e]=c,[void 0,f]},transport_manager:y(function(t,e){return new i.default(e)}),sequential:y(function(t,e){var r=Array.prototype.slice.call(arguments,2);return new u.default(r,e)}),cached:y(function(t,e,r){return new l.default(r,t.Transports,{ttl:e,timeline:t.timeline,useTLS:t.useTLS})}),first_connected:y(function(t,e){return new p.default(e)}),best_connected_ever:y(function(){var t=Array.prototype.slice.call(arguments,1);return new c.default(t)}),delayed:y(function(t,e,r){return new f.default(r,{delay:e})}),if:y(function(t,e,r,n){return new h.default(e,r,n)}),is_supported:y(function(t,e){return function(){return e.isSupported()}})};function g(t){return"string"==typeof t&&":"===t.charAt(0)}function b(t,e){return e[t.slice(1)]}function w(t,e){if(g(t[0])){var r=b(t[0],e);if(t.length>1){if("function"!=typeof r)throw"Calling non-function "+t[0];var o=[n.extend({},e)].concat(n.map(t.slice(1),function(t){return x(t,n.extend({},e))[0]}));return r.apply(this,o)}return[r,e]}return function t(e,r){if(0===e.length)return[[],r];var n=x(e[0],r),o=t(e.slice(1),n[1]);return[[n[0]].concat(o[0]),o[1]]}(t,e)}function x(t,e){return"string"==typeof t?function(t,e){if(!g(t))return[t,e];var r=b(t,e);if(void 0===r)throw"Undefined symbol "+t;return[r,e]}(t,e):"object"==typeof t&&t instanceof Array&&t.length>0?w(t,e):[t,e]}},function(t,e,r){"use strict";var n=r(35),o=function(){function t(t){this.options=t||{},this.livesLeft=this.options.lives||1/0}return t.prototype.getAssistant=function(t){return n.default.createAssistantToTheTransportManager(this,t,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},t.prototype.isAlive=function(){return this.livesLeft>0},t.prototype.reportDeath=function(){this.livesLeft-=1},t}();e.__esModule=!0,e.default=o},function(t,e,r){"use strict";var n=r(36),o=r(37),i=r(40),a=r(41),s=r(42),u=r(43),c=r(47),l=r(44),f=r(50),h=r(51),p={createChannels:function(){return new h.default},createConnectionManager:function(t,e){return new f.default(t,e)},createChannel:function(t,e){return new l.default(t,e)},createPrivateChannel:function(t,e){return new u.default(t,e)},createPresenceChannel:function(t,e){return new s.default(t,e)},createEncryptedChannel:function(t,e){return new c.default(t,e)},createTimelineSender:function(t,e){return new a.default(t,e)},createAuthorizer:function(t,e){return e.authorizer?e.authorizer(t,e):new i.default(t,e)},createHandshake:function(t,e){return new o.default(t,e)},createAssistantToTheTransportManager:function(t,e,r){return new n.default(t,e,r)}};e.__esModule=!0,e.default=p},function(t,e,r){"use strict";var n=r(6),o=r(4),i=function(){function t(t,e,r){this.manager=t,this.transport=e,this.minPingDelay=r.minPingDelay,this.maxPingDelay=r.maxPingDelay,this.pingDelay=void 0}return t.prototype.createConnection=function(t,e,r,i){var a=this;i=o.extend({},i,{activityTimeout:this.pingDelay});var s=this.transport.createConnection(t,e,r,i),u=null,c=function(){s.unbind("open",c),s.bind("closed",l),u=n.default.now()},l=function(t){if(s.unbind("closed",l),1002===t.code||1003===t.code)a.manager.reportDeath();else if(!t.wasClean&&u){var e=n.default.now()-u;e<2*a.maxPingDelay&&(a.manager.reportDeath(),a.pingDelay=Math.max(e/2,a.minPingDelay))}};return s.bind("open",c),s},t.prototype.isSupported=function(t){return this.manager.isAlive()&&this.transport.isSupported(t)},t}();e.__esModule=!0,e.default=i},function(t,e,r){"use strict";var n=r(4),o=r(38),i=r(39),a=function(){function t(t,e){this.transport=t,this.callback=e,this.bindListeners()}return t.prototype.close=function(){this.unbindListeners(),this.transport.close()},t.prototype.bindListeners=function(){var t=this;this.onMessage=function(e){var r;t.unbindListeners();try{r=o.processHandshake(e)}catch(e){return t.finish("error",{error:e}),void t.transport.close()}"connected"===r.action?t.finish("connected",{connection:new i.default(r.id,t.transport),activityTimeout:r.activityTimeout}):(t.finish(r.action,{error:r.error}),t.transport.close())},this.onClosed=function(e){t.unbindListeners();var r=o.getCloseAction(e)||"backoff",n=o.getCloseError(e);t.finish(r,{error:n})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},t.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},t.prototype.finish=function(t,e){this.callback(n.extend({transport:this.transport,action:t},e))},t}();e.__esModule=!0,e.default=a},function(t,e){"use strict";e.decodeMessage=function(t){try{var e=JSON.parse(t.data),r=e.data;if("string"==typeof r)try{r=JSON.parse(e.data)}catch(t){}var n={event:e.event,channel:e.channel,data:r};return e.user_id&&(n.user_id=e.user_id),n}catch(e){throw{type:"MessageParseError",error:e,data:t.data}}},e.encodeMessage=function(t){return JSON.stringify(t)},e.processHandshake=function(t){var r=e.decodeMessage(t);if("pusher:connection_established"===r.event){if(!r.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:r.data.socket_id,activityTimeout:1e3*r.data.activity_timeout}}if("pusher:error"===r.event)return{action:this.getCloseAction(r.data),error:this.getCloseError(r.data)};throw"Invalid handshake"},e.getCloseAction=function(t){return t.code<4e3?t.code>=1002&&t.code<=1004?"backoff":null:4e3===t.code?"tls_only":t.code<4100?"refused":t.code<4200?"backoff":t.code<4300?"retry":"refused"},e.getCloseError=function(t){return 1e3!==t.code&&1001!==t.code?{type:"PusherError",data:{code:t.code,message:t.reason||t.message}}:null}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=r(4),i=r(14),a=r(38),s=r(16),u=function(t){function e(e,r){t.call(this),this.id=e,this.transport=r,this.activityTimeout=r.activityTimeout,this.bindListeners()}return n(e,t),e.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},e.prototype.send=function(t){return this.transport.send(t)},e.prototype.send_event=function(t,e,r){var n={event:t,data:e};return r&&(n.channel=r),s.default.debug("Event sent",n),this.send(a.encodeMessage(n))},e.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},e.prototype.close=function(){this.transport.close()},e.prototype.bindListeners=function(){var t=this,e={message:function(e){var r;try{r=a.decodeMessage(e)}catch(r){t.emit("error",{type:"MessageParseError",error:r,data:e.data})}if(void 0!==r){switch(s.default.debug("Event recd",r),r.event){case"pusher:error":t.emit("error",{type:"PusherError",data:r.data});break;case"pusher:ping":t.emit("ping");break;case"pusher:pong":t.emit("pong")}t.emit("message",r)}},activity:function(){t.emit("activity")},error:function(e){t.emit("error",{type:"WebSocketError",error:e})},closed:function(e){r(),e&&e.code&&t.handleCloseEvent(e),t.transport=null,t.emit("closed")}},r=function(){o.objectApply(e,function(e,r){t.transport.unbind(r,e)})};o.objectApply(e,function(e,r){t.transport.bind(r,e)})},e.prototype.handleCloseEvent=function(t){var e=a.getCloseAction(t),r=a.getCloseError(t);r&&this.emit("error",r),e&&this.emit(e,{action:e,error:r})},e}(i.default);e.__esModule=!0,e.default=u},function(t,e,r){"use strict";var n=r(2),o=function(){function t(t,e){this.channel=t;var r=e.authTransport;if(void 0===n.default.getAuthorizers()[r])throw"'"+r+"' is not a recognized auth transport";this.type=r,this.options=e,this.authOptions=(e||{}).auth||{}}return t.prototype.composeQuery=function(t){var e="socket_id="+encodeURIComponent(t)+"&channel_name="+encodeURIComponent(this.channel.name);for(var r in this.authOptions.params)e+="&"+encodeURIComponent(r)+"="+encodeURIComponent(this.authOptions.params[r]);return e},t.prototype.authorize=function(e,r){return t.authorizers=t.authorizers||n.default.getAuthorizers(),t.authorizers[this.type].call(this,n.default,e,r)},t}();e.__esModule=!0,e.default=o},function(t,e,r){"use strict";var n=r(2),o=function(){function t(t,e){this.timeline=t,this.options=e||{}}return t.prototype.send=function(t,e){this.timeline.isEmpty()||this.timeline.send(n.default.TimelineTransport.getAgent(this,t),e)},t}();e.__esModule=!0,e.default=o},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=r(43),i=r(16),a=r(46),s=r(29),u=function(t){function e(e,r){t.call(this,e,r),this.members=new a.default}return n(e,t),e.prototype.authorize=function(e,r){var n=this;t.prototype.authorize.call(this,e,function(t,e){if(!t){if(void 0===e.channel_data){var o=s.default.buildLogSuffix("authenticationEndpoint");return i.default.warn("Invalid auth response for channel '"+n.name+"',expected 'channel_data' field. "+o),void r("Invalid auth response")}var a=JSON.parse(e.channel_data);n.members.setMyID(a.user_id)}r(t,e)})},e.prototype.handleEvent=function(t){var e=t.event;if(0===e.indexOf("pusher_internal:"))this.handleInternalEvent(t);else{var r=t.data,n={};t.user_id&&(n.user_id=t.user_id),this.emit(e,r,n)}},e.prototype.handleInternalEvent=function(t){var e=t.event,r=t.data;switch(e){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(t);break;case"pusher_internal:member_added":var n=this.members.addMember(r);this.emit("pusher:member_added",n);break;case"pusher_internal:member_removed":var o=this.members.removeMember(r);o&&this.emit("pusher:member_removed",o)}},e.prototype.handleSubscriptionSucceededEvent=function(t){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(t.data),this.emit("pusher:subscription_succeeded",this.members))},e.prototype.disconnect=function(){this.members.reset(),t.prototype.disconnect.call(this)},e}(o.default);e.__esModule=!0,e.default=u},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=r(35),i=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.authorize=function(t,e){return o.default.createAuthorizer(this,this.pusher.config).authorize(t,e)},e}(r(44).default);e.__esModule=!0,e.default=i},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=r(14),i=r(45),a=r(16),s=r(29),u=function(t){function e(e,r){t.call(this,function(t,r){a.default.debug("No callbacks on "+e+" for "+t)}),this.name=e,this.pusher=r,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}return n(e,t),e.prototype.authorize=function(t,e){return e(!1,{})},e.prototype.trigger=function(t,e){if(0!==t.indexOf("client-"))throw new i.BadEventName("Event '"+t+"' does not start with 'client-'");if(!this.subscribed){var r=s.default.buildLogSuffix("triggeringClientEvents");a.default.warn("Client event triggered before channel 'subscription_succeeded' event . "+r)}return this.pusher.send_event(t,e,this.name)},e.prototype.disconnect=function(){this.subscribed=!1,this.subscriptionPending=!1},e.prototype.handleEvent=function(t){var e=t.event,r=t.data;if("pusher_internal:subscription_succeeded"===e)this.handleSubscriptionSucceededEvent(t);else if(0!==e.indexOf("pusher_internal:")){this.emit(e,r,{})}},e.prototype.handleSubscriptionSucceededEvent=function(t){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",t.data)},e.prototype.subscribe=function(){var t=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,function(e,r){e?t.emit("pusher:subscription_error",r):t.pusher.send_event("pusher:subscribe",{auth:r.auth,channel_data:r.channel_data,channel:t.name})}))},e.prototype.unsubscribe=function(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},e.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},e.prototype.reinstateSubscription=function(){this.subscriptionCancelled=!1},e}(o.default);e.__esModule=!0,e.default=u},function(t,e){"use strict";var r=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},n=function(t){function e(){t.apply(this,arguments)}return r(e,t),e}(Error);e.BadEventName=n;var o=function(t){function e(){t.apply(this,arguments)}return r(e,t),e}(Error);e.RequestTimedOut=o;var i=function(t){function e(){t.apply(this,arguments)}return r(e,t),e}(Error);e.TransportPriorityTooLow=i;var a=function(t){function e(){t.apply(this,arguments)}return r(e,t),e}(Error);e.TransportClosed=a;var s=function(t){function e(){t.apply(this,arguments)}return r(e,t),e}(Error);e.UnsupportedFeature=s;var u=function(t){function e(){t.apply(this,arguments)}return r(e,t),e}(Error);e.UnsupportedTransport=u;var c=function(t){function e(){t.apply(this,arguments)}return r(e,t),e}(Error);e.UnsupportedStrategy=c},function(t,e,r){"use strict";var n=r(4),o=function(){function t(){this.reset()}return t.prototype.get=function(t){return Object.prototype.hasOwnProperty.call(this.members,t)?{id:t,info:this.members[t]}:null},t.prototype.each=function(t){var e=this;n.objectApply(this.members,function(r,n){t(e.get(n))})},t.prototype.setMyID=function(t){this.myID=t},t.prototype.onSubscription=function(t){this.members=t.presence.hash,this.count=t.presence.count,this.me=this.get(this.myID)},t.prototype.addMember=function(t){return null===this.get(t.user_id)&&this.count++,this.members[t.user_id]=t.user_info,this.get(t.user_id)},t.prototype.removeMember=function(t){var e=this.get(t.user_id);return e&&(delete this.members[t.user_id],this.count--),e},t.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},t}();e.__esModule=!0,e.default=o},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=r(43),i=r(45),a=r(16),s=r(48),u=r(49),c=function(t){function e(){t.apply(this,arguments),this.key=null}return n(e,t),e.prototype.authorize=function(e,r){var n=this;t.prototype.authorize.call(this,e,function(t,e){if(t)r(!0,e);else{var o=e.shared_secret;if(!o){var i="No shared_secret key in auth payload for encrypted channel: "+n.name;return r(!0,i),void a.default.warn("Error: "+i)}n.key=u.decodeBase64(o),delete e.shared_secret,r(!1,e)}})},e.prototype.trigger=function(t,e){throw new i.UnsupportedFeature("Client events are not currently supported for encrypted channels")},e.prototype.handleEvent=function(e){var r=e.event,n=e.data;0!==r.indexOf("pusher_internal:")&&0!==r.indexOf("pusher:")?this.handleEncryptedEvent(r,n):t.prototype.handleEvent.call(this,e)},e.prototype.handleEncryptedEvent=function(t,e){var r=this;if(this.key)if(e.ciphertext&&e.nonce){var n=u.decodeBase64(e.ciphertext);if(n.length<s.secretbox.overheadLength)a.default.warn("Expected encrypted event ciphertext length to be "+s.secretbox.overheadLength+", got: "+n.length);else{var o=u.decodeBase64(e.nonce);if(o.length<s.secretbox.nonceLength)a.default.warn("Expected encrypted event nonce length to be "+s.secretbox.nonceLength+", got: "+o.length);else{var i=s.secretbox.open(n,o,this.key);if(null===i)return a.default.debug("Failed to decrypted an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),void this.authorize(this.pusher.connection.socket_id,function(e,c){e?a.default.warn("Failed to make a request to the authEndpoint: "+c+". Unable to fetch new key, so dropping encrypted event"):null!==(i=s.secretbox.open(n,o,r.key))?r.emitJSON(t,u.encodeUTF8(i)):a.default.warn("Failed to decrypt event with new key. Dropping encrypted event")});this.emitJSON(t,u.encodeUTF8(i))}}}else a.default.warn("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+e);else a.default.debug("Received encrypted event before key has been retrieved from the authEndpoint")},e.prototype.emitJSON=function(t,e){try{this.emit(t,JSON.parse(e))}catch(r){this.emit(t,e)}return this},e}(o.default);e.__esModule=!0,e.default=c},function(t,e){"use strict";e.__esModule=!0,e.default={secretbox:{},randomBytes:{}}},function(t,e){"use strict";e.__esModule=!0,e.default={encodeUTF8:{},decodeUTF8:{},encodeBase64:{},decodeBase64:{}}},function(t,e,r){"use strict";var n=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=r(14),i=r(7),a=r(16),s=r(4),u=r(2),c=function(t){function e(e,r){var n=this;t.call(this),this.key=e,this.options=r||{},this.state="initialized",this.connection=null,this.usingTLS=!!r.useTLS,this.timeline=this.options.timeline,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var o=u.default.getNetwork();o.bind("online",function(){n.timeline.info({netinfo:"online"}),"connecting"!==n.state&&"unavailable"!==n.state||n.retryIn(0)}),o.bind("offline",function(){n.timeline.info({netinfo:"offline"}),n.connection&&n.sendActivityCheck()}),this.updateStrategy()}return n(e,t),e.prototype.connect=function(){this.connection||this.runner||(this.strategy.isSupported()?(this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()):this.updateState("failed"))},e.prototype.send=function(t){return!!this.connection&&this.connection.send(t)},e.prototype.send_event=function(t,e,r){return!!this.connection&&this.connection.send_event(t,e,r)},e.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},e.prototype.isUsingTLS=function(){return this.usingTLS},e.prototype.startConnecting=function(){var t=this,e=function(r,n){r?t.runner=t.strategy.connect(0,e):"error"===n.action?(t.emit("error",{type:"HandshakeError",error:n.error}),t.timeline.error({handshakeError:n.error})):(t.abortConnecting(),t.handshakeCallbacks[n.action](n))};this.runner=this.strategy.connect(0,e)},e.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},e.prototype.disconnectInternally=function(){(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection)&&this.abandonConnection().close()},e.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})},e.prototype.retryIn=function(t){var e=this;this.timeline.info({action:"retry",delay:t}),t>0&&this.emit("connecting_in",Math.round(t/1e3)),this.retryTimer=new i.OneOffTimer(t||0,function(){e.disconnectInternally(),e.connect()})},e.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},e.prototype.setUnavailableTimer=function(){var t=this;this.unavailableTimer=new i.OneOffTimer(this.options.unavailableTimeout,function(){t.updateState("unavailable")})},e.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},e.prototype.sendActivityCheck=function(){var t=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new i.OneOffTimer(this.options.pongTimeout,function(){t.timeline.error({pong_timed_out:t.options.pongTimeout}),t.retryIn(0)})},e.prototype.resetActivityCheck=function(){var t=this;this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new i.OneOffTimer(this.activityTimeout,function(){t.sendActivityCheck()}))},e.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},e.prototype.buildConnectionCallbacks=function(t){var e=this;return s.extend({},t,{message:function(t){e.resetActivityCheck(),e.emit("message",t)},ping:function(){e.send_event("pusher:pong",{})},activity:function(){e.resetActivityCheck()},error:function(t){e.emit("error",{type:"WebSocketError",error:t})},closed:function(){e.abandonConnection(),e.shouldRetry()&&e.retryIn(1e3)}})},e.prototype.buildHandshakeCallbacks=function(t){var e=this;return s.extend({},t,{connected:function(t){e.activityTimeout=Math.min(e.options.activityTimeout,t.activityTimeout,t.connection.activityTimeout||1/0),e.clearUnavailableTimer(),e.setConnection(t.connection),e.socket_id=e.connection.id,e.updateState("connected",{socket_id:e.socket_id})}})},e.prototype.buildErrorCallbacks=function(){var t=this,e=function(e){return function(r){r.error&&t.emit("error",{type:"WebSocketError",error:r.error}),e(r)}};return{tls_only:e(function(){t.usingTLS=!0,t.updateStrategy(),t.retryIn(0)}),refused:e(function(){t.disconnect()}),backoff:e(function(){t.retryIn(1e3)}),retry:e(function(){t.retryIn(0)})}},e.prototype.setConnection=function(t){for(var e in this.connection=t,this.connectionCallbacks)this.connection.bind(e,this.connectionCallbacks[e]);this.resetActivityCheck()},e.prototype.abandonConnection=function(){if(this.connection){for(var t in this.stopActivityCheck(),this.connectionCallbacks)this.connection.unbind(t,this.connectionCallbacks[t]);var e=this.connection;return this.connection=null,e}},e.prototype.updateState=function(t,e){var r=this.state;if(this.state=t,r!==t){var n=t;"connected"===n&&(n+=" with new socket ID "+e.socket_id),a.default.debug("State changed",r+" -> "+n),this.timeline.info({state:t,params:e}),this.emit("state_change",{previous:r,current:t}),this.emit(t,e)}},e.prototype.shouldRetry=function(){return"connecting"===this.state||"connected"===this.state},e}(o.default);e.__esModule=!0,e.default=c},function(t,e,r){"use strict";var n=r(4),o=r(35),i=r(45),a=function(){function t(){this.channels={}}return t.prototype.add=function(t,e){return this.channels[t]||(this.channels[t]=function(t,e){if(0===t.indexOf("private-encrypted-")){if("ReactNative"==navigator.product){throw new i.UnsupportedFeature("Encrypted channels are not yet supported when using React Native builds.")}return o.default.createEncryptedChannel(t,e)}return 0===t.indexOf("private-")?o.default.createPrivateChannel(t,e):0===t.indexOf("presence-")?o.default.createPresenceChannel(t,e):o.default.createChannel(t,e)}(t,e)),this.channels[t]},t.prototype.all=function(){return n.values(this.channels)},t.prototype.find=function(t){return this.channels[t]},t.prototype.remove=function(t){var e=this.channels[t];return delete this.channels[t],e},t.prototype.disconnect=function(){n.objectApply(this.channels,function(t){t.disconnect()})},t}();e.__esModule=!0,e.default=a},function(t,e,r){"use strict";var n=r(35),o=r(6),i=r(45),a=r(4),s=function(){function t(t,e,r,n){this.name=t,this.priority=e,this.transport=r,this.options=n||{}}return t.prototype.isSupported=function(){return this.transport.isSupported({useTLS:this.options.useTLS})},t.prototype.connect=function(t,e){var r=this;if(!this.isSupported())return u(new i.UnsupportedStrategy,e);if(this.priority<t)return u(new i.TransportPriorityTooLow,e);var o=!1,s=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),c=null,l=function(){s.unbind("initialized",l),s.connect()},f=function(){c=n.default.createHandshake(s,function(t){o=!0,d(),e(null,t)})},h=function(t){d(),e(t)},p=function(){var t;d(),t=a.safeJSONStringify(s),e(new i.TransportClosed(t))},d=function(){s.unbind("initialized",l),s.unbind("open",f),s.unbind("error",h),s.unbind("closed",p)};return s.bind("initialized",l),s.bind("open",f),s.bind("error",h),s.bind("closed",p),s.initialize(),{abort:function(){o||(d(),c?c.close():s.close())},forceMinPriority:function(t){o||r.priority<t&&(c?c.close():s.close())}}},t}();function u(t,e){return o.default.defer(function(){e(t)}),{abort:function(){},forceMinPriority:function(){}}}e.__esModule=!0,e.default=s},function(t,e,r){"use strict";var n=r(4),o=r(6),i=r(7),a=function(){function t(t,e){this.strategies=t,this.loop=Boolean(e.loop),this.failFast=Boolean(e.failFast),this.timeout=e.timeout,this.timeoutLimit=e.timeoutLimit}return t.prototype.isSupported=function(){return n.any(this.strategies,o.default.method("isSupported"))},t.prototype.connect=function(t,e){var r=this,n=this.strategies,o=0,i=this.timeout,a=null,s=function(u,c){c?e(null,c):(o+=1,r.loop&&(o%=n.length),o<n.length?(i&&(i*=2,r.timeoutLimit&&(i=Math.min(i,r.timeoutLimit))),a=r.tryStrategy(n[o],t,{timeout:i,failFast:r.failFast},s)):e(!0))};return a=this.tryStrategy(n[o],t,{timeout:i,failFast:this.failFast},s),{abort:function(){a.abort()},forceMinPriority:function(e){t=e,a&&a.forceMinPriority(e)}}},t.prototype.tryStrategy=function(t,e,r,n){var o=null,a=null;return r.timeout>0&&(o=new i.OneOffTimer(r.timeout,function(){a.abort(),n(!0)})),a=t.connect(e,function(t,e){t&&o&&o.isRunning()&&!r.failFast||(o&&o.ensureAborted(),n(t,e))}),{abort:function(){o&&o.ensureAborted(),a.abort()},forceMinPriority:function(t){a.forceMinPriority(t)}}},t}();e.__esModule=!0,e.default=a},function(t,e,r){"use strict";var n=r(4),o=r(6),i=function(){function t(t){this.strategies=t}return t.prototype.isSupported=function(){return n.any(this.strategies,o.default.method("isSupported"))},t.prototype.connect=function(t,e){return function(t,e,r){var o=n.map(t,function(t,n,o,i){return t.connect(e,r(n,i))});return{abort:function(){n.apply(o,a)},forceMinPriority:function(t){n.apply(o,function(e){e.forceMinPriority(t)})}}}(this.strategies,t,function(t,r){return function(o,i){r[t].error=o,o?function(t){return n.all(t,function(t){return Boolean(t.error)})}(r)&&e(!0):(n.apply(r,function(t){t.forceMinPriority(i.transport.priority)}),e(null,i))}})},t}();function a(t){t.error||t.aborted||(t.abort(),t.aborted=!0)}e.__esModule=!0,e.default=i},function(t,e,r){"use strict";var n=r(6),o=r(2),i=r(53),a=r(4),s=function(){function t(t,e,r){this.strategy=t,this.transports=e,this.ttl=r.ttl||18e5,this.usingTLS=r.useTLS,this.timeline=r.timeline}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var r=this.usingTLS,s=function(t){var e=o.default.getLocalStorage();if(e)try{var r=e[u(t)];if(r)return JSON.parse(r)}catch(e){c(t)}return null}(r),l=[this.strategy];if(s&&s.timestamp+this.ttl>=n.default.now()){var f=this.transports[s.transport];f&&(this.timeline.info({cached:!0,transport:s.transport,latency:s.latency}),l.push(new i.default([f],{timeout:2*s.latency+1e3,failFast:!0})))}var h=n.default.now(),p=l.pop().connect(t,function i(s,f){s?(c(r),l.length>0?(h=n.default.now(),p=l.pop().connect(t,i)):e(s)):(!function(t,e,r){var i=o.default.getLocalStorage();if(i)try{i[u(t)]=a.safeJSONStringify({timestamp:n.default.now(),transport:e,latency:r})}catch(t){}}(r,f.transport.name,n.default.now()-h),e(null,f))});return{abort:function(){p.abort()},forceMinPriority:function(e){t=e,p&&p.forceMinPriority(e)}}},t}();function u(t){return"pusherTransport"+(t?"TLS":"NonTLS")}function c(t){var e=o.default.getLocalStorage();if(e)try{delete e[u(t)]}catch(t){}}e.__esModule=!0,e.default=s},function(t,e,r){"use strict";var n=r(7),o=function(){function t(t,e){var r=e.delay;this.strategy=t,this.options={delay:r}}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var r,o=this.strategy,i=new n.OneOffTimer(this.options.delay,function(){r=o.connect(t,e)});return{abort:function(){i.ensureAborted(),r&&r.abort()},forceMinPriority:function(e){t=e,r&&r.forceMinPriority(e)}}},t}();e.__esModule=!0,e.default=o},function(t,e){"use strict";var r=function(){function t(t,e,r){this.test=t,this.trueBranch=e,this.falseBranch=r}return t.prototype.isSupported=function(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()},t.prototype.connect=function(t,e){return(this.test()?this.trueBranch:this.falseBranch).connect(t,e)},t}();e.__esModule=!0,e.default=r},function(t,e){"use strict";var r=function(){function t(t){this.strategy=t}return t.prototype.isSupported=function(){return this.strategy.isSupported()},t.prototype.connect=function(t,e){var r=this.strategy.connect(t,function(t,n){n&&r.abort(),e(t,n)});return r},t}();e.__esModule=!0,e.default=r},function(t,e,r){"use strict";var n=r(11);e.getGlobalConfig=function(){return{wsHost:n.default.host,wsPort:n.default.ws_port,wssPort:n.default.wss_port,wsPath:n.default.ws_path,httpHost:n.default.sockjs_host,httpPort:n.default.sockjs_http_port,httpsPort:n.default.sockjs_https_port,httpPath:n.default.sockjs_path,statsHost:n.default.stats_host,authEndpoint:n.default.channel_auth_endpoint,authTransport:n.default.channel_auth_transport,activity_timeout:n.default.activity_timeout,pong_timeout:n.default.pong_timeout,unavailable_timeout:n.default.unavailable_timeout}},e.getClusterConfig=function(t){return{wsHost:"ws-"+t+".pusher.com",httpHost:"sockjs-"+t+".pusher.com"}}}])}).call(this,r(15))},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(e,r){e.exports=t},function(t,e,r){"use strict";r.r(e);var n=r(8),o=r.n(n),i=r(9),a=r.n(i),s=r(2),u=s.SocketsInterface.compose({init(t){var e=t.appKey,r=t.appCluster,n=t.authEndpoint,o=t.token;this.credentials.appKey=e||this.credentials.appKey,this.credentials.appCluster=r||this.credentials.appCluster,this.authEndpoint=n||this.authEndpoint;var i=o||Object(s.Auth)().connector().user().x_jwt_token;this.instance=new a.a(this.credentials.appKey,{cluster:this.credentials.appCluster,authEndpoint:this.authEndpoint,auth:{headers:{Authorization:`Bearer ${i}`}}})},properties:{credentials:{appKey:void 0,appCluster:void 0},channels:{here:"pusher:subscription_succeded",error:"pusher:subscription_error",entering:"pusher:member_added",leaving:"pusher:member_removed"},authEndpoint:void 0,instance:void 0,channel:void 0},methods:{join(t){return this.channel=this.instance.subscribe(`presence-${t}`),this},leave(){this.instance.subscribe(this.channel).trigger(this.channels.leaving,{user:user}),this.channel=void 0},here(t){if("function"!=typeof t)throw new Error("Callback must be a function.");return this.channel.bind(this.channels.error,function(t){throw new Error("Could not subscribe to channel",t)}),this},joining(t){if("function"!=typeof t)throw new Error("Callback must be a function.");return this.channel.bind(this.channels.entering,t),this},leaving(t){if("function"!=typeof t)throw new Error("Callback must be a function.");return this.channel.bind(this.channels.leaving,t),this}}}),c=o()({init(t){var e=t.connector;this.default=e||this.default},properties:{default:"Pusher",connectors:{Pusher:u}},methods:{getConnector(t){return this.connectors[t]},connector(t){return this.getConnector(this.default)(t)}}});e.default=c}])});
//# sourceMappingURL=sockets-pusherrn.min.js.map