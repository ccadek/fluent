!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("@goatlab/goatjs",[],t):"object"==typeof exports?exports["@goatlab/goatjs"]=t():e["@goatlab/goatjs"]=t()}(this,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=40)}([function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var o,i,a,s=(o=function(e,t){try{return e()}catch(e){return t}},i=function(e,t,r){var n=t;t.includes(" as ")&&(n=(t=t.split(" as "))[0]);var i=o(function(){return Array.isArray(t)&&t[1].trim()},void 0),a=n.replace(/\[/g,".").replace(/]/g,"").split(".").filter(Boolean).map(function(e){return e.trim()});return{label:i||n,value:a.every(function(t){return!(t&&void 0===(e=e[t]))})?e:r}},a=function e(t,n,o,i,a){t&&(i=i||"",t.forEach(function(t){if(t){var s=t.columns&&Array.isArray(t.columns),u=t.rows&&Array.isArray(t.rows),c=t.components&&Array.isArray(t.components),l=!1,f=t.key?i?i+"."+t.key:t.key:"";a&&(t.parent=r({},a),delete t.parent.components,delete t.parent.componentMap,delete t.parent.columns,delete t.parent.rows),(o||t.tree||!s&&!u&&!c)&&(l=n(t,f));var h=function(){return t.key&&!["panel","table","well","columns","fieldset","tabs","form"].includes(t.type)&&(["datagrid","container","editgrid"].includes(t.type)||t.tree)?f:t.key&&"form"===t.type?f+".data":i};l||(s?t.columns.forEach(function(r){return e(r.components,n,o,h(),a?t:null)}):u?t.rows.forEach(function(r){Array.isArray(r)&&r.forEach(function(r){return e(r.components,n,o,h(),a?t:null)})}):c&&e(t.components,n,o,h(),a?t:null))}}))},Object.freeze({cloneDeep:function(e){return JSON.parse(JSON.stringify(e))},getLanguage:function(){return localStorage.getItem("defaultLanguage")||e.env.DEFAULT_LANGUAGE},setLanguage:function(e){localStorage.setItem("defaultLanguage",e)},get:o,orderBy:function(){},isEmpty:function(e){if(!e)return!0;if(Array.isArray(e)||"string"==typeof e)return!e.length;for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0},debounce:function(e,t){var r=void 0;return function(){var n=this,o=arguments;clearTimeout(r),r=setTimeout(function(){return e.apply(n,o)},t)}},getFromPath:i,deleteNulls:function e(t){var r=t,o=r instanceof Array;for(var i in r)null===r[i]?o?r.splice(i,1):delete r[i]:"object"===n(r[i])&&e(r[i]);return r},eachComponent:a,findComponents:function(e,t){var r=[];return a(e,function(e,n){(function(e,t){if("string"==typeof t)return e.key===t;var r=!1;return Object.keys(t).forEach(function(n){if(!(r=i(e,n).value===t[n]))return!1}),r})(e,t)&&(e.path=n,r.push(e))},!0),r},unixDate:function(){return Math.round(+new Date/1e3)}}));t.default=s}).call(this,r(20))},function(e,t,r){"use strict";var n=r(22),o=r(23),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function s(e){return null!==e&&"object"==typeof e}function u(e){return"[object Function]"===i.call(e)}function c(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),a(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:o,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:u,isStream:function(e){return s(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]=r}for(var n=0,o=arguments.length;n<o;n++)c(arguments[n],r);return t},extend:function(e,t,r){return c(t,function(t,o){e[o]=r&&"function"==typeof t?n(t,r):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(3),i=s(r(0)),a=s(r(4));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}t.default=o.Fluent.model({properties:{name:"Configuration",config:{remote:{connector:"formioConfig",token:""}}},methods:{set:function(e){var t=this;return u(regeneratorRuntime.mark(function r(){var n=e.appConf,o=e.forceOnline;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return",t.setOffline({appConf:n}));case 2:return e.abrupt("return",t.setOnline({appConf:n}));case 3:case"end":return e.stop()}},r,t)}))()},setOffline:function(e){var t=this;return u(regeneratorRuntime.mark(function r(){var o,i,s,u=e.appConf;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.local().first();case 2:if(o=e.sent,i=t.getConfigDate(o),s=u.offlineFiles.lastUpdated.date,!(i>s)){e.next=7;break}return e.abrupt("return",o);case 7:if(!o){e.next=10;break}return e.next=10,t.local().clear({sure:!0});case 10:return e.abrupt("return",t.local().insert(n({},u.offlineFiles.Configuration.data,{fastUpdated:(0,a.default)().unix()})));case 11:case"end":return e.stop()}},r,t)}))()},setOnline:function(e){var t=this;return u(regeneratorRuntime.mark(function r(){var o,i;e.appConf;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.local().first();case 2:return o=e.sent,e.next=5,t.remote().first();case 5:if(i=e.sent,o||i){e.next=8;break}throw new Error("Application is not connected to internet, or the configuration file cannot be pulled");case 8:if(i){e.next=10;break}return e.abrupt("return",o);case 10:if(!o){e.next=13;break}return e.next=13,t.local().clear({sure:!0});case 13:return e.abrupt("return",t.local().insert(n({},i.data,{fastUpdated:(0,a.default)().unix()})));case 14:case"end":return e.stop()}},r,t)}))()},getConfigDate:function(e){return i.default.get(function(){return e.fastUpdated},0)}}}).compose(o.Fluent.privatize).privatizeMethods("setOnlineConfig","setOfflineConfig","getConfigDate","assingGlobalVariable","getRemote")()},function(e,t,r){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=13)}([function(e,t,r){var n=r(2),o=r(17),i=r(6),a=r(18),s=r(1),u=r(3),c=r(8),l=r(7),f=Array.prototype.concat;function h(){var e=f.apply([],arguments).filter(u);return 0===e.length?void 0:e}function d(e){if(!s(e))return e;var t=e.methods,r=e.properties,n=e.props,o=e.initializers,i=e.init,u=e.composers,f=e.deepProperties,d=e.deepProps,p=e.propertyDescriptors,v=e.staticProperties,m=e.statics,y=e.staticDeepProperties,g=e.deepStatics,w=e.configuration,b=e.conf,x=e.deepConfiguration,_=e.deepConf,E=s(n)||s(r)?l({},n,r):void 0,O=s(d)?c({},d):void 0;O=s(f)?c(O,f):O;var k=s(m)||s(v)?l({},m,v):void 0,S=s(g)?c({},g):void 0;S=s(y)?c(S,y):S;var A=e.staticPropertyDescriptors;a(e.name)&&(A=l({},A||{},{name:{value:e.name}}));var P=s(b)||s(w)?l({},b,w):void 0,C=s(_)?c({},_):void 0;C=s(x)?c(C,x):C;var R=h(i,o),T=h(u),M={};return t&&(M.methods=t),E&&(M.properties=E),R&&(M.initializers=R),T&&(M.composers=T),O&&(M.deepProperties=O),k&&(M.staticProperties=k),S&&(M.staticDeepProperties=S),p&&(M.propertyDescriptors=p),A&&(M.staticPropertyDescriptors=A),P&&(M.configuration=P),C&&(M.deepConfiguration=C),M}function p(){"use strict";for(var e=arguments.length,t=[],r=0;r<e;r+=1){var o=arguments[r];t.push(i(o)?o:d(o))}return n.apply(this||v,t)}var v=o.compose({staticProperties:{create:function(){return this.apply(this,arguments)},compose:p}}),m=o.compose.staticProperties;for(var y in m)p[y]=m[y].bind(v);p.compose=p.bind(),e.exports=p},function(e,t){e.exports=function(e){var t=typeof e;return Boolean(e)&&("object"===t||"function"===t)}},function(e,t,r){var n=r(5),o=r(3),i=r(1),a=r(6),s=r(15),u=r(7),c=r(8),l=Array.prototype.slice;function f(e,t){var r=function e(t){var r=e.compose||{},n={__proto__:r.methods};if(c(n,r.deepProperties),u(n,r.properties),Object.defineProperties(n,r.propertyDescriptors||{}),!r.initializers||0===r.initializers.length)return n;void 0===t&&(t={});for(var i=r.initializers,a=i.length,s=0;s<a;s+=1){var f=i[s];if(o(f)){var h=f.call(n,t,{instance:n,stamp:e,args:l.apply(arguments)});n=void 0===h?n:h}}return n};e.staticDeepProperties&&c(r,e.staticDeepProperties),e.staticProperties&&u(r,e.staticProperties),e.staticPropertyDescriptors&&Object.defineProperties(r,e.staticPropertyDescriptors);var n=o(r.compose)?r.compose:t;return u(r.compose=function(){"use strict";return n.apply(this,arguments)},e),r}function h(e,t,r){if(n(t)){var i=t.length,a=e[r]||[];e[r]=a;for(var s=0;s<i;s+=1){var u=t[s];o(u)&&a.indexOf(u)<0&&a.push(u)}}}function d(e,t,r,n){i(t[r])&&(i(e[r])||(e[r]={}),n(e[r],t[r]))}function p(e,t,r){d(e,t,r,c)}function v(e,t,r){d(e,t,r,u)}function m(e,t){var r=t&&t.compose||t;v(e,r,"methods"),v(e,r,"properties"),p(e,r,"deepProperties"),v(e,r,"propertyDescriptors"),v(e,r,"staticProperties"),p(e,r,"staticDeepProperties"),v(e,r,"staticPropertyDescriptors"),v(e,r,"configuration"),p(e,r,"deepConfiguration"),h(e,r.initializers,"initializers"),h(e,r.composers,"composers")}e.exports=function e(){"use strict";var t={},r=[];s(this)&&(m(t,this),r.push(this));for(var o=0;o<arguments.length;o++){var i=arguments[o];s(i)&&(m(t,i),r.push(i))}var u=f(t,e),c=t.composers;if(n(c)&&c.length>0)for(var l=0;l<c.length;l+=1){var h=(0,c[l])({stamp:u,composables:r});u=a(h)?h:u}return u}},function(e,t){e.exports=function(e){return"function"==typeof e}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t){e.exports=Array.isArray},function(e,t,r){var n=r(3);e.exports=function(e){return n(e)&&n(e.compose)}},function(e,t){e.exports=Object.assign},function(e,t,r){var n=r(16),o=r(1),i=r(5);function a(e,t){if(void 0===t)return e;if(i(t))return(i(e)?e:[]).concat(t);if(!n(t))return t;for(var r=o(e)?e:{},s=Object.keys(t),u=0;u<s.length;u+=1){var c=s[u],l=t[c];if(void 0!==l){var f=r[c],h=n(f)||i(l)?f:{};r[c]=a(h,l)}}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++)e=a(e,arguments[t]);return e}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(0)),o=i(r(19));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.default)({properties:{name:"baseModel",config:{remote:{path:void 0,token:void 0,pullForm:!1},local:{connector:"loki"},merge:{connector:"formio-loki"}}},methods:{getModelName:function(){return this.name},getFluentConfig:function(){var t=void 0;return"undefined"!=typeof window&&window&&window._FLUENT_?t=window._FLUENT_:e&&e._FLUENT_&&(t=e._FLUENT_),t},getConnector:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Array.isArray(e)?this.getConnectorFromArray(e,t,r):e instanceof Object?e:void 0},getConnectorFromArray:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(1===e.length)return e[0];if(this.config&&this.config[t]&&this.config[t].connector){var o=e.find(function(e){return e.name===r.config[t].connector});if(o instanceof Object)return o}if(n){var i=e.find(function(e){return e.name===n});if(i instanceof Object)return i}var a=e.find(function(e){return e.default});return a instanceof Object?a:void 0},remote:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.token,r=void 0===t?void 0:t,n=e.pullForm,o=void 0===n?void 0:n,i=e.connectorName,a=void 0===i?void 0:i,s=e.path,u=void 0===s?void 0:s,c=this.getFluentConfig(),l=c&&c.connectors&&c.connectors.remote;if(!l)throw new Error("No remote connector was defined. Please define it using Fluent.config()");var f=this.getConnector(l,"remote",a||!1);if(this.config.remote.token=r||this.config.remote.token,this.config.remote.path=u||this.config.remote.path,o&&(this.config.remote.pullForm=o||this.config.remote.pullForm),f)return f.connector({remoteConnection:this.config.remote,connector:f});throw new Error("No default remote connector found. Please assign one as your default in Fluent.config")},local:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).connectorName,t=void 0===e?void 0:e,r=this.getFluentConfig(),n=r&&r.connectors&&r.connectors.local;if(!n)throw new Error("No local connector was defined. Please define it using Fluent.config()");var o=this.getConnector(n,"local",t||!1);if(o)return o.connector({name:this.name,connector:o});throw new Error("No default local connector found. Please assign one as your default in Fluent.config")},merged:function(){var e=this.local(),t=this.remote(),r=this.getFluentConfig(),n=r&&r.connectors&&r.connectors.merge;if(!n)throw new Error("No merge connector was defined. Please define it using Fluent.config()");var o=this.getConnector(n,"merge");if(o)return o.connector({local:e,remote:t,name:this.name,connector:o});throw new Error("No default merge connector found. Please assign one as your default in Fluent.config")}}}).compose(o.default)}).call(this,r(4))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=a(r(0)),i=a(r(11));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}t.default=(0,o.default)({init:function(e){if(!Array.isArray(e))throw new Error("Collect method only accepts arrays of data");this.data=e},properties:{data:[]},methods:{get:function(){return this.data},all:function(){return this.get()},avg:function(e){return this.average(e)},average:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[].concat(s(this.data)),r=t.reduce(function(t,r){var n=r;if(r instanceof Object){var o=i.default.getFromPath(r,e,void 0);void 0!==o&&o.value&&(n=o.value)}return t+n},0);try{return r/t.length}catch(e){throw new Error('Division between "'+r+'" and "'+t.length+'" is not valid.')}},chunkApply:function(e,t){var r,n=this;return(r=regeneratorRuntime.mark(function r(){var o,i,a,s;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==t){r.next=2;break}throw new Error("Callback function not defined.");case 2:return o=n.data.length,i=0,n.chunks(e),a=function(r,n){return r.then(function(){return Promise.all(n.map(function(e){return t(e)}))}).then(function(){i=i+e>o?o:i+e,console.log("Processed "+i+"/"+o+" elements...")})},console.log("Processed "+i+"/"+o+" elements..."),s=n.data.reduce(a,Promise.resolve()),r.abrupt("return",s);case 9:case"end":return r.stop()}},r,n)}),function(){var e=r.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});t(s)}("next")})})()},chunks:function(e){for(var t=[].concat(s(this.data)),r=[];t.length;)r.push(t.splice(0,e));return this.data=r,this},collapse:function(){var e=[].concat(s(this.data)),t=[];return e.forEach(function(e){Array.isArray(e)?e.forEach(function(e){t.push(e)}):t.push(e)}),this.data=t,this},unChunk:function(){return this.collapse()},combine:function(e){var t=[].concat(s(this.data)),r=void 0;return t.forEach(function(t,o){t instanceof Object?(r||(r=[]),r[o]=n({},t,{_value:e[o]})):(r||(r={}),r[t]=e[o])}),this.data=r,this},concat:function(e){return this.data=[].concat(s(this.data),s(e)),this},contains:function(){var e=void 0,t=void 0,r=void 0;return 1===arguments.length?(this.isFunction(arguments.length<=0?void 0:arguments[0])&&(r=arguments.length<=0?void 0:arguments[0]),e=arguments.length<=0?void 0:arguments[0]):(e=arguments.length<=1?void 0:arguments[1],t=arguments.length<=0?void 0:arguments[0]),[].concat(s(this.data)).some(function(n,o){if(r)return!!r(n,o);var a=n;if(n instanceof Object){var s=i.default.getFromPath(n,t,void 0);s.value&&(a=s.value)}return a===e})},duplicatesBy:function(e){var t=[].concat(s(this.data)),r=[];return t.reduce(function(t,n){var o=e.reduce(function(e,t){return e+i.default.getFromPath(n,t,"").value},"");return t.hasOwnProperty(o)?r.push(n):t[o]=!0,t},{}),this.data=r,this},count:function(){return this.data.length},isFunction:function(e){return e&&"[object Function]"==={}.toString.call(e)}}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=(n=function(e,t){try{return e()}catch(e){return t}},Object.freeze({get:n,getFromPath:function(e,t,r){var o=t;t.includes(" as ")&&(o=(t=t.split(" as "))[0]);var i=n(function(){return Array.isArray(t)&&t[1].trim()},void 0),a=o.replace(/\[/g,".").replace(/]/g,"").split(".").filter(Boolean).map(function(e){return e.trim()});return{label:i||o,value:a.every(function(t){return!(t&&void 0===(e=e[t]))})?e:r}}}));t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=s(r(0)),i=s(r(11)),a=s(r(10));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function c(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}t.default=(0,o.default)({init:function(e){var t=e.name,r=e.remoteConnection,n=e.connector;if(!t&&!r)throw new Error("Model must have a name or path");if(!n)throw new Error("Model must have a connector. Please register one using Fluent.config");this.name=t||this.name,this.remoteConnection=r||this.remoteConnection,this.connector=n||this.connector,this.chainReference=[],this.whereArray=[],this.orWhereArray=[],this.selectArray=[],this.orderByArray=[],this.limitNumber=void 0,this.offsetNumber=void 0,this.populate=[],this.chunk=null,this.pullSize=null,this.ownerId=void 0,this.paginator=void 0,this.rawQuery=void 0},properties:{operators:["=","<",">","<=",">=","<>","!=","in","nin","like","regexp","startsWith","endsWith","contains"]},methods:{get:function(){throw new Error("get() method not implemented")},all:function(){throw new Error("all() method not implemented")},find:function(e){throw new Error("find() method not implemented")},findOne:function(){throw new Error("findOne() method not implemented")},remove:function(){throw new Error("remove() method not implemented")},softDelete:function(){throw new Error("softDelete() method not implemented")},insert:function(){throw new Error("insert() method not implemented")},update:function(){throw new Error("update() method not implemented")},clear:function(){throw new Error("clear() method not implemented")},updateOrCreate:function(){throw new Error("updateOrCreate() method not implemented")},findAndRemove:function(){throw new Error("findAndRemove() method not implemented")},paginate:function(){throw new Error("paginate() method not implemented")},tableView:function(){throw new Error("tableView() method not implemented")},raw:function(){throw new Error("raw() method not implemented")},owner:function(e){return this.chainReference.push({method:"owner",args:e}),this.ownerId=e,this},own:function(e){return this.owner(e)},first:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get();case 2:return r=t.sent,t.abrupt("return",i.default.get(function(){return r[0]},[]));case 4:case"end":return t.stop()}},t,e)}))()},collect:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get();case 2:if(r=t.sent,Array.isArray(r)){t.next=5;break}throw new Error("Collect method only accepts arrays of data");case 5:return t.abrupt("return",(0,a.default)(r));case 6:case"end":return t.stop()}},t,e)}))()},select:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t=this.prepareInput(t),this.chainReference.push({method:"select",args:t}),this.selectArray=this.selectArray.concat(t).filter(function(e,t,r){return r.indexOf(e)===t}),this},jsApplySelect:function(e){var t=this,r=Array.isArray(e)?[].concat(u(e)):[e];return this.selectArray.length>0&&(r=r.map(function(e){var r={};return t.selectArray.forEach(function(t){var o=i.default.getFromPath(e,t,void 0),a=i.default.get(function(){return o.value},void 0);void 0!==a&&("object"===(void 0===a?"undefined":n(a))&&a.hasOwnProperty("data")&&a.data.hasOwnProperty("name")?r[o.label]=a.data.name:r[o.label]=a)}),r})),r},offset:function(e){return this.chainReference.push({method:"offset",args:e}),this.offsetNumber=e,this},skip:function(e){return this.offset(e)},where:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.chainReference.push({method:"where",args:r}),this.whereArray=[],(r=Array.isArray(r[0])?r:[r]).forEach(function(t){if(3!==t.length)throw new Error('There where clouse is not properly formatted, expecting: ["attribute", "operator","value"] but got "'+JSON.stringify(t)+'" ');e.whereArray.push(t)}),this},andWhere:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.chainReference.push({method:"andWhere",args:r}),(r=Array.isArray(r[0])?r:[r]).forEach(function(t){if(3!==t.length)throw new Error('There where clouse is not properly formatted, expecting: ["attribute", "operator","value"] but got "'+JSON.stringify(t)+'" ');e.whereArray.push(t)}),this},orWhere:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.chainReference.push({method:"orWhere",args:r}),(r=Array.isArray(r[0])?r:[r]).forEach(function(t){if(3!==t.length)throw new Error('There orWhere clouse is not properly formatted, expecting: ["attribute", "operator","value"] but got "'+JSON.stringify(t)+'" ');e.orWhereArray.push(t)}),this},limit:function(e){return this.chainReference.push({method:"limit",args:e}),this.limitNumber=e,this},take:function(e){return this.limit(e)},pluck:function(e){var t=this;return c(regeneratorRuntime.mark(function r(){var n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t.chainReference.push({method:"pluck",args:e}),r.next=3,t.get();case 3:return n=(n=r.sent).map(function(t){var r=i.default.getFromPath(t,e,void 0);if(void 0!==r.value)return r.value}),r.abrupt("return",n);case 6:case"end":return r.stop()}},r,t)}))()},orderBy:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.chainReference.push({method:"orderBy",args:t}),this.orderByArray=t,this},jsApplyOrderBy:function(e){var t=[].concat(u(e));if(0===this.orderByArray.length)return t;var r=this.orderByArray[0];if(this.selectArray.length>0&&(r.includes(".")||r.includes("[")))throw new Error('Cannot orderBy nested attribute "'+r+'" when using Select. You must rename the attribute');var n=this.orderByArray[1],o=this.orderByArray[2];return o||(o="string"),t=t.sort(function(e,t){var a=i.default.getFromPath(e,r,void 0).value,s=i.default.getFromPath(t,r,void 0).value;if(void 0===a||void 0===s)throw new Error('Cannot order by property "'+r+'" not all values have this property');return o.includes("string")||o.includes("number")?"asc"===n?a>s?1:a<s?-1:0:a>s?-1:a<s?1:0:o.includes("date")?"asc"===n?new Date(a)-new Date(s):new Date(s)-new Date(a):void 0})},prepareInput:function(e){var t=[];return e.forEach(function(e){var r=Array.isArray(e)?e:e.split(",");r=r.map(function(e){return e.trim()}),t=t.concat(r)}),t.filter(function(e,t,r){return r.indexOf(e)===t}),t},ArrayInsert:function(e,t){var r=this;return c(regeneratorRuntime.mark(function n(){var o,i,a,s,u,c,l,f;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:o=1,i=e.length,a=!0,s=!1,u=void 0,n.prev=5,c=e[Symbol.iterator]();case 7:if(a=(l=c.next()).done){n.next=26;break}return f=l.value,t&&t.showProgress&&console.log("Inserting "+o+" of "+i),n.prev=10,n.next=13,r.insert(f,t);case 13:n.sent,t&&t.showProgress&&console.log("Element "+o+" inserted"),o++,n.next=23;break;case 18:n.prev=18,n.t0=n.catch(10),console.log("ERROR - Element "+o+" - "+JSON.stringify(f)+" could not be inserted"),console.log(n.t0),o++;case 23:a=!0,n.next=7;break;case 26:n.next=32;break;case 28:n.prev=28,n.t1=n.catch(5),s=!0,u=n.t1;case 32:n.prev=32,n.prev=33,!a&&c.return&&c.return();case 35:if(n.prev=35,!s){n.next=38;break}throw u;case 38:return n.finish(35);case 39:return n.finish(32);case 40:case"end":return n.stop()}},n,r,[[5,28,32,40],[10,18],[33,,35,39]])}))()}}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Event=t.MergeConnector=t.Interface=t.Fluent=t.Model=void 0;var n=u(r(14)),o=u(r(9)),i=u(r(12)),a=u(r(20)),s=u(r(21));function u(e){return e&&e.__esModule?e:{default:e}}t.Model=o.default,t.Fluent=n.default,t.Interface=i.default,t.MergeConnector=a.default,t.Event=s.default},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=s(r(0)),i=s(r(9)),a=s(r(10));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var c=(0,o.default)({init:function(){this.registerGlobalVariable()},properties:{},methods:{model:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.registerModel(t),i.default.compose.apply(i.default,u(t))},extend:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.registerModel(t),i.default.compose.apply(i.default,u(t))},compose:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.registerModel(t),i.default.compose.apply(i.default,u(t))},collect:function(e){return(0,a.default)(e)},registerGlobalVariable:function(){"undefined"!=typeof window&&window&&!window._FLUENT_&&(window._FLUENT_={connectors:{},models:{}}),e&&!e._FLUENT_&&(e._FLUENT_={connectors:{},models:{}})},registerModel:function(t){var r=t&&t[0]&&t[0].properties&&t[0].properties.name?t[0].properties.name:void 0;if(r&&"baseModel"!==r){if("string"!=typeof r)throw new Error("You must assign a name to your Model when using Fluent.compose");"undefined"==typeof window?e._FLUENT_.models[r]=!0:window._FLUENT_.models[r]=!0}},config:function(t){var r=t.REMOTE_CONNECTORS,n=void 0===r?void 0:r,o=t.LOCAL_CONNECTORS,i=void 0===o?void 0:o,a=t.MERGE_CONNECTORS,s=void 0===a?void 0:a;"undefined"!=typeof window&&window&&(window._FLUENT_.connectors={local:i,remote:n,merge:s}),void 0!==e&&e&&(e._FLUENT_.connectors={local:i,remote:n,merge:s})},getConfig:function(){return"undefined"!=typeof window&&window?window._FLUENT_:void 0!==e&&e?e._FLUENT_:void 0},registerConnector:function(t){var r=t.type,o=t.connector;if(!r||!o)throw new Error("type and connector must be defined");if(!["local","remote","merge"].includes(r))throw new Error("type must be either local, remote or merge");var i="undefined"!=typeof window&&window?window._FLUENT_:e._FLUENT_,a=i.connectors.hasOwnProperty(r)?i.connectors[r]:[];if(0===a.length)return o=n({},o,{default:!0}),a.push(o),void(i.connectors[r]=a);a.find(function(e){return e.name===o.name})?console.log("A "+r+" connector with the name '"+o.name+"' already exists"):(a.push(o),i.connectors[r]=a)},deregisterConnector:function(t){var r=t.type,n=t.name;if(!r||!n)throw new Error("type and name must be defined");if(!["local","remote","merge"].includes(r))throw new Error("type must be either local, remote or merge");var o="undefined"!=typeof window&&window?window._FLUENT_:e._FLUENT_,i=o.connectors.hasOwnProperty(r)?o.connectors[r]:[];if(0!==i.length){var a=i.filter(function(e){return e.name!==n});o.connectors[r]=a}}}})();t.default=c}).call(this,r(4))},function(e,t,r){e.exports=r(1)},function(e,t){e.exports=function(e){return Boolean(e)&&"object"==typeof e&&Object.getPrototypeOf(e)===Object.prototype}},function(e,t,r){var n=r(2);function o(e){return function(t){"use strict";var r={};return r[e]=t,this&&this.compose?this.compose(r):n(r)}}var i=o("properties"),a=o("staticProperties"),s=o("configuration"),u=o("deepProperties"),c=o("staticDeepProperties"),l=o("deepConfiguration"),f=o("initializers");e.exports=n({staticProperties:{methods:o("methods"),props:i,properties:i,statics:a,staticProperties:a,conf:s,configuration:s,deepProps:u,deepProperties:u,deepStatics:c,staticDeepProperties:c,deepConf:l,deepConfiguration:l,init:f,initializers:f,composers:o("composers"),propertyDescriptors:o("propertyDescriptors"),staticPropertyDescriptors:o("staticPropertyDescriptors")}})},function(e,t){e.exports=function(e){return"string"==typeof e}},function(e,t,r){var n=r(2),o=new WeakMap,i=function(e,t){function r(){"use strict";var t=o.get(this);return e.apply(t,arguments)}return Object.defineProperty(r,"name",{value:t,configurable:!0}),r};function a(e,t){var r=t.stamp.compose,n=r.deepConfiguration.Privatize.methods,a={};o.set(a,this);var s=r.methods;if(!s)return a;for(var u=Object.keys(s),c=0;c<u.length;c++){var l=u[c];n.indexOf(l)<0&&(a[l]=i(s[l],l))}if("undefined"!=typeof Symbol){var f=Symbol.for("stamp");s[f]&&(a[f]=t.stamp)}return a}var s=n({initializers:[a],deepConfiguration:{Privatize:{methods:[]}},staticProperties:{privatizeMethods:function(){"use strict";for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];"string"==typeof r&&r.length>0&&e.push(r)}return(this&&this.compose?this:s).compose({deepConfiguration:{Privatize:{methods:e}}})}},composers:[function(e){var t=e.stamp.compose.initializers;t.splice(t.indexOf(a),1),t.push(a)}]});e.exports=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(12),i=(n=o)&&n.__esModule?n:{default:n};t.default=i.default.compose({properties:{localFx:void 0,remoteFx:void 0},init:function(e){this.connectors=e},methods:{get:function(){var e,t=this;return(e=regeneratorRuntime.mark(function e(){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.prepareMergedFunctions(),e.next=3,t.localFx.get();case 3:return r=e.sent,e.next=6,t.remoteFx.get();case 6:return n=e.sent,e.abrupt("return",r.concat(n));case 8:case"end":return e.stop()}},e,t)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})})()},prepareMergedFunctions:function(){var e=this;this.localFx=this.connectors.local,this.remoteFx=this.connectors.remote,this.chainReference.forEach(function(t){var r=t.method,n=t.args;e.localFx=e.localFx[r](n),e.remoteFx=e.remoteFx[r](n)})}}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.freeze({emit:function(e){var t=e.name,r=e.data,n=e.text;if(!t)throw new Error("Event must have a name.");if(!r)throw new Error("Event must have data.");if(!n)throw new Error("Event must have a text.");var o=function(e,t){var r=document.createEvent("CustomEvent");return t=t||{bubbles:!1,cancelable:!1,detail:void 0},r.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r}(t,{detail:{data:r,text:n}});window.dispatchEvent(o)},listen:function(e){var t=e.name,r=e.callback;if(!t)throw new Error("Listener must have a name.");if(!r)throw new Error("Listener must have a callback.");window.addEventListener(t,r)},remove:function(e){var t=e.name,r=e.callback;if(!t)throw new Error("Listener must have a name to detach");if(!r)throw new Error("Listener must have a callback to detach");window.removeEventListener(t,r)}});t.default=n}])},function(e,t,r){e.exports=function(){"use strict";var e="millisecond",t="second",r="minute",n="hour",o="day",i="week",a="month",s="quarter",u="year",c=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,l=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=function(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e},h={s:f,z:function(e){var t=-e.utcOffset(),r=Math.abs(t),n=Math.floor(r/60),o=r%60;return(t<=0?"+":"-")+f(n,2,"0")+":"+f(o,2,"0")},m:function(e,t){var r=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(r,a),o=t-n<0,i=e.clone().add(r+(o?-1:1),a);return Number(-(r+(t-n)/(o?n-i:i-n))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(c){return{M:a,y:u,w:i,d:o,h:n,m:r,s:t,ms:e,Q:s}[c]||String(c||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},d={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},p="en",v={};v[p]=d;var m=function(e){return e instanceof b},y=function(e,t,r){var n;if(!e)return null;if("string"==typeof e)v[e]&&(n=e),t&&(v[e]=t,n=e);else{var o=e.name;v[o]=e,n=o}return r||(p=n),n},g=function(e,t,r){if(m(e))return e.clone();var n=t?"string"==typeof t?{format:t,pl:r}:t:{};return n.date=e,new b(n)},w=h;w.l=y,w.i=m,w.w=function(e,t){return g(e,{locale:t.$L,utc:t.$u})};var b=function(){function f(e){this.$L=this.$L||y(e.locale,null,!0)||p,this.parse(e)}var h=f.prototype;return h.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(w.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(c);if(n)return r?new Date(Date.UTC(n[1],n[2]-1,n[3]||1,n[4]||0,n[5]||0,n[6]||0,n[7]||0)):new Date(n[1],n[2]-1,n[3]||1,n[4]||0,n[5]||0,n[6]||0,n[7]||0)}return new Date(t)}(e),this.init()},h.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},h.$utils=function(){return w},h.isValid=function(){return!("Invalid Date"===this.$d.toString())},h.isSame=function(e,t){var r=g(e);return this.startOf(t)<=r&&r<=this.endOf(t)},h.isAfter=function(e,t){return g(e)<this.startOf(t)},h.isBefore=function(e,t){return this.endOf(t)<g(e)},h.$g=function(e,t,r){return w.u(e)?this[t]:this.set(r,e)},h.year=function(e){return this.$g(e,"$y",u)},h.month=function(e){return this.$g(e,"$M",a)},h.day=function(e){return this.$g(e,"$W",o)},h.date=function(e){return this.$g(e,"$D","date")},h.hour=function(e){return this.$g(e,"$H",n)},h.minute=function(e){return this.$g(e,"$m",r)},h.second=function(e){return this.$g(e,"$s",t)},h.millisecond=function(t){return this.$g(t,"$ms",e)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(e,s){var c=this,l=!!w.u(s)||s,f=w.p(e),h=function(e,t){var r=w.w(c.$u?Date.UTC(c.$y,t,e):new Date(c.$y,t,e),c);return l?r:r.endOf(o)},d=function(e,t){return w.w(c.toDate()[e].apply(c.toDate(),(l?[0,0,0,0]:[23,59,59,999]).slice(t)),c)},p=this.$W,v=this.$M,m=this.$D,y="set"+(this.$u?"UTC":"");switch(f){case u:return l?h(1,0):h(31,11);case a:return l?h(1,v):h(0,v+1);case i:var g=this.$locale().weekStart||0,b=(p<g?p+7:p)-g;return h(l?m-b:m+(6-b),v);case o:case"date":return d(y+"Hours",0);case n:return d(y+"Minutes",1);case r:return d(y+"Seconds",2);case t:return d(y+"Milliseconds",3);default:return this.clone()}},h.endOf=function(e){return this.startOf(e,!1)},h.$set=function(i,s){var c,l=w.p(i),f="set"+(this.$u?"UTC":""),h=(c={},c[o]=f+"Date",c.date=f+"Date",c[a]=f+"Month",c[u]=f+"FullYear",c[n]=f+"Hours",c[r]=f+"Minutes",c[t]=f+"Seconds",c[e]=f+"Milliseconds",c)[l],d=l===o?this.$D+(s-this.$W):s;if(l===a||l===u){var p=this.clone().set("date",1);p.$d[h](d),p.init(),this.$d=p.set("date",Math.min(this.$D,p.daysInMonth())).toDate()}else h&&this.$d[h](d);return this.init(),this},h.set=function(e,t){return this.clone().$set(e,t)},h.get=function(e){return this[w.p(e)]()},h.add=function(e,s){var c,l=this;e=Number(e);var f=w.p(s),h=function(t){var r=g(l);return w.w(r.date(r.date()+Math.round(t*e)),l)};if(f===a)return this.set(a,this.$M+e);if(f===u)return this.set(u,this.$y+e);if(f===o)return h(1);if(f===i)return h(7);var d=(c={},c[r]=6e4,c[n]=36e5,c[t]=1e3,c)[f]||1,p=this.valueOf()+e*d;return w.w(p,this)},h.subtract=function(e,t){return this.add(-1*e,t)},h.format=function(e){var t=this;if(!this.isValid())return"Invalid Date";var r=e||"YYYY-MM-DDTHH:mm:ssZ",n=w.z(this),o=this.$locale(),i=this.$H,a=this.$m,s=this.$M,u=o.weekdays,c=o.months,f=function(e,n,o,i){return e&&(e[n]||e(t,r))||o[n].substr(0,i)},h=function(e){return w.s(i%12||12,e,"0")},d=o.meridiem||function(e,t,r){var n=e<12?"AM":"PM";return r?n.toLowerCase():n},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:w.s(s+1,2,"0"),MMM:f(o.monthsShort,s,c,3),MMMM:c[s]||c(this,r),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:f(o.weekdaysMin,this.$W,u,2),ddd:f(o.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(i),HH:w.s(i,2,"0"),h:h(1),hh:h(2),a:d(i,a,!0),A:d(i,a,!1),m:String(a),mm:w.s(a,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:n};return r.replace(l,function(e,t){return t||p[e]||n.replace(":","")})},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(e,c,l){var f,h=w.p(c),d=g(e),p=6e4*(d.utcOffset()-this.utcOffset()),v=this-d,m=w.m(this,d);return m=(f={},f[u]=m/12,f[a]=m,f[s]=m/3,f[i]=(v-p)/6048e5,f[o]=(v-p)/864e5,f[n]=v/36e5,f[r]=v/6e4,f[t]=v/1e3,f)[h]||v,l?m:w.a(m)},h.daysInMonth=function(){return this.endOf(a).$D},h.$locale=function(){return v[this.$L]},h.locale=function(e,t){if(!e)return this.$L;var r=this.clone();return r.$L=y(e,t,!0),r},h.clone=function(){return w.w(this.toDate(),this)},h.toDate=function(){return new Date(this.$d)},h.toJSON=function(){return this.toISOString()},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},f}();return g.prototype=b.prototype,g.extend=function(e,t){return e(t,b,g),g},g.locale=y,g.isDayjs=m,g.unix=function(e){return g(1e3*e)},g.en=v[p],g.Ls=v,g}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(r(4)),o=u(r(0)),i=r(3),a=u(r(42)),s=u(r(2));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}t.default=i.Fluent.model({properties:{name:"Form",config:{remote:{path:"form",pullForm:!0}}},methods:{getModel:function(e){var t=e.path;return i.Fluent.model({properties:{config:{remote:{path:t}}}})()},find:function(e){var t=e.path;return this.local().where("data.path","=",t).first()},cardFormattedForms:function(e){var t=this;return c(regeneratorRuntime.mark(function r(){var o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.local().get();case 2:return o={cards:o=(o=(o=(o=r.sent).filter(function(e){return e.data.tags.indexOf("visible")>-1})).sort(function(e,t){return(e=e.data.title)>(t=t.data.title)?1:e<t?-1:0})).map(function(t){return{title:t.data.title,tags:t.data.tags,customIcon:!0,icon:"create"===e?"statics/customSVG/startSurvey.svg":"statics/customSVG/collectedData.svg",subtitle:"Last updated: "+(0,n.default)(t.data.modified).fromNow(),actions:[{text:"create"===e?"Start":"View data",target:"form",view:e,path:t.data.path}]}})},r.abrupt("return",o);case 8:case"end":return r.stop()}},r,t)}))()},FormLabels:function(e){var t=this;return c(regeneratorRuntime.mark(function r(){var n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.local().get();case 2:return n=r.sent,r.abrupt("return",a.default.get(n,e));case 4:case"end":return r.stop()}},r,t)}))()},getUpdatedAt:function(e){return o.default.get(function(){return e[0].fastUpdated},0)},setOffline:function(e){var t=this;return c(regeneratorRuntime.mark(function r(){var i,a,u,l,f,h=e.appConf;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.local().get();case 2:return i=e.sent,a=t.getUpdatedAt(i),e.next=6,s.default.local().first();case 6:if(u=e.sent,l=o.default.get(function(){return h.offlineFiles.Forms}),!(u.fastUpdated<a)){e.next=10;break}return e.abrupt("return",i);case 10:if(!i){e.next=13;break}return e.next=13,t.local().clear({sure:!0});case 13:return f=(0,n.default)().unix(),l.forEach(function(){var e=c(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.local().insert({data:r,fastUpdated:f});case 2:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",l);case 16:case"end":return e.stop()}},r,t)}))()},setOnline:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var r,i,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.remote().limit(9999999).get();case 2:if(r=t.sent,i=(0,n.default)().unix(),!r||o.default.isEmpty(r)){t.next=11;break}return t.next=7,e.local().clear({sure:!0});case 7:return a=r.reduce(function(e,t){var r={data:t,fastUpdated:i};return e.push(r),e},[]),t.next=10,e.local().insert(a,{showProgress:!0});case 10:return t.abrupt("return",t.sent);case 11:case"end":return t.stop()}},t,e)}))()},set:function(e){var t=this;return c(regeneratorRuntime.mark(function r(){var n=e.appConf,o=e.forceOnline;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return",t.setOffline({appConf:n}));case 2:return e.abrupt("return",t.setOnline());case 3:case"end":return e.stop()}},r,t)}))()},getFastTableTemplates:function(e){var t=this;return c(regeneratorRuntime.mark(function r(){var n,i,a=e.path;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.local().where("data.path","=",a).first();case 2:return n=e.sent,i=[],o.default.eachComponent(n.data.components,function(e){e.properties&&e.properties.FAST_TABLE_TEMPLATE&&i.push({key:e.key,template:e.properties.FAST_TABLE_TEMPLATE})}),e.abrupt("return",i);case 6:case"end":return e.stop()}},r,t)}))()}}})()},function(e,t,r){"use strict";function n(e,t){return e.then(function(e){return[null,e]}).catch(function(e){return t&&Object.assign(e,t),[e,void 0]})}r.r(t),r.d(t,"to",function(){return n}),t.default=n},function(e,t,r){e.exports=r(45)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(9)),o=i(r(7));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(){var e="undefined"==typeof window||!window||!window.navigator||window.navigator.onLine;return Object.freeze({isOnline:function(){return new Promise(function(e,t){o.default.get("https://yesno.wtf/api").then(function(t){e(!0)}).catch(function(t){e(!1)})})},initEventListeners:function(){n.default.listen({name:"online",callback:function(){console.log("App is now online"),e||(e=!0,n.default.emit({name:"GOAT:CONNECTION:ONLINE",data:e,text:"Application is now online"}))}}),n.default.listen({name:"offline",callback:function(){console.log("App is now offline"),e&&(e=!1,n.default.emit({name:"GOAT:CONNECTION:OFFLINE",data:e,text:"Application is now offline"}))}})}})}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){var e=function(e,t){var r=document.createEvent("CustomEvent");return t=t||{bubbles:!1,cancelable:!1,detail:void 0},r.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r};return Object.freeze({emit:function(t){var r=t.name,n=t.data,o=t.text;if(!r)throw new Error("Event must have a name.");if(!n)throw new Error("Event must have data.");if(!o)throw new Error("Event must have a text.");var i=e(r,{detail:{data:n,text:o}});window.dispatchEvent(i)},listen:function(e){var t=e.name,r=e.callback;if(!t)throw new Error("Listener must have a name.");if(!r)throw new Error("Listener must have a callback.");window.addEventListener(t,r)},remove:function(e){var t=e.name,r=e.callback;if(!t)throw new Error("Listener must have a name to detach");if(!r)throw new Error("Listener must have a callback to detach");window.removeEventListener(t,r)}})}();t.default=n},function(e,t,r){var n=r(28),o=r(64),i=r(30),a=r(65),s=r(13),u=r(18),c=r(32),l=r(31),f=Array.prototype.concat;function h(){var e=f.apply([],arguments).filter(u);return 0===e.length?void 0:e}function d(e){if(!s(e))return e;var t=e.methods,r=e.properties,n=e.props,o=e.initializers,i=e.init,u=e.composers,f=e.deepProperties,d=e.deepProps,p=e.propertyDescriptors,v=e.staticProperties,m=e.statics,y=e.staticDeepProperties,g=e.deepStatics,w=e.configuration,b=e.conf,x=e.deepConfiguration,_=e.deepConf,E=s(n)||s(r)?l({},n,r):void 0,O=s(d)?c({},d):void 0;O=s(f)?c(O,f):O;var k=s(m)||s(v)?l({},m,v):void 0,S=s(g)?c({},g):void 0;S=s(y)?c(S,y):S;var A=e.staticPropertyDescriptors;a(e.name)&&(A=l({},A||{},{name:{value:e.name}}));var P=s(b)||s(w)?l({},b,w):void 0,C=s(_)?c({},_):void 0;C=s(x)?c(C,x):C;var R=h(i,o),T=h(u),M={};return t&&(M.methods=t),E&&(M.properties=E),R&&(M.initializers=R),T&&(M.composers=T),O&&(M.deepProperties=O),k&&(M.staticProperties=k),S&&(M.staticDeepProperties=S),p&&(M.propertyDescriptors=p),A&&(M.staticPropertyDescriptors=A),P&&(M.configuration=P),C&&(M.deepConfiguration=C),M}function p(){"use strict";for(var e=arguments.length,t=[],r=0;r<e;r+=1){var o=arguments[r];t.push(i(o)?o:d(o))}return n.apply(this||v,t)}var v=o.compose({staticProperties:{create:function(){return this.apply(this,arguments)},compose:p}}),m=o.compose.staticProperties;for(var y in m)p[y]=m[y].bind(v);p.compose=p.bind(),e.exports=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=d(r(12)),a=d(r(4)),s=d(r(0)),u=d(r(5)),c=r(3),l=d(r(78)),f=d(r(6)),h=d(r(7));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function v(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}t.default=c.Fluent.model({properties:{name:"Submission",config:{remote:void 0}},init:function(e){var t=e.path;this.path=t,this.config={remote:{path:t}}},methods:{form:function(){var e=this;return v(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}))()},getUnsync:function(){var e=this;return v(regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.local().where("sync","=",!1).andWhere("draft","=",!1).andWhere("syncError","=",!1).owner((0,i.default)().connector().email()).orderBy("created","desc","date").get();case 2:return t.t0=function(e){return!e.queuedForSync},r=t.sent.filter(t.t0),t.abrupt("return",r);case 5:case"end":return t.stop()}},t,e)}))()},showView:function(e){var t=this;return v(regeneratorRuntime.mark(function r(){var c,d,v,m,y,g,w,b,x,_,E,O,k,S,A,P,C,R,T=e.from,M=e.limit,j=e.owner,I=e.paginator,D=e.filter,N=e.url,L=e.timeFilter,F=e.companyFilter,U=e.classifier;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.default.getTableView(t.path);case 2:if(c=e.sent,d=c.map(function(e){return"data."+e.path+" as "+e.path}),c=c.map(function(e){return e.path}),d=[].concat(p(d),["_id","created","modified","syncError","draft","sync"]),v=[],"remote"!==T){e.next=39;break}if(m=void 0,y=void 0,I){e.next=27;break}if(L){e.next=19;break}return e.next=13,(0,f.default)(t.remote().select(d).limit(M).get());case 13:g=e.sent,w=o(g,2),m=w[0],y=w[1],e.next=25;break;case 19:return e.next=21,(0,f.default)(t.remote().where("modified",">=",(0,a.default)().subtract(1,L).toISOString()).select(d).limit(M).get());case 21:b=e.sent,x=o(b,2),m=x[0],y=x[1];case 25:e.next=35;break;case 27:return _={tableCols:c,paginator:I,filter:D,classifiedBy:j},U&&(_=n({},_,{timeFilter:(0,a.default)().subtract(1,L).toISOString(),extraFilters:"all"!==F?{"data.company":F}:{}})),e.next=31,h.default.get(N.base+"/tableSearch/"+N.form,{params:_});case 31:E=e.sent,O=E.data.docs.map(function(e){var t={},r=!0,n=!1,o=void 0;try{for(var i,a=d[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var u=i.value,c=s.default.getFromPath(e,u,"");t[c.label]=c.value}}catch(e){n=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(n)throw o}}return t}),I={page:E.data.page,rowsPerPage:E.data.limit,rowsNumber:E.data.totalDocs},y={paginator:I,data:O};case 35:m&&(console.log("error",m),v=[]),v=!m&&y,e.next=52;break;case 39:return e.next=41,t.local().select(d).limit(M).owner(j).get();case 41:return v=e.sent,e.next=44,(0,f.default)(t.remote().select(d).limit(M).owner((0,i.default)().connector().user()._id).get());case 44:k=e.sent,S=o(k,2),A=S[0],P=S[1],[],A&&console.log("error",A),C=A?[]:P,v=[].concat(p(v),p(C));case 52:return e.next=54,u.default.getFastTableTemplates({path:t.path});case 54:return R=e.sent,I?(v.data=v.data.map(function(e){var t={_id:e._id,status:!1===e.sync?"offline":"online",draft:e.draft,HumanUpdated:Number.isInteger(e.modified)?a.default.unix(e.modified).fromNow():(0,a.default)(e.modified).fromNow(),syncError:!!e.syncError&&e.syncError,updated:Number.isInteger(e.modified)?e.modified:(0,a.default)(e.modified).unix()};return R.forEach(function(t){var r=new Function("value","data",t.template);try{e[t.key]=r(e[t.key],e)}catch(e){console.log("There is an error in one of your calculations",e)}}),n({},t,e)}),v.data=v.data.sort(function(e,t){return(e=new Date(e.updated))>(t=new Date(t.updated))?-1:e<t?1:0})):v=(v=v.map(function(e){var t={_id:e._id,status:!1===e.sync?"offline":"online",draft:e.draft,HumanUpdated:Number.isInteger(e.modified)?a.default.unix(e.modified).fromNow():(0,a.default)(e.modified).fromNow(),syncError:!!e.syncError&&e.syncError,updated:Number.isInteger(e.modified)?e.modified:(0,a.default)(e.modified).unix()};return R.forEach(function(t){var r=new Function("value","data",t.template);try{e[t.key]=r(e[t.key],e)}catch(e){console.log("There is an error in one of your calculations",e)}}),n({},t,e)})).sort(function(e,t){return(e=new Date(e.updated))>(t=new Date(t.updated))?-1:e<t?1:0}),e.abrupt("return",v);case 57:case"end":return e.stop()}},r,t)}))()},getParallelParticipants:function(e,t){var r=this;return v(regeneratorRuntime.mark(function n(){var o,i,a,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.local().where("_id","=",e).first();case 2:return o=n.sent,i=(i=s.default.get(function(){return o.data.parallelSurvey}))&&"[object Object]"!==i?JSON.parse(i).groupId:void 0,n.next=7,r.local().where("path","=",t).get();case 7:return a=n.sent,u=a.filter(function(e){var t=s.default.get(function(){return e.data.parallelSurvey});try{return(t=t&&"[object Object]"!==t?JSON.parse(t).groupId:void 0)&&t===i}catch(e){return!1}}),n.abrupt("return",u.map(function(e){return JSON.parse(e.data.parallelSurvey)}));case 10:case"end":return n.stop()}},n,r)}))()},getParallelSurvey:function(e){var t=s.default.get(function(){return e.parallelSurvey});return t=t&&"[object Object]"!==t?JSON.parse(t):void 0},setParallelSurvey:function(e){return JSON.stringify(e)},getGroups:function(e){var t=this;return v(regeneratorRuntime.mark(function r(){var n,o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.local().where("path","=",e).get();case 2:return n=r.sent,n=e?n.filter(function(t){return t.data.formio.formId===e}):n,o=(o=n.map(function(e){return t.local().getParallelSurvey(e)?{groupId:t.local().getParallelSurvey(e).groupId,groupName:t.local().getParallelSurvey(e).groupName}:void 0})).filter(function(e){return void 0!==e}),r.abrupt("return",s.default.uniqBy(o,"groupId"));case 7:case"end":return r.stop()}},r,t)}))()},getGroup:function(e){var t=this;return v(regeneratorRuntime.mark(function r(){var n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.local().getGroups();case 2:return n=(n=r.sent).filter(function(t){return t.groupId===e}),r.abrupt("return",n[0]);case 5:case"end":return r.stop()}},r,t)}))()},removeFromGroup:function(e){var t=this;return v(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,t)}))()},assingToGroup:function(e,t){var r=this;return v(regeneratorRuntime.mark(function o(){var i,a,s,u;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,r.local().getGroup(t[0]);case 2:return i=o.sent,o.next=5,r.local().get(e);case 5:return a=o.sent,s=r.local().getParallelSurvey(a),u=n({},s,{groupId:i.groupId,groupName:i.groupName}),a.data.data.parallelSurvey=r.local().setParallelSurvey(u),o.next=11,r.local().update(a);case 11:case"end":return o.stop()}},o,r)}))()}}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(10)),o=a(r(66)),i=a(r(68));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.default)({init:function(e){var t=e.baseUrl;this.baseUrl=t},properties:{default:"Formio",baseUrl:void 0,connectors:{Formio:o.default,Keycloak:i.default}},methods:{getConnector:function(e){return this.connectors[e]({baseUrl:this.baseUrl})},connector:function(e){return e?this.getConnector(e):this.getConnector(this.default)}}})},function(e,t){e.exports=function(e){var t=typeof e;return Boolean(e)&&("object"===t||"function"===t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=u(r(0)),i=r(3),a=u(r(2)),s=u(r(4));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}t.default=i.Fluent.model({properties:{name:"Translation",config:{remote:{path:"translations"}}},methods:{getFormTranslations:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var r,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={},t.next=3,e.local().first();case 3:return n=t.sent,n=o.default.get(function(){return n.data},{}),Object.keys(n).forEach(function(e){"type"!==e&&(r[e]=n[e])}),t.abrupt("return",r);case 7:case"end":return t.stop()}},t,e)}))()},supportedLanguages:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var r,n,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.local().get();case 2:if(0!==(r=t.sent).length){t.next=5;break}return t.abrupt("return",[]);case 5:return n=e.getIsoLanguages(),i=[],r=o.default.get(function(){return r[0].data},[]),Object.keys(r).forEach(function(e){var t=n.find(function(t){return t.code===e});t&&i.push(t)}),i=i.sort(function(e,t){return(e=e.label)>(t=t.label)?1:e<t?-1:0}),t.abrupt("return",i);case 11:case"end":return t.stop()}},t,e)}))()},getIsoLanguages:function(){return r(43)},getLocalizationDate:function(e){return o.default.get(function(){return e[0].fastUpdated},0)},set:function(e){var t=this;return c(regeneratorRuntime.mark(function r(){var n=e.appConf,o=e.forceOnline;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return",t.setOffline({appConf:n}));case 2:return e.abrupt("return",t.setOnline({appConf:n}));case 3:case"end":return e.stop()}},r,t)}))()},setOffline:function(e){var t=this;return c(regeneratorRuntime.mark(function r(){var n,o,i,s,u,c=e.appConf;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.local().get();case 2:return n=e.sent,o=t.getLocalizationDate(n),e.next=6,a.default.local().first();case 6:if(i=e.sent,s=c.offlineFiles.Translations,!(i.fastUpdated<o)){e.next=10;break}return e.abrupt("return",n[0].data);case 10:return e.next=12,t.process(s);case 12:return u=e.sent,e.abrupt("return",t.storeTranslations(u));case 14:case"end":return e.stop()}},r,t)}))()},setOnline:function(e){var t=this;return c(regeneratorRuntime.mark(function r(){var n,o;e.appConf;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.local().get();case 2:return n=e.sent,e.next=5,t.remote().limit(5e4).get();case 5:if(!(o=e.sent)){e.next=14;break}return e.next=9,t.process(o);case 9:return o=e.sent,e.next=12,t.storeTranslations(o);case 12:return o=e.sent,e.abrupt("return",o);case 14:if(!(n.length>0&&n[0].data)){e.next=16;break}return e.abrupt("return",n[0].data);case 16:case"end":return e.stop()}},r,t)}))()},storeTranslations:function(e){var t=this;return c(regeneratorRuntime.mark(function r(){var n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t.local().clear({sure:!0}),r.next=3,t.local().insert({data:e,fastUpdated:(0,s.default)().unix()});case 3:return n=r.sent,r.abrupt("return",n.data);case 5:case"end":return r.stop()}},r,t)}))()},process:function(e){var t=this;return c(regeneratorRuntime.mark(function r(){var n,o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.getIsoLanguages(),(o={}).label={},n.forEach(function(t){e.forEach(function(e){e.data&&e.data[t.code]&&(o[t.code]||(o[t.code]={}),o[t.code][e.data.label]=e.data[t.code]),e.data&&e.data.label&&(o.label[e.data.label]=e.data.label)})}),r.abrupt("return",o);case 5:case"end":return r.stop()}},r,t)}))()},updateLabel:function(e,t){var r=this;return c(regeneratorRuntime.mark(function o(){var i,a,s,u;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,r.remote().where("data.label","=",e).first();case 2:return i=o.sent,a=i._id,s=n({},i.data,t),o.next=7,r.remote().update({_id:a,data:s});case 7:return u=o.sent,o.abrupt("return",u);case 9:case"end":return o.stop()}},o,r)}))()},createTranslation:function(e){var t=this;return c(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t.remote().insert({data:{en:e,label:e}}));case 1:case"end":return r.stop()}},r,t)}))()}}})()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(3),a=l(r(0)),s=l(r(2)),u=l(r(6)),c=l(r(4));function l(e){return e&&e.__esModule?e:{default:e}}function f(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}t.default=i.Fluent.model({properties:{name:"Pages",config:{remote:{path:"fast-app-pages",token:void 0}}},methods:{set:function(e){var t=this;return f(regeneratorRuntime.mark(function r(){var n=e.appConf,o=e.forceOnline;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return",t.setOffline({appConf:n}));case 2:return e.abrupt("return",t.setOnline());case 3:case"end":return e.stop()}},r,t)}))()},setOffline:function(e){var t=this;return f(regeneratorRuntime.mark(function r(){var n,i,u,l,f,h,d=e.appConf;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.local().first();case 2:return n=e.sent,i=t.getUpdatedDate(n),e.next=6,s.default.local().first();case 6:if(u=e.sent,!(l=a.default.get(function(){return d.offlineFiles.Pages[0].data})).hasOwnProperty("pages")){for(f=[],h=0;h<d.offlineFiles.Pages.length;h+=1)f.push(d.offlineFiles.Pages[h].data);l={pages:f,submit:!0}}if(!(u.fastUpdated<i)){e.next=11;break}return e.abrupt("return",a.default.get(function(){return n.data}));case 11:if(!n){e.next=14;break}return e.next=14,t.local().clear({sure:!0});case 14:return e.abrupt("return",t.local().insert(o({},l,{fastUpdated:(0,c.default)().unix()})));case 15:case"end":return e.stop()}},r,t)}))()},setOnline:function(){var e=this;return f(regeneratorRuntime.mark(function t(){var r,i,s,l,f,h,d;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.local().first();case 2:return r=t.sent,t.next=5,(0,u.default)(e.remote().limit(9999999).get());case 5:if(i=t.sent,s=n(i,2),l=s[0],f=s[1],!l){t.next=12;break}throw console.log(l),new Error("Could not get remote Pages.");case 12:if(f[0].data.hasOwnProperty("pages"))f=a.default.get(function(){return f[0].data});else{for(h=[],d=0;d<f.length;d+=1)h.push(f[d].data);f={pages:h,submit:!0}}if(!f||a.default.isEmpty(f)){t.next=18;break}if(!r){t.next=17;break}return t.next=17,e.local().clear({sure:!0});case 17:return t.abrupt("return",e.local().insert(o({},f,{fastUpdated:(0,c.default)().unix()})));case 18:return t.abrupt("return",r);case 19:case"end":return t.stop()}},t,e)}))()},getUpdatedDate:function(e){return a.default.get(function(){return e.fastUpdated},0)}}})()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=f(r(7)),i=f(r(2)),a=f(r(0)),s=r(3),u=f(r(8)),c=f(r(6)),l=f(r(5));function f(e){return e&&e.__esModule?e:{default:e}}function h(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}t.default=s.Fluent.model({properties:{name:"User",config:{remote:{path:"user",token:void 0}}},methods:{storeLocally:function(e){var t=this;return h(regeneratorRuntime.mark(function r(){var o,i,s,f,h;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.local().where("data.email","=",e.data.email).first();case 2:if(o=r.sent,e=a.default.deleteNulls(e),!(!!o&&!a.default.isEmpty(o))){r.next=7;break}throw new Error("The user email is already taken");case 7:if(!u.default.isOnline()){r.next=17;break}return r.next=10,(0,c.default)(l.default.getModel({path:"userregister"}).remote().insert(e));case 10:if(i=r.sent,s=n(i,2),f=s[0],h=s[1],!f){r.next=16;break}throw new Error("The user email is already taken");case 16:return r.abrupt("return",t.local().insert(h));case 17:return r.abrupt("return",t.local().insert(e));case 18:case"end":return r.stop()}},r,t)}))()},updateUser:function(e){var t=this;return h(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.local().where("data.email","=",e.data.email).pluck("_id");case 2:return r.sent.forEach(function(){var e=h(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.local().remove(r);case 2:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()),e=a.default.deleteNulls(e),r.abrupt("return",t.local().insert(e));case 6:case"end":return r.stop()}},r,t)}))()},login:function(e){var t=this;return h(regeneratorRuntime.mark(function r(){var n,a=e.credentials,s=e.role;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.default.local().first();case 2:return n=e.sent.APP_URL,n+="admin"===s?"/admin/login":"/user/login",e.abrupt("return",o.default.post(n,{data:a}));case 5:case"end":return e.stop()}},r,t)}))()}}})()},function(e,t,r){"use strict";(function(t){var n=r(1),o=r(47),i={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s={adapter:function(){var e;return"undefined"!=typeof XMLHttpRequest?e=r(24):void 0!==t&&(e=r(24)),e}(),transformRequest:[function(e,t){return o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],function(e){s.headers[e]={}}),n.forEach(["post","put","patch"],function(e){s.headers[e]=n.merge(i)}),e.exports=s}).call(this,r(20))},function(e,t){e.exports=function(e){return"function"==typeof e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=r(3),i=c(r(0)),a=c(r(8)),s=c(r(6)),u=c(r(4));function c(e){return e&&e.__esModule?e:{default:e}}function l(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}t.default=o.Fluent.model({properties:{name:"Role",config:{remote:{path:"access",token:void 0,pullForm:!0}}},methods:{set:function(e){var t=this;return l(regeneratorRuntime.mark(function r(){var n=e.url,o=e.appConf,i=e.forceOnline;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=2;break}return e.abrupt("return",t.setOffline({appConf:o}));case 2:return e.abrupt("return",t.setOnline({url:n}));case 3:case"end":return e.stop()}},r,t)}))()},getRolesDate:function(e){return i.default.get(function(){return e.fastUpdated},0)},setOnline:function(){var e=this;return l(regeneratorRuntime.mark(function t(){var r,o,c,l,f,h;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=void 0,o=void 0,t.next=4,e.local().first();case 4:return c=t.sent,t.next=7,a.default.isOnline();case 7:if(!t.sent){t.next=17;break}return t.next=11,(0,s.default)(e.remote().first());case 11:if(l=t.sent,f=n(l,2),r=f[0],o=f[1],!r){t.next=17;break}throw new Error(r);case 17:if(!(o=i.default.get(function(){return o.roles}))){t.next=27;break}if(!c){t.next=22;break}return t.next=22,e.local().clear();case 22:return o.fastUpdated=(0,u.default)().unix(),t.next=25,e.local().insert(o);case 25:return h=t.sent,t.abrupt("return",h);case 27:return t.abrupt("return",c);case 28:case"end":return t.stop()}},t,e)}))()},setOffline:function(e){var t=this;return l(regeneratorRuntime.mark(function r(){var n,o,i,a=e.appConf;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.local().first();case 2:if(n=e.sent,o=t.getRolesDate(n),!(a.offlineFiles.lastUpdated.date>o)&&n){e.next=13;break}if(!n){e.next=9;break}return e.next=9,t.local().clear();case 9:return e.next=11,t.local().insert(a.offlineFiles.Roles);case 11:return i=e.sent,e.abrupt("return",i);case 13:return e.abrupt("return",n);case 14:case"end":return e.stop()}},r,t)}))()}}})()},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=s(h);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t)),1!==c.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=c(r(16)),i=c(r(12)),a=c(r(11)),s=c(r(79)),u=c(r(38));function c(e){return e&&e.__esModule?e:{default:e}}function l(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,null,[{key:"now",value:function(){var t=l(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.syncUsers();case 2:if(!(0,i.default)().connector().check()){t.next=5;break}return t.next=5,e.syncSubmission(r);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"syncSubmission",value:function(){var t=l(regeneratorRuntime.mark(function t(){var r,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.areUsersSynced();case 2:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,(0,a.default)().getUnsync();case 7:return r=t.sent,t.next=10,u.default.isSyncing();case 10:n=t.sent,r.length>0&&!n&&s.default.send(r);case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getUsersToSync",value:function(){var e=l(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.default.local().where("sync","=",!1).andWhere("queuedForSync","=",!1).andWhere("syncError","=",!1).get();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"areUsersSynced",value:function(){var t=l(regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getUsersToSync();case 2:return r=t.sent,t.abrupt("return",!!r&&Array.isArray(r)&&0===r.length);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"syncUsers",value:function(){var t=l(regeneratorRuntime.mark(function t(){var r,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getUsersToSync();case 2:return r=t.sent,t.next=5,u.default.isSyncing();case 5:n=t.sent,Array.isArray(r)&&r.length>0&&!n&&s.default.syncUsers(r);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),e}();t.default=f},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(r(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,r){"use strict";var n=r(1),o=r(48),i=r(50),a=r(51),s=r(52),u=r(25),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||r(53);e.exports=function(e){return new Promise(function(t,l){var f=e.data,h=e.headers;n.isFormData(f)&&delete h["Content-Type"];var d=new XMLHttpRequest,p="onreadystatechange",v=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||s(e.url)||(d=new window.XDomainRequest,p="onload",v=!0,d.onprogress=function(){},d.ontimeout=function(){}),e.auth){var m=e.auth.username||"",y=e.auth.password||"";h.Authorization="Basic "+c(m+":"+y)}if(d.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d[p]=function(){if(d&&(4===d.readyState||v)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?a(d.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:r,config:e,request:d};o(t,l,n),d=null}},d.onerror=function(){l(u("Network Error",e,null,d)),d=null},d.ontimeout=function(){l(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",d)),d=null},n.isStandardBrowserEnv()){var g=r(54),w=(e.withCredentials||s(e.url))&&e.xsrfCookieName?g.read(e.xsrfCookieName):void 0;w&&(h[e.xsrfHeaderName]=w)}if("setRequestHeader"in d&&n.forEach(h,function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete h[t]:d.setRequestHeader(t,e)}),e.withCredentials&&(d.withCredentials=!0),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){d&&(d.abort(),l(e),d=null)}),void 0===f&&(f=null),d.send(f)})}},function(e,t,r){"use strict";var n=r(49);e.exports=function(e,t,r,o,i){var a=new Error(e);return n(a,t,r,o,i)}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,r){var n=r(29),o=r(18),i=r(13),a=r(30),s=r(62),u=r(31),c=r(32),l=Array.prototype.slice;function f(e,t){var r=function e(t){var r=e.compose||{},n={__proto__:r.methods};if(c(n,r.deepProperties),u(n,r.properties),Object.defineProperties(n,r.propertyDescriptors||{}),!r.initializers||0===r.initializers.length)return n;void 0===t&&(t={});for(var i=r.initializers,a=i.length,s=0;s<a;s+=1){var f=i[s];if(o(f)){var h=f.call(n,t,{instance:n,stamp:e,args:l.apply(arguments)});n=void 0===h?n:h}}return n};e.staticDeepProperties&&c(r,e.staticDeepProperties),e.staticProperties&&u(r,e.staticProperties),e.staticPropertyDescriptors&&Object.defineProperties(r,e.staticPropertyDescriptors);var n=o(r.compose)?r.compose:t;return r.compose=function(){"use strict";return n.apply(this,arguments)},u(r.compose,e),r}function h(e,t,r){if(n(t)){var i=t.length,a=e[r]||[];e[r]=a;for(var s=0;s<i;s+=1){var u=t[s];o(u)&&a.indexOf(u)<0&&a.push(u)}}}function d(e,t,r,n){i(t[r])&&(i(e[r])||(e[r]={}),n(e[r],t[r]))}function p(e,t,r){d(e,t,r,c)}function v(e,t,r){d(e,t,r,u)}function m(e,t){var r=t&&t.compose||t;v(e,r,"methods"),v(e,r,"properties"),p(e,r,"deepProperties"),v(e,r,"propertyDescriptors"),v(e,r,"staticProperties"),p(e,r,"staticDeepProperties"),v(e,r,"staticPropertyDescriptors"),v(e,r,"configuration"),p(e,r,"deepConfiguration"),h(e,r.initializers,"initializers"),h(e,r.composers,"composers")}e.exports=function e(){"use strict";var t={},r=[];s(this)&&(m(t,this),r.push(this));for(var o=0;o<arguments.length;o++){var i=arguments[o];s(i)&&(m(t,i),r.push(i))}var u=f(t,e),c=t.composers;if(n(c)&&c.length>0)for(var l=0;l<c.length;l+=1){var h=(0,c[l])({stamp:u,composables:r});u=a(h)?h:u}return u}},function(e,t){e.exports=Array.isArray},function(e,t,r){var n=r(18);e.exports=function(e){return n(e)&&n(e.compose)}},function(e,t){e.exports=Object.assign},function(e,t,r){var n=r(63),o=r(13),i=r(29);function a(e,t){if(void 0===t)return e;if(i(t))return(i(e)?e:[]).concat(t);if(!n(t))return t;for(var r=o(e)?e:{},s=Object.keys(t),u=0;u<s.length;u+=1){var c=s[u],l=t[c];if(void 0!==l){var f=r[c],h=n(f)||i(l)?f:{};r[c]=a(h,l)}}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++)e=a(e,arguments[t]);return e}},function(e,t,r){var n,o,i,a,s;n=r(67),o=r(34).utf8,i=r(23),a=r(34).bin,(s=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?a.stringToBytes(e):o.stringToBytes(e):i(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var r=n.bytesToWords(e),u=8*e.length,c=1732584193,l=-271733879,f=-1732584194,h=271733878,d=0;d<r.length;d++)r[d]=16711935&(r[d]<<8|r[d]>>>24)|4278255360&(r[d]<<24|r[d]>>>8);r[u>>>5]|=128<<u%32,r[14+(u+64>>>9<<4)]=u;var p=s._ff,v=s._gg,m=s._hh,y=s._ii;for(d=0;d<r.length;d+=16){var g=c,w=l,b=f,x=h;c=p(c,l,f,h,r[d+0],7,-680876936),h=p(h,c,l,f,r[d+1],12,-389564586),f=p(f,h,c,l,r[d+2],17,606105819),l=p(l,f,h,c,r[d+3],22,-1044525330),c=p(c,l,f,h,r[d+4],7,-176418897),h=p(h,c,l,f,r[d+5],12,1200080426),f=p(f,h,c,l,r[d+6],17,-1473231341),l=p(l,f,h,c,r[d+7],22,-45705983),c=p(c,l,f,h,r[d+8],7,1770035416),h=p(h,c,l,f,r[d+9],12,-1958414417),f=p(f,h,c,l,r[d+10],17,-42063),l=p(l,f,h,c,r[d+11],22,-1990404162),c=p(c,l,f,h,r[d+12],7,1804603682),h=p(h,c,l,f,r[d+13],12,-40341101),f=p(f,h,c,l,r[d+14],17,-1502002290),c=v(c,l=p(l,f,h,c,r[d+15],22,1236535329),f,h,r[d+1],5,-165796510),h=v(h,c,l,f,r[d+6],9,-1069501632),f=v(f,h,c,l,r[d+11],14,643717713),l=v(l,f,h,c,r[d+0],20,-373897302),c=v(c,l,f,h,r[d+5],5,-701558691),h=v(h,c,l,f,r[d+10],9,38016083),f=v(f,h,c,l,r[d+15],14,-660478335),l=v(l,f,h,c,r[d+4],20,-405537848),c=v(c,l,f,h,r[d+9],5,568446438),h=v(h,c,l,f,r[d+14],9,-1019803690),f=v(f,h,c,l,r[d+3],14,-187363961),l=v(l,f,h,c,r[d+8],20,1163531501),c=v(c,l,f,h,r[d+13],5,-1444681467),h=v(h,c,l,f,r[d+2],9,-51403784),f=v(f,h,c,l,r[d+7],14,1735328473),c=m(c,l=v(l,f,h,c,r[d+12],20,-1926607734),f,h,r[d+5],4,-378558),h=m(h,c,l,f,r[d+8],11,-2022574463),f=m(f,h,c,l,r[d+11],16,1839030562),l=m(l,f,h,c,r[d+14],23,-35309556),c=m(c,l,f,h,r[d+1],4,-1530992060),h=m(h,c,l,f,r[d+4],11,1272893353),f=m(f,h,c,l,r[d+7],16,-155497632),l=m(l,f,h,c,r[d+10],23,-1094730640),c=m(c,l,f,h,r[d+13],4,681279174),h=m(h,c,l,f,r[d+0],11,-358537222),f=m(f,h,c,l,r[d+3],16,-722521979),l=m(l,f,h,c,r[d+6],23,76029189),c=m(c,l,f,h,r[d+9],4,-640364487),h=m(h,c,l,f,r[d+12],11,-421815835),f=m(f,h,c,l,r[d+15],16,530742520),c=y(c,l=m(l,f,h,c,r[d+2],23,-995338651),f,h,r[d+0],6,-198630844),h=y(h,c,l,f,r[d+7],10,1126891415),f=y(f,h,c,l,r[d+14],15,-1416354905),l=y(l,f,h,c,r[d+5],21,-57434055),c=y(c,l,f,h,r[d+12],6,1700485571),h=y(h,c,l,f,r[d+3],10,-1894986606),f=y(f,h,c,l,r[d+10],15,-1051523),l=y(l,f,h,c,r[d+1],21,-2054922799),c=y(c,l,f,h,r[d+8],6,1873313359),h=y(h,c,l,f,r[d+15],10,-30611744),f=y(f,h,c,l,r[d+6],15,-1560198380),l=y(l,f,h,c,r[d+13],21,1309151649),c=y(c,l,f,h,r[d+4],6,-145523070),h=y(h,c,l,f,r[d+11],10,-1120210379),f=y(f,h,c,l,r[d+2],15,718787259),l=y(l,f,h,c,r[d+9],21,-343485551),c=c+g>>>0,l=l+w>>>0,f=f+b>>>0,h=h+x>>>0}return n.endian([c,l,f,h])})._ff=function(e,t,r,n,o,i,a){var s=e+(t&r|~t&n)+(o>>>0)+a;return(s<<i|s>>>32-i)+t},s._gg=function(e,t,r,n,o,i,a){var s=e+(t&n|r&~n)+(o>>>0)+a;return(s<<i|s>>>32-i)+t},s._hh=function(e,t,r,n,o,i,a){var s=e+(t^r^n)+(o>>>0)+a;return(s<<i|s>>>32-i)+t},s._ii=function(e,t,r,n,o,i,a){var s=e+(r^(t|~n))+(o>>>0)+a;return(s<<i|s>>>32-i)+t},s._blocksize=16,s._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var r=n.wordsToBytes(s(e,t));return t&&t.asBytes?r:t&&t.asString?a.bytesToString(r):n.bytesToHex(r)}},function(e,t){var r={utf8:{stringToBytes:function(e){return r.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(r.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}};e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(10),i=(n=o)&&n.__esModule?n:{default:n};t.default=(0,i.default)({methods:{user:function(){throw new Error("user() method not implemented in this connector")},email:function(){throw new Error("email() method not implemented in this connector")},hasRoleIn:function(){throw new Error("hasRoleIn() method not implemented in this connector")},hasRoleIdIn:function(){throw new Error("hasRoleIdIn() method not implemented in this connector")},hasRole:function(){throw new Error("hasRole() method not implemented in this connector")},check:function(){throw new Error("check() method not implemented in this connector")},logOut:function(){throw new Error("logOut() method not implemented in this connector")},attempt:function(e,t,r){throw new Error("authenticate() method not implemented in this connector")}}})},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,o=Array.isArray,i=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r};e.exports={arrayToObject:a,assign:function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],a=i.obj[i.prop],s=Object.keys(a),u=0;u<s.length;++u){var c=s[u],l=a[c];"object"==typeof l&&null!==l&&-1===r.indexOf(l)&&(t.push({obj:a,prop:c}),r.push(l))}return function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(o(r)){for(var n=[],i=0;i<r.length;++i)void 0!==r[i]&&n.push(r[i]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,r){if(0===e.length)return e;var n="string"==typeof e?e:String(e);if("iso-8859-1"===r)return escape(n).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var o="",a=0;a<n.length;++a){var s=n.charCodeAt(a);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122?o+=n.charAt(a):s<128?o+=i[s]:s<2048?o+=i[192|s>>6]+i[128|63&s]:s<55296||s>=57344?o+=i[224|s>>12]+i[128|s>>6&63]+i[128|63&s]:(a+=1,s=65536+((1023&s)<<10|1023&n.charCodeAt(a)),o+=i[240|s>>18]+i[128|s>>12&63]+i[128|s>>6&63]+i[128|63&s])}return o},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,r,i){if(!r)return t;if("object"!=typeof r){if(o(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(i&&(i.plainObjects||i.allowPrototypes)||!n.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);var s=t;return o(t)&&!o(r)&&(s=a(t,i)),o(t)&&o(r)?(r.forEach(function(r,o){if(n.call(t,o)){var a=t[o];a&&"object"==typeof a&&r&&"object"==typeof r?t[o]=e(a,r,i):t.push(r)}else t[o]=r}),t):Object.keys(r).reduce(function(t,o){var a=r[o];return n.call(t,o)?t[o]=e(t[o],a,i):t[o]=a,t},s)}}},function(e,t,r){"use strict";var n=String.prototype.replace,o=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return n.call(e,o,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}var i=!1,a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,null,[{key:"isSyncing",value:function(){var e=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i);case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"startSync",value:function(){var e=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=!0,e.abrupt("return",this.isSyncing());case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"stopSync",value:function(){var e=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=!1,e.abrupt("return",this.isSyncing());case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(10),i=(n=o)&&n.__esModule?n:{default:n};t.default=(0,i.default)({methods:{subscribe:function(){throw new Error("subscribe() method not implemented in this connector.")},bind:function(){throw new Error("bind() method not implemented in this connector.")},trigger:function(){throw new Error("trigger() method not implemented in this connector.")}}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Utilities=t.Sync=t.Hash=t.Role=t.OfflinePlugin=t.User=t.Import=t.Translation=t.Configuration=t.ParallelSurvey=t.Submission=t.Pages=t.Form=t.Auth=t.Connection=t.GOAT=t.Event=t.SocketsInterface=t.Sockets=t.Moment=t.Schedule=void 0;var n=O(r(41)),o=O(r(12)),i=O(r(8)),a=O(r(9)),s=O(r(84)),u=O(r(85)),c=O(r(39)),l=O(r(5)),f=O(r(15)),h=O(r(11)),d=O(r(88)),p=O(r(2)),v=O(r(14)),m=O(r(92)),y=O(r(16)),g=O(r(93)),w=O(r(19)),b=O(r(95)),x=O(r(21)),_=O(r(96)),E=O(r(0));function O(e){return e&&e.__esModule?e:{default:e}}t.Schedule=_.default,t.Moment=s.default,t.Sockets=u.default,t.SocketsInterface=c.default,t.Event=a.default,t.GOAT=n.default,t.Connection=i.default,t.Auth=o.default,t.Form=l.default,t.Pages=f.default,t.Submission=h.default,t.ParallelSurvey=d.default,t.Configuration=p.default,t.Translation=v.default,t.Import=m.default,t.User=y.default,t.OfflinePlugin=g.default,t.Role=w.default,t.Hash=b.default,t.Sync=x.default,t.Utilities=E.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=v(r(2)),o=v(r(5)),i=v(r(14)),a=v(r(15)),s=v(r(44)),u=v(r(19)),c=r(3),l=v(r(80)),f=v(r(81)),h=v(r(82)),d=v(r(0)),p=v(r(83));function v(e){return e&&e.__esModule?e:{default:e}}function m(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}var y,g,w,b,x=(y=m(regeneratorRuntime.mark(function e(t){var r,v,m,y,g=t.appConf,w=t.forceOnline;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(p.default.interceptAxios(),w){e.next=5;break}return e.next=4,c.Fluent.config({REMOTE_CONNECTORS:[{default:!0,name:"formio",baseUrl:g.fluentFormioBaseUrl,connector:f.default},{name:"formioConfig",baseUrl:g.appConfigUrl,connector:f.default},{name:"loopback",baseUrl:g.loopbackBaseUrl,connector:h.default}],LOCAL_CONNECTORS:[{name:"loki",connector:l.default,default:!0}],MERGE_CONNECTORS:[{default:!0,name:"formioLoki",connector:c.MergeConnector}]});case 4:s.default.set(3e3);case 5:return e.next=7,n.default.set({appConf:g,forceOnline:w});case 7:return r=e.sent,v=[u.default.set({appConf:g,forceOnline:w}),a.default.set({appConf:g,forceOnline:w}),o.default.set({appConf:g,forceOnline:w}),i.default.set({appConf:g,forceOnline:w})],e.next=11,Promise.all(v);case 11:return m=e.sent,y=m[3],e.abrupt("return",{config:r,translations:y,defaultLanguage:d.default.getLanguage()});case 14:case"end":return e.stop()}},e,this)})),w=function(e){return y.apply(this,arguments)},g=m(regeneratorRuntime.mark(function e(t){var r=t.appConf;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w({appConf:r,forceOnline:!0}));case 1:case"end":return e.stop()}},e,this)})),b=function(e){return g.apply(this,arguments)},Object.freeze({start:w,sync:b}));t.default=x},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=u(r(0)),a=u(r(14)),s=u(r(15));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,null,[{key:"get",value:function(){var e=c(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.handle(t,r));case 1:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=c(regeneratorRuntime.mark(function e(t,r){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchAllLabels(t,r);case 2:return n=e.sent,e.next=5,a.default.local().first();case 5:return o=e.sent.data,Object.keys(o).forEach(function(e){var t=o[e];Object.keys(t).forEach(function(r){n[r]&&t[r]&&""!==t[r]&&(n[r].translations[e]=t[r])})}),e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"fetchAllLabels",value:function(){var e=c(regeneratorRuntime.mark(function e(t,r){var n,o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={},t=t.map(function(e){return e.data}),o=this.getFormLabels(t),e.next=5,this.getAppLabels(r);case 5:return i=e.sent,n=this.mergeLabels(o,i),e.t0=this,e.next=10,s.default.local().first();case 10:return e.t1=e.sent,e.next=13,e.t0.getPagesLabels.call(e.t0,e.t1);case 13:return a=e.sent,n=this.mergeLabels(n,a),e.abrupt("return",n);case 16:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"createOrAdd",value:function(e){var t=e.labels,r=e.label,o=n({},t);return r?(o[r.text]?r.location&&Array.isArray(r.location)?r.location.forEach(function(e){o[r.text].location.push({text:r.text,template:r.template,type:e.type,picture:e.picture})}):o[r.text].location.push(r):r.location&&Array.isArray(r.location)?(o[r.text]={location:[],template:r.template,translations:{}},r.location.forEach(function(e){o[r.text].location.push({text:r.text,template:r.template,type:e.type,picture:e.picture})})):o[r.text]={location:[r],translations:{}},o):o}},{key:"mergeLabels",value:function(e,t){var r=this,o=n({},e);return Object.keys(t).forEach(function(e){o=r.createOrAdd({labels:o,label:n({},t[e],{text:e})})}),o}},{key:"getFormLabels",value:function(e){var t=this,r=function(e){for(var t=/\{\{\s*?instance.t\(\s*?[\'|\"](.*?)(?=([\'|\"]\s*?\))\s*?\}\})/g,r=[],n=t.exec(e);null!==n;)r.push(n[0].replace(/.*?instance\.t\(\s*[\'|\"']/,"").trim()),n=t.exec(e);return r},n={},o=["suffix","prefix","addAnother","removeRow","saveRow","legend","title","label","placeholder","errorLabel"];return e.forEach(function(e){n=t.createOrAdd({labels:n,label:{text:e.title,type:"formTitle",component:e.path,form:e.path,picture:null}}),i.default.eachComponent(e.components,function(i){if(o.forEach(function(r){i[r]&&""!==i[r]&&(n=t.createOrAdd({labels:n,label:{text:i[r],type:r,component:i.key,form:e.path,picture:null}}))}),i.tooltip){var a=r(i.tooltip);0===a.length&&a.push(i.tooltip),a.forEach(function(r){n=t.createOrAdd({labels:n,label:{text:r,type:"tooltip",component:i.key,form:e.path,picture:null}})})}if(i.values&&i.values.forEach(function(r){r.label&&""!==r.label&&(n=t.createOrAdd({labels:n,label:{text:r.label,type:"value",component:i.key,form:e.path,picture:null}}))}),"htmlelement"===i.type||"content"===i.type){var s=(i.content||i.html||"").trim();if(""!==s){var u=r(s);0!==u.length||/<[a-z][\s\S]*>/i.test(s)||u.push(s),u.forEach(function(r){""!==r&&(n=t.createOrAdd({labels:n,label:{text:r,type:"html",component:i.key,form:e.path,picture:null}}))})}}if("select"===i.type&&i.data&&i.data.values&&i.data.values.forEach(function(r){r.label&&""!==r.label&&(n=t.createOrAdd({labels:n,label:{text:r.label,type:"selectValue",component:i.key,form:e.path,picture:null}}))}),"survey"===i.type&&i.questions&&(i.questions.forEach(function(r){n=t.createOrAdd({labels:n,label:{text:r.label,type:"surveyLabel",component:i.key,form:e.path,picture:null}})}),i.values.forEach(function(r){n=t.createOrAdd({labels:n,label:{text:r.label,type:"surveyValues",component:i.key,form:e.path,picture:null}})})),"editgrid"===i.type&&i.templates){var c=r(i.templates.header),l=r(i.templates.footer);Array().concat(c,l).forEach(function(r){""!==r&&(n=t.createOrAdd({labels:n,label:{text:r,type:"editgrid",component:i.key,form:e.path,picture:null}}))})}},!0)}),n}},{key:"getAppLabels",value:function(){var e=c(regeneratorRuntime.mark(function e(t){var r,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},t.forEach(function(e){r=n.createOrAdd({labels:r,label:e})}),e.abrupt("return",r);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getPagesLabels",value:function(){var e=c(regeneratorRuntime.mark(function e(t){var r,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={},t.pages.forEach(function(e){e.title&&""!==e.title&&(r=n.createOrAdd({labels:r,label:{text:e.title,type:"pageTitle",picture:null,page:e}})),e.cards.forEach(function(t){t.title&&""!==t.title&&(r=n.createOrAdd({labels:r,label:{text:t.title,type:"pageCardTitle",picture:null,card:t,page:e}})),t.subtitle&&""!==t.subtitle&&n.createOrAdd({labels:r,label:{text:t.subtitle,type:"pageCardSubtitle",picture:null,card:t,page:e}}),t.actions.forEach(function(o){o.text&&""!==o.text&&(r=n.createOrAdd({labels:r,label:{text:o.text,type:"pageActionButtonText",picture:null,card:t,page:e}}))})})}),e.abrupt("return",r);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=l},function(e){e.exports=[{code:"ab",direction:"ltr",label:"Abkhazian"},{code:"aa",direction:"ltr",label:"Afar"},{code:"af",direction:"ltr",label:"Afrikaans"},{code:"ak",direction:"ltr",label:"Akan"},{code:"sq",direction:"ltr",label:"Albanian"},{code:"am",direction:"ltr",label:"Amharic"},{code:"ar",direction:"rtl",label:"Arabic"},{code:"an",direction:"ltr",label:"Aragonese"},{code:"hy",direction:"ltr",label:"Armenian"},{code:"as",direction:"ltr",label:"Assamese"},{code:"av",direction:"ltr",label:"Avaric"},{code:"ae",direction:"ltr",label:"Avestan"},{code:"ay",direction:"ltr",label:"Aymara"},{code:"az",direction:"ltr",label:"Azerbaijani"},{code:"bm",direction:"ltr",label:"Bambara"},{code:"ba",direction:"ltr",label:"Bashkir"},{code:"eu",direction:"ltr",label:"Basque"},{code:"be",direction:"ltr",label:"Belarusian"},{code:"bn",direction:"ltr",label:"Bengali"},{code:"bh",direction:"ltr",label:"Bihari languages"},{code:"bi",direction:"ltr",label:"Bislama"},{code:"bs",direction:"ltr",label:"Bosnian"},{code:"br",direction:"ltr",label:"Breton"},{code:"bg",direction:"ltr",label:"Bulgarian"},{code:"my",direction:"ltr",label:"Burmese"},{code:"ca",direction:"ltr",label:"Catalan, Valencian"},{code:"km",direction:"ltr",label:"Central Khmer"},{code:"ch",direction:"ltr",label:"Chamorro"},{code:"ce",direction:"ltr",label:"Chechen"},{code:"ny",direction:"ltr",label:"Chichewa"},{code:"zh",direction:"ltr",label:"Chinese"},{code:"cu",direction:"ltr",label:"Church Slavonic, Old Bulgarian, Old Church Slavonic"},{code:"cv",direction:"ltr",label:"Chuvash"},{code:"kw",direction:"ltr",label:"Cornish"},{code:"co",direction:"ltr",label:"Corsican"},{code:"cr",direction:"ltr",label:"Cree"},{code:"hr",direction:"ltr",label:"Croatian"},{code:"cs",direction:"ltr",label:"Czech"},{code:"da",direction:"ltr",label:"Danish"},{code:"dv",direction:"ltr",label:"Divehi, Dhivehi, Maldivian"},{code:"nl",direction:"ltr",label:"Dutch, Flemish"},{code:"dz",direction:"ltr",label:"Dzongkha"},{code:"en",direction:"ltr",label:"English"},{code:"eo",direction:"ltr",label:"Esperanto"},{code:"et",direction:"ltr",label:"Estonian"},{code:"ee",direction:"ltr",label:"Ewe"},{code:"fo",direction:"ltr",label:"Faroese"},{code:"fj",direction:"ltr",label:"Fijian"},{code:"fi",direction:"ltr",label:"Finnish"},{code:"fr",direction:"ltr",label:"French"},{code:"ff",direction:"ltr",label:"Fulah"},{code:"gd",direction:"ltr",label:"Gaelic, Scottish Gaelic"},{code:"gl",direction:"ltr",label:"Galician"},{code:"lg",direction:"ltr",label:"Ganda"},{code:"ka",direction:"ltr",label:"Georgian"},{code:"de",direction:"ltr",label:"German"},{code:"ki",direction:"ltr",label:"Gikuyu, Kikuyu"},{code:"el",direction:"ltr",label:"Greek (Modern)"},{code:"kl",direction:"ltr",label:"Greenlandic, Kalaallisut"},{code:"gn",direction:"ltr",label:"Guarani"},{code:"gu",direction:"ltr",label:"Gujarati"},{code:"ht",direction:"ltr",label:"Haitian, Haitian Creole"},{code:"ha",direction:"ltr",label:"Hausa"},{code:"he",direction:"ltr",label:"Hebrew"},{code:"hz",direction:"ltr",label:"Herero"},{code:"hi",direction:"ltr",label:"Hindi"},{code:"ho",direction:"ltr",label:"Hiri Motu"},{code:"hu",direction:"ltr",label:"Hungarian"},{code:"is",direction:"ltr",label:"Icelandic"},{code:"io",direction:"ltr",label:"Ido"},{code:"ig",direction:"ltr",label:"Igbo"},{code:"id",direction:"ltr",label:"Indonesian"},{code:"ia",direction:"ltr",label:"Interlingua (International Auxiliary Language Association)"},{code:"ie",direction:"ltr",label:"Interlingue"},{code:"iu",direction:"ltr",label:"Inuktitut"},{code:"ik",direction:"ltr",label:"Inupiaq"},{code:"ga",direction:"ltr",label:"Irish"},{code:"it",direction:"ltr",label:"Italian"},{code:"ja",direction:"ltr",label:"Japanese"},{code:"jv",direction:"ltr",label:"Javanese"},{code:"kn",direction:"ltr",label:"Kannada"},{code:"kr",direction:"ltr",label:"Kanuri"},{code:"ks",direction:"ltr",label:"Kashmiri"},{code:"kk",direction:"ltr",label:"Kazakh"},{code:"rw",direction:"ltr",label:"Kinyarwanda"},{code:"kv",direction:"ltr",label:"Komi"},{code:"kg",direction:"ltr",label:"Kongo"},{code:"ko",direction:"ltr",label:"Korean"},{code:"kj",direction:"ltr",label:"Kwanyama, Kuanyama"},{code:"ku",direction:"ltr",label:"Kurdish"},{code:"ky",direction:"ltr",label:"Kyrgyz"},{code:"lo",direction:"ltr",label:"Lao"},{code:"la",direction:"ltr",label:"Latin"},{code:"lv",direction:"ltr",label:"Latvian"},{code:"lb",direction:"ltr",label:"Letzeburgesch, Luxembourgish"},{code:"li",direction:"ltr",label:"Limburgish, Limburgan, Limburger"},{code:"ln",direction:"ltr",label:"Lingala"},{code:"lt",direction:"ltr",label:"Lithuanian"},{code:"lu",direction:"ltr",label:"Luba-Katanga"},{code:"mk",direction:"ltr",label:"Macedonian"},{code:"mg",direction:"ltr",label:"Malagasy"},{code:"ms",direction:"ltr",label:"Malay"},{code:"ml",direction:"ltr",label:"Malayalam"},{code:"mt",direction:"ltr",label:"Maltese"},{code:"gv",direction:"ltr",label:"Manx"},{code:"mi",direction:"ltr",label:"Maori"},{code:"mr",direction:"ltr",label:"Marathi"},{code:"mh",direction:"ltr",label:"Marshallese"},{code:"ro",direction:"ltr",label:"Moldovan, Moldavian, Romanian"},{code:"mn",direction:"ltr",label:"Mongolian"},{code:"na",direction:"ltr",label:"Nauru"},{code:"nv",direction:"ltr",label:"Navajo, Navaho"},{code:"nd",direction:"ltr",label:"Northern Ndebele"},{code:"ng",direction:"ltr",label:"Ndonga"},{code:"ne",direction:"ltr",label:"Nepali"},{code:"se",direction:"ltr",label:"Northern Sami"},{code:"no",direction:"ltr",label:"Norwegian"},{code:"nb",direction:"ltr",label:"Norwegian Bokmål"},{code:"nn",direction:"ltr",label:"Norwegian Nynorsk"},{code:"ii",direction:"ltr",label:"Nuosu, Sichuan Yi"},{code:"oc",direction:"ltr",label:"Occitan (post 1500)"},{code:"oj",direction:"ltr",label:"Ojibwa"},{code:"or",direction:"ltr",label:"Oriya"},{code:"om",direction:"ltr",label:"Oromo"},{code:"os",direction:"ltr",label:"Ossetian, Ossetic"},{code:"pi",direction:"ltr",label:"Pali"},{code:"pa",direction:"ltr",label:"Panjabi, Punjabi"},{code:"ps",direction:"ltr",label:"Pashto, Pushto"},{code:"fa",direction:"ltr",label:"Persian"},{code:"pl",direction:"ltr",label:"Polish"},{code:"pt",direction:"ltr",label:"Portuguese"},{code:"qu",direction:"ltr",label:"Quechua"},{code:"rm",direction:"ltr",label:"Romansh"},{code:"rn",direction:"ltr",label:"Rundi"},{code:"ru",direction:"ltr",label:"Russian"},{code:"sm",direction:"ltr",label:"Samoan"},{code:"sg",direction:"ltr",label:"Sango"},{code:"sa",direction:"ltr",label:"Sanskrit"},{code:"sc",direction:"ltr",label:"Sardinian"},{code:"sr",direction:"ltr",label:"Serbian"},{code:"sn",direction:"ltr",label:"Shona"},{code:"sd",direction:"ltr",label:"Sindhi"},{code:"si",direction:"ltr",label:"Sinhala, Sinhalese"},{code:"sk",direction:"ltr",label:"Slovak"},{code:"sl",direction:"ltr",label:"Slovenian"},{code:"so",direction:"ltr",label:"Somali"},{code:"st",direction:"ltr",label:"Sotho, Southern"},{code:"nr",direction:"ltr",label:"South Ndebele"},{code:"es",direction:"ltr",label:"Spanish"},{code:"su",direction:"ltr",label:"Sundanese"},{code:"sw",direction:"ltr",label:"Swahili"},{code:"ss",direction:"ltr",label:"Swati"},{code:"sv",direction:"ltr",label:"Swedish"},{code:"tl",direction:"ltr",label:"Tagalog"},{code:"ty",direction:"ltr",label:"Tahitian"},{code:"tg",direction:"ltr",label:"Tajik"},{code:"ta",direction:"ltr",label:"Tamil"},{code:"tt",direction:"ltr",label:"Tatar"},{code:"te",direction:"ltr",label:"Telugu"},{code:"th",direction:"ltr",label:"Thai"},{code:"bo",direction:"ltr",label:"Tibetan"},{code:"ti",direction:"ltr",label:"Tigrinya"},{code:"to",direction:"ltr",label:"Tonga (Tonga Islands)"},{code:"ts",direction:"ltr",label:"Tsonga"},{code:"tn",direction:"ltr",label:"Tswana"},{code:"tr",direction:"ltr",label:"Turkish"},{code:"tk",direction:"ltr",label:"Turkmen"},{code:"tw",direction:"ltr",label:"Twi"},{code:"ug",direction:"ltr",label:"Uighur, Uyghur"},{code:"uk",direction:"ltr",label:"Ukrainian"},{code:"umb",direction:"ltr",label:"Umbundu"},{code:"ur",direction:"ltr",label:"Urdu"},{code:"uz",direction:"ltr",label:"Uzbek"},{code:"ve",direction:"ltr",label:"Venda"},{code:"vi",direction:"ltr",label:"Vietnamese"},{code:"vo",direction:"ltr",label:"Volap_k"},{code:"wa",direction:"ltr",label:"Walloon"},{code:"cy",direction:"ltr",label:"Welsh"},{code:"fy",direction:"ltr",label:"Western Frisian"},{code:"wo",direction:"ltr",label:"Wolof"},{code:"xh",direction:"ltr",label:"Xhosa"},{code:"yi",direction:"ltr",label:"Yiddish"},{code:"yo",direction:"ltr",label:"Yoruba"},{code:"za",direction:"ltr",label:"Zhuang, Chuang"},{code:"zu",direction:"ltr",label:"Zulu"}]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(21)),o=i(r(0));function i(e){return e&&e.__esModule?e:{default:e}}var a,s,u,c=(a=regeneratorRuntime.mark(function e(t){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=function(e,t){var r=Date.now,n="undefined"!=typeof window&&window.requestAnimationFrame,o=r(),i=void 0;return n(function a(){r()-o<t||(o+=t,e()),i||n(a)}),{clear:function(){i=1}}},i=o.default.debounce(n.default.now,2e3),r(i,t);case 3:case"end":return e.stop()}},e,this)}),s=function(){var e=a.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});t(s)}("next")})},u=function(e){return s.apply(this,arguments)},Object.freeze({set:u}));t.default=c},function(e,t,r){"use strict";var n=r(1),o=r(22),i=r(46),a=r(17);function s(e){var t=new i(e),r=o(i.prototype.request,t);return n.extend(r,i.prototype,t),n.extend(r,t),r}var u=s(a);u.Axios=i,u.create=function(e){return s(n.merge(a,e))},u.Cancel=r(27),u.CancelToken=r(60),u.isCancel=r(26),u.all=function(e){return Promise.all(e)},u.spread=r(61),e.exports=u,e.exports.default=u},function(e,t,r){"use strict";var n=r(17),o=r(1),i=r(55),a=r(56);function s(e){this.defaults=e,this.interceptors={request:new i,response:new i}}s.prototype.request=function(e){"string"==typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),(e=o.merge(n,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[a,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)r=r.then(t.shift(),t.shift());return r},o.forEach(["delete","get","head","options"],function(e){s.prototype[e]=function(t,r){return this.request(o.merge(r||{},{method:e,url:t}))}}),o.forEach(["post","put","patch"],function(e){s.prototype[e]=function(t,r,n){return this.request(o.merge(n||{},{method:e,url:t,data:r}))}}),e.exports=s},function(e,t,r){"use strict";var n=r(1);e.exports=function(e,t){n.forEach(e,function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])})}},function(e,t,r){"use strict";var n=r(25);e.exports=function(e,t,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e}},function(e,t,r){"use strict";var n=r(1);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(n.isURLSearchParams(t))i=t.toString();else{var a=[];n.forEach(t,function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))}))}),i=a.join("&")}return i&&(e+=(-1===e.indexOf("?")?"?":"&")+i),e}},function(e,t,r){"use strict";var n=r(1),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,i,a={};return e?(n.forEach(e.split("\n"),function(e){if(i=e.indexOf(":"),t=n.trim(e.substr(0,i)).toLowerCase(),r=n.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([r]):a[t]?a[t]+", "+r:r}}),a):a}},function(e,t,r){"use strict";var n=r(1);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},function(e,t,r){"use strict";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function o(){this.message="String contains an invalid character"}o.prototype=new Error,o.prototype.code=5,o.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,r,i=String(e),a="",s=0,u=n;i.charAt(0|s)||(u="=",s%1);a+=u.charAt(63&t>>8-s%1*8)){if((r=i.charCodeAt(s+=.75))>255)throw new o;t=t<<8|r}return a}},function(e,t,r){"use strict";var n=r(1);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(o)&&s.push("path="+o),n.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){"use strict";var n=r(1);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=o},function(e,t,r){"use strict";var n=r(1),o=r(57),i=r(26),a=r(17),s=r(58),u=r(59);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.baseURL&&!s(e.url)&&(e.url=u(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return c(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(t){return i(t)||(c(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,r){"use strict";var n=r(1);e.exports=function(e,t,r){return n.forEach(r,function(r){e=r(e,t)}),e}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";var n=r(27);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var r=this;e(function(e){r.reason||(r.reason=new n(e),t(r.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o(function(t){e=t}),cancel:e}},e.exports=o},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){e.exports=r(13)},function(e,t){e.exports=function(e){return Boolean(e)&&"object"==typeof e&&Object.getPrototypeOf(e)===Object.prototype}},function(e,t,r){var n=r(28);function o(e){return function(t){"use strict";var r={};return r[e]=t,this&&this.compose?this.compose(r):n(r)}}var i=o("properties"),a=o("staticProperties"),s=o("configuration"),u=o("deepProperties"),c=o("staticDeepProperties"),l=o("deepConfiguration"),f=o("initializers");e.exports=n({staticProperties:{methods:o("methods"),props:i,properties:i,statics:a,staticProperties:a,conf:s,configuration:s,deepProps:u,deepProperties:u,deepStatics:c,staticDeepProperties:c,deepConf:l,deepConfiguration:l,init:f,initializers:f,composers:o("composers"),propertyDescriptors:o("propertyDescriptors"),staticPropertyDescriptors:o("staticPropertyDescriptors")}})},function(e,t){e.exports=function(e){return"string"==typeof e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(r(33)),o=l(r(35)),i=l(r(2)),a=l(r(16)),s=l(r(8)),u=l(r(0)),c=l(r(19));function l(e){return e&&e.__esModule?e:{default:e}}function f(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}t.default=o.default.compose({methods:{localAuthenticate:function(e){var t=this;return f(regeneratorRuntime.mark(function r(){var o,s,u,c,l,f;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.username,s=e.password,t.next=3,i.default.local().first();case 3:return u=t.sent,c=(0,n.default)(s,u.MD5_KEY),t.next=7,a.default.local().where("data.username","=",o).get();case 7:if(l=t.sent,f=l&&l[0]?l[0]:void 0){t.next=11;break}throw new Error;case 11:if(f.data.hashedPassword===c){t.next=14;break}throw new Error;case 14:return t.abrupt("return",f);case 15:case"end":return t.stop()}},r,t)}))()},remoteAuthenticate:function(e,t){var r=this;return f(regeneratorRuntime.mark(function n(){var o,i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.default.login({credentials:e,role:t});case 2:return o=r.sent,i=o.data,r.next=6,a.default.updateUser(i);case 6:return r.abrupt("return",o);case 7:case"end":return r.stop()}},n,r)}))()},authenticate:function(e,t){var r=this;return f(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.default.isOnline();case 2:if(!n.sent){n.next=5;break}return n.abrupt("return",r.remoteAuthenticate(e,t));case 5:return n.abrupt("return",r.localAuthenticate(e));case 6:case"end":return n.stop()}},n,r)}))()},attempt:function(e,t){var r=this;return t=t||"user",new Promise(function(n,o){var i;r.authenticate(e,t).then((i=f(regeneratorRuntime.mark(function e(t){var o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.headers||{},(i=t.data).x_jwt_token=o["x-jwt-token"],localStorage.setItem("authUser",JSON.stringify(i)),localStorage.setItem("formioToken",o["x-jwt-token"]),e.next=7,c.default.local().first();case 7:a=e.sent,i.rolesNames=[],Object.keys(a).forEach(function(e){"$loki"!==e&&"_id"!==e&&"meta"!==e&&i.roles&&-1!==i.roles.indexOf(a[e]._id)&&i.rolesNames.push(a[e])}),localStorage.setItem("authUser",JSON.stringify(i)),n(i);case 12:case"end":return e.stop()}},e,r)})),function(e){return i.apply(this,arguments)})).catch(function(e){console.log("There was an error over here!"),o(e)})})},user:function(){try{var e=JSON.parse(localStorage.getItem("authUser"));return null!==e&&e}catch(e){return localStorage.removeItem("authUser"),!1}},email:function(){var e="";return this.user()&&this.user().data&&this.user().data.email?e=this.user().data.email:this.user()&&this.user().email&&(e=this.user().email),e},hasRole:function(e){var t=JSON.parse(localStorage.getItem("authUser"));return void 0!==(t=null!==t&&t).rolesNames.find(function(t){return t.title===e})},hasRoleIn:function(e){var t=this;return!(e&&!u.default.isEmpty(e))||e.some(function(e){return t.hasRole(e)||"Authenticated"===e})},hasRoleIdIn:function(e){var t=this;return f(regeneratorRuntime.mark(function r(){var n,o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(e&&!u.default.isEmpty(e)){r.next=2;break}return r.abrupt("return",!0);case 2:return r.next=4,c.default.local().first();case 4:return n=r.sent,o=e.reduce(function(e,t){return Object.keys(n).forEach(function(r){n[r]&&n[r]._id&&n[r]._id===t&&e.push(n[r].title)}),e},[]),r.abrupt("return",o.some(function(e){return t.hasRole(e)||"Authenticated"===e}));case 7:case"end":return r.stop()}},r,t)}))()},check:function(){var e=JSON.parse(localStorage.getItem("authUser"));return!!e&&!!e.x_jwt_token},logOut:function(){var e=this;return f(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.removeItem("authUser");case 2:return e.next=4,localStorage.removeItem("formioToken");case 4:return e.next=6,localStorage.removeItem("formioUser");case 6:case"end":return e.stop()}},t,e)}))()}}})},function(e,t){var r,n;r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var t=[],n=0;n<e.length;n+=3)for(var o=e[n]<<16|e[n+1]<<8|e[n+2],i=0;i<4;i++)8*n+6*i<=8*e.length?t.push(r.charAt(o>>>6*(3-i)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],n=0,o=0;n<e.length;o=++n%4)0!=o&&t.push((r.indexOf(e.charAt(n-1))&Math.pow(2,-2*o+8)-1)<<2*o|r.indexOf(e.charAt(n))>>>6-2*o);return t}},e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a(r(10));var n=a(r(69)),o=a(r(72)),i=(a(r(7)),a(r(35)));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}t.default=i.default.compose({init:function(e){var t=e.baseUrl;this.url.baseUrl=t},properties:{url:{baseUrl:void 0,loginUrl:"/realms/users/protocol/openid-connect/token",logoutUrl:"/realms/users/protocol/openid-connect/logout"},serviceAccount:{clientId:"goat-client",secretId:"4ec6a304-2377-4d55-bf3f-ca32b97ec600"}},methods:{checkUrl:function(){if(this.url.baseUrl)return this.url.baseUrl;throw new Error("No url found for Keycloak connector")},logout:function(){var e=this;return s(regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=""+e.url.baseUrl+e.url.loginUrl,t.next=3,fetch(r,{method:"POST",body:n.default.stringify({client_id:e.serviceAccount.clientId,refresh_token:localStorage.getItem("refreshToken")}),headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8",Authorization:"Bearer "+localStorage.getItem("token")}});case 3:t.sent,localStorage.removeItem("token"),localStorage.removeItem("refreshToken");case 6:case"end":return t.stop()}},t,e)}))()},refreshServiceAccount:function(){var e=this;return s(regeneratorRuntime.mark(function t(){var r,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=""+e.url.baseUrl+e.url.loginUrl,t.next=3,fetch(r,{method:"POST",body:n.default.stringify({client_id:e.serviceAccount.clientId,grant_type:"refresh_token",refresh_token:localStorage.getItem("refreshToken")}),headers:{"content-type":"application/x-www-form-urlencoded"}});case 3:return o=t.sent,t.next=6,o.json();case 6:i=t.sent,localStorage.setItem("token",i.access_token),localStorage.setItem("refreshToken",i.refresh_token);case 9:case"end":return t.stop()}},t,e)}))()},loginServiceAccount:function(){var e=this;return s(regeneratorRuntime.mark(function t(){var r,i,a,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=""+e.url.baseUrl+e.url.loginUrl,i=(0,o.default)(e.serviceAccount.clientId+":"+e.serviceAccount.secretId),t.next=4,fetch(r,{method:"POST",body:n.default.stringify({grant_type:"client_credentials"}),headers:{Authorization:"Basic "+i,"Content-Type":"application/x-www-form-urlencoded"}});case 4:return a=t.sent,t.next=7,a.json();case 7:s=t.sent,localStorage.setItem("token",s.access_token),localStorage.setItem("refreshToken",s.refresh_token);case 10:case"end":return t.stop()}},t,e)}))()},attempt:function(e,t){var r=this;return s(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(r.url),e.next=3,r.loginServiceAccount();case 3:return e.abrupt("return",r.serviceAccount);case 4:case"end":return e.stop()}},e,r)}))()}}})},function(e,t,r){"use strict";var n=r(70),o=r(71),i=r(37);e.exports={formats:i,parse:o,stringify:n}},function(e,t,r){"use strict";var n=r(36),o=r(37),i=Object.prototype.hasOwnProperty,a={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},s=Array.isArray,u=Array.prototype.push,c=function(e,t){u.apply(e,s(t)?t:[t])},l=Date.prototype.toISOString,f={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,formatter:o.formatters[o.default],indices:!1,serializeDate:function(e){return l.call(e)},skipNulls:!1,strictNullHandling:!1},h=function e(t,r,o,i,a,u,l,h,d,p,v,m,y){var g=t;if("function"==typeof l?g=l(r,g):g instanceof Date?g=p(g):"comma"===o&&s(g)&&(g=g.join(",")),null===g){if(i)return u&&!m?u(r,f.encoder,y):r;g=""}if("string"==typeof g||"number"==typeof g||"boolean"==typeof g||n.isBuffer(g))return u?[v(m?r:u(r,f.encoder,y))+"="+v(u(g,f.encoder,y))]:[v(r)+"="+v(String(g))];var w,b=[];if(void 0===g)return b;if(s(l))w=l;else{var x=Object.keys(g);w=h?x.sort(h):x}for(var _=0;_<w.length;++_){var E=w[_];a&&null===g[E]||(s(g)?c(b,e(g[E],"function"==typeof o?o(r,E):r,o,i,a,u,l,h,d,p,v,m,y)):c(b,e(g[E],r+(d?"."+E:"["+E+"]"),o,i,a,u,l,h,d,p,v,m,y)))}return b};e.exports=function(e,t){var r,n=e,u=function(e){if(!e)return f;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||f.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=o.default;if(void 0!==e.format){if(!i.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=o.formatters[r],a=f.filter;return("function"==typeof e.filter||s(e.filter))&&(a=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:f.addQueryPrefix,allowDots:void 0===e.allowDots?f.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:f.charsetSentinel,delimiter:void 0===e.delimiter?f.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:f.encode,encoder:"function"==typeof e.encoder?e.encoder:f.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:f.encodeValuesOnly,filter:a,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:f.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:f.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:f.strictNullHandling}}(t);"function"==typeof u.filter?n=(0,u.filter)("",n):s(u.filter)&&(r=u.filter);var l,d=[];if("object"!=typeof n||null===n)return"";l=t&&t.arrayFormat in a?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var p=a[l];r||(r=Object.keys(n)),u.sort&&r.sort(u.sort);for(var v=0;v<r.length;++v){var m=r[v];u.skipNulls&&null===n[m]||c(d,h(n[m],m,p,u.strictNullHandling,u.skipNulls,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.formatter,u.encodeValuesOnly,u.charset))}var y=d.join(u.delimiter),g=!0===u.addQueryPrefix?"?":"";return u.charsetSentinel&&("iso-8859-1"===u.charset?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),y.length>0?g+y:""}},function(e,t,r){"use strict";var n=r(36),o=Object.prototype.hasOwnProperty,i={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},s=function(e,t,r){if(e){var n=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/g,a=/(\[[^[\]]*])/.exec(n),s=a?n.slice(0,a.index):n,u=[];if(s){if(!r.plainObjects&&o.call(Object.prototype,s)&&!r.allowPrototypes)return;u.push(s)}for(var c=0;null!==(a=i.exec(n))&&c<r.depth;){if(c+=1,!r.plainObjects&&o.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;u.push(a[1])}return a&&u.push("["+n.slice(a.index)+"]"),function(e,t,r){for(var n=t,o=e.length-1;o>=0;--o){var i,a=e[o];if("[]"===a&&r.parseArrays)i=[].concat(n);else{i=r.plainObjects?Object.create(null):{};var s="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,u=parseInt(s,10);r.parseArrays||""!==s?!isNaN(u)&&a!==s&&String(u)===s&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(i=[])[u]=n:i[s]=n:i={0:n}}n=i}return n}(u,t,r)}};e.exports=function(e,t){var r=function(e){if(!e)return i;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?i.charset:e.charset;return{allowDots:void 0===e.allowDots?i.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:i.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:i.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:i.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:i.comma,decoder:"function"==typeof e.decoder?e.decoder:i.decoder,delimiter:"string"==typeof e.delimiter||n.isRegExp(e.delimiter)?e.delimiter:i.delimiter,depth:"number"==typeof e.depth?e.depth:i.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:i.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:i.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:i.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:i.strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var u="string"==typeof e?function(e,t){var r,s={},u=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,c=t.parameterLimit===1/0?void 0:t.parameterLimit,l=u.split(t.delimiter,c),f=-1,h=t.charset;if(t.charsetSentinel)for(r=0;r<l.length;++r)0===l[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===l[r]?h="utf-8":"utf8=%26%2310003%3B"===l[r]&&(h="iso-8859-1"),f=r,r=l.length);for(r=0;r<l.length;++r)if(r!==f){var d,p,v=l[r],m=v.indexOf("]="),y=-1===m?v.indexOf("="):m+1;-1===y?(d=t.decoder(v,i.decoder,h),p=t.strictNullHandling?null:""):(d=t.decoder(v.slice(0,y),i.decoder,h),p=t.decoder(v.slice(y+1),i.decoder,h)),p&&t.interpretNumericEntities&&"iso-8859-1"===h&&(p=a(p)),p&&t.comma&&p.indexOf(",")>-1&&(p=p.split(",")),o.call(s,d)?s[d]=n.combine(s[d],p):s[d]=p}return s}(e,r):e,c=r.plainObjects?Object.create(null):{},l=Object.keys(u),f=0;f<l.length;++f){var h=l[f],d=s(h,u[h],r);c=n.merge(c,d,r)}return n.compact(c)}},function(e,t,r){(function(t){!function(){"use strict";e.exports=function(e){return(e instanceof t?e:t.from(e.toString(),"binary")).toString("base64")}}()}).call(this,r(73).Buffer)},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=r(75),o=r(76),i=r(77);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=h(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(t,r),o=(e=s(e,n)).write(t,r);o!==n&&(e=e.slice(0,o));return e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|d(t.length);return 0===(e=s(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):h(e,t);if("Buffer"===t.type&&i(t.data))return h(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=s(e,t<0?0:0|d(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function h(e,t){var r=t.length<0?0:0|d(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function d(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return $(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return B(e).length;default:if(n)return $(e).length;t=(""+t).toLowerCase(),n=!0}}function v(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,o);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):y(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function y(e,t,r,n,o){var i,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var l=-1;for(i=r;i<s;i++)if(c(e,i)===c(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(r+u>s&&(r=s-u),i=r;i>=0;i--){for(var f=!0,h=0;h<u;h++)if(c(e,i+h)!==c(t,h)){f=!1;break}if(f)return i}return-1}function g(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function w(e,t,r,n){return z($(t,e.length-r),e,r,n)}function b(e,t,r,n){return z(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function x(e,t,r,n){return b(e,t,r,n)}function _(e,t,r,n){return z(B(t),e,r,n)}function E(e,t,r,n){return z(function(e,t){for(var r,n,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(t,e.length-r),e,r,n)}function O(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function k(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var i,a,s,u,c=e[o],l=null,f=c>239?4:c>223?3:c>191?2:1;if(o+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(i=e[o+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(u=(15&c)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),o+=f}return function(e){var t=e.length;if(t<=S)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=S));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return c(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return l(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var a=e[r];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,o),o+=a.length}return n},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?k(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,r);case"utf8":case"utf-8":return k(this,t,r);case"ascii":return A(this,t,r);case"latin1":case"binary":return P(this,t,r);case"base64":return O(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,o){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(i,a),c=this.slice(n,o),l=e.slice(t,r),f=0;f<s;++f)if(c[f]!==l[f]){i=c[f],a=l[f];break}return i<a?-1:a<i?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return g(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":return b(this,e,t,r);case"latin1":case"binary":return x(this,e,t,r);case"base64":return _(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function A(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function P(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function C(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=t;i<r;++i)o+=U(e[i]);return o}function R(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function T(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,r,n,o,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function j(e,t,r,n){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-r,2);o<i;++o)e[r+o]=(t&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function I(e,t,r,n){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-r,4);o<i;++o)e[r+o]=t>>>8*(n?o:3-o)&255}function D(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(e,t,r,n,i){return i||D(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function L(e,t,r,n,i){return i||D(e,0,r,8),o.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var o=t-e;r=new u(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||T(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||T(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},u.prototype.readUInt8=function(e,t){return t||T(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||T(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||T(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||T(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||T(e,t,this.length);for(var n=t,o=1,i=this[e+--n];n>0&&(o*=256);)i+=this[e+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||T(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||T(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||T(e,4,this.length),o.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||T(e,4,this.length),o.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||T(e,8,this.length),o.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||T(e,8,this.length),o.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||M(this,e,t,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||M(this,e,t,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):j(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):j(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):I(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);M(this,e,t,r,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<r&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);M(this,e,t,r,o-1,-o)}var i=r-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):j(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):j(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):I(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return N(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return N(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return L(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return L(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o,i=n-r;if(this===e&&r<t&&t<n)for(o=i-1;o>=0;--o)e[o+t]=this[o+r];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),t);return i},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var a=u.isBuffer(e)?e:$(new u(e,n).toString()),s=a.length;for(i=0;i<r-t;++i)this[i+t]=a[i%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function $(e,t){var r;t=t||1/0;for(var n=e.length,o=null,i=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function B(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}}).call(this,r(74))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){for(var t,r=c(e),n=r[0],a=r[1],s=new i(function(e,t,r){return 3*(t+r)/4-r}(0,n,a)),u=0,l=a>0?n-4:n,f=0;f<l;f+=4)t=o[e.charCodeAt(f)]<<18|o[e.charCodeAt(f+1)]<<12|o[e.charCodeAt(f+2)]<<6|o[e.charCodeAt(f+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;2===a&&(t=o[e.charCodeAt(f)]<<2|o[e.charCodeAt(f+1)]>>4,s[u++]=255&t);1===a&&(t=o[e.charCodeAt(f)]<<10|o[e.charCodeAt(f+1)]<<4|o[e.charCodeAt(f+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t);return s},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=0,s=r-o;a<s;a+=16383)i.push(l(e,a,a+16383>s?s:a+16383));1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)n[s]=a[s],o[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e,t,r){for(var o,i,a=[],s=t;s<r;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,o){var i,a,s=8*o-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?o-1:0,h=r?-1:1,d=e[t+f];for(f+=h,i=d&(1<<-l)-1,d>>=-l,l+=s;l>0;i=256*i+e[t+f],f+=h,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=n;l>0;a=256*a+e[t+f],f+=h,l-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),i-=c}return(d?-1:1)*a*Math.pow(2,i-n)},t.write=function(e,t,r,n,o,i){var a,s,u,c=8*i-o-1,l=(1<<c)-1,f=l>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:i-1,p=n?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,o),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;e[r+d]=255&s,d+=p,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[r+d]=255&a,d+=p,a/=256,c-=8);e[r+d-p]|=128*v}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=a(r(0)),i=a(r(5));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,null,[{key:"getTableView",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.default.local().where("data.path","=",t).first();case 2:return r=e.sent.data,e.abrupt("return",o.default.findComponents(r.components,{input:!0,tableView:!0}).filter(function(e){return!(""===e.label)}));case 4:case"end":return e.stop()}},e,this)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})});return function(e){return t.apply(this,arguments)}}()}]),e}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=l(r(8)),i=l(r(11)),a=l(r(9)),s=l(r(38)),u=l(r(5)),c=l(r(6));function l(e){return e&&e.__esModule?e:{default:e}}function f(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}var h,d,p,v,m=(h=f(regeneratorRuntime.mark(function e(t){var r,i,u,l,h,d,p=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,o.default.isOnline();case 3:if(i=e.sent,u=function(){var e=f(regeneratorRuntime.mark(function e(t,r){var n,o,i,a,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=!0,o=!1,i=void 0,e.prev=3,a=t[Symbol.iterator]();case 5:if(n=(s=a.next()).done){e.next=12;break}return u=s.value,e.next=9,r(u);case 9:n=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),o=!0,i=e.t0;case 18:e.prev=18,e.prev=19,!n&&a.return&&a.return();case 21:if(e.prev=21,!o){e.next=24;break}throw i;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case"end":return e.stop()}},e,this,[[3,14,18,26],[19,,21,25]])}));return function(t,r){return e.apply(this,arguments)}}(),!i){e.next=17;break}return e.next=8,s.default.startSync();case 8:return e.next=10,(0,c.default)(u(r,function(){var e=f(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:case"end":return e.stop()}},e,p)}));return function(t){return e.apply(this,arguments)}}()));case 10:l=e.sent,h=n(l,1),d=h[0],s.default.stopSync(),d&&console.log(d),console.log("Submissions Synced"),a.default.emit({name:"GOAT:SUBMISSION:SYNCED",data:{},text:"The submissions have been synced"});case 17:case"end":return e.stop()}},e,this)})),p=function(e){return h.apply(this,arguments)},d=f(regeneratorRuntime.mark(function e(t){var r,o,a,s,l,f,h,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.default.getModel({path:t.path}).remote(),t.queuedForSync=!0,o=(0,i.default)(t.path),e.next=5,o.local().update(t);case 5:return e.next=7,(0,c.default)(r.insert(t));case 7:if(a=e.sent,s=n(a,2),l=s[0],f=s[1],!l){e.next=17;break}throw console.log(l),t.queuedForSync=!1,t.syncError=l,o.local().update(t),new Error("Error while Syncing data");case 17:if(f._id){e.next=19;break}throw Error("The remote endpoint did not save the submission properly (no _id back)");case 19:return e.next=21,(0,c.default)(o.local().remove(t._id));case 21:if(h=e.sent,d=n(h,1),!d[0]){e.next=26;break}throw new Error("Sync error:Could not remove local submission after sync");case 26:return e.abrupt("return",!0);case 27:case"end":return e.stop()}},e,void 0)})),v=function(e){return d.apply(this,arguments)},Object.freeze({send:p}));t.default=m},function(e,t,r){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){var n,o,i;o=[],void 0===(i="function"==typeof(n=function(){return function(){function e(e,t){if(this.app="loki",this.options=t||{},void 0!==e&&(this.app=e),this.catalog=null,!this.checkAvailability())throw new Error("indexedDB does not seem to be supported for your environment")}function t(e){this.db=null,this.initializeLokiCatalog(e)}return e.prototype.closeDatabase=function(){this.catalog&&this.catalog.db&&(this.catalog.db.close(),this.catalog.db=null)},e.prototype.checkAvailability=function(){return!("undefined"==typeof indexedDB||!indexedDB)},e.prototype.loadDatabase=function(e,r){var n=this.app,o=this;null!==this.catalog&&null!==this.catalog.db?this.catalog.getAppKey(n,e,function(e){if("function"==typeof r){if(0===e.id)return void r(null);r(e.val)}else console.log(e.val)}):this.catalog=new t(function(t){o.catalog=t,o.loadDatabase(e,r)})},e.prototype.loadKey=e.prototype.loadDatabase,e.prototype.saveDatabase=function(e,r,n){var o=this.app,i=this;function a(e){e&&!0===e.success?n(null):n(new Error("Error saving database")),i.options.closeAfterSave&&i.closeDatabase()}null!==this.catalog&&null!==this.catalog.db?this.catalog.setAppKey(o,e,r,a):this.catalog=new t(function(t){i.saveDatabase(e,r,a)})},e.prototype.saveKey=e.prototype.saveDatabase,e.prototype.deleteDatabase=function(e,r){var n=this.app,o=this;null!==this.catalog&&null!==this.catalog.db?this.catalog.getAppKey(n,e,function(e){var t=e.id;0!==t?o.catalog.deleteAppKey(t,r):"function"==typeof r&&r({success:!0})}):this.catalog=new t(function(t){o.catalog=t,o.deleteDatabase(e,r)})},e.prototype.deleteKey=e.prototype.deleteDatabase,e.prototype.deleteDatabasePartitions=function(e){var t=this;this.getDatabaseList(function(r){r.forEach(function(r){r.startsWith(e)&&t.deleteDatabase(r)})})},e.prototype.getDatabaseList=function(e){var r=this.app,n=this;null!==this.catalog&&null!==this.catalog.db?this.catalog.getAppKeys(r,function(t){for(var r=[],n=0;n<t.length;n++)r.push(t[n].key);"function"==typeof e?e(r):r.forEach(function(e){console.log(e)})}):this.catalog=new t(function(t){n.catalog=t,n.getDatabaseList(e)})},e.prototype.getKeyList=e.prototype.getDatabaseList,e.prototype.getCatalogSummary=function(e){this.app;var r=this;null!==this.catalog&&null!==this.catalog.db?this.catalog.getAllKeys(function(t){for(var r,n,o,i,a,s=[],u=0;u<t.length;u++)r=t[u],o=r.app||"",i=r.key||"",a=r.val||"",n=2*o.length+2*i.length+a.length+1,s.push({app:r.app,key:r.key,size:n});"function"==typeof e?e(s):s.forEach(function(e){console.log(e)})}):this.catalog=new t(function(t){r.catalog=t,r.getCatalogSummary(e)})},t.prototype.initializeLokiCatalog=function(e){var t=indexedDB.open("LokiCatalog",1),r=this;t.onupgradeneeded=function(e){var t=e.target.result;if(t.objectStoreNames.contains("LokiAKV")&&t.deleteObjectStore("LokiAKV"),!t.objectStoreNames.contains("LokiAKV")){var r=t.createObjectStore("LokiAKV",{keyPath:"id",autoIncrement:!0});r.createIndex("app","app",{unique:!1}),r.createIndex("key","key",{unique:!1}),r.createIndex("appkey","appkey",{unique:!0})}},t.onsuccess=function(t){r.db=t.target.result,"function"==typeof e&&e(r)},t.onerror=function(e){throw e}},t.prototype.getAppKey=function(e,t,r){var n,o=this.db.transaction(["LokiAKV"],"readonly"),i=o.objectStore("LokiAKV"),a=i.index("appkey"),s=e+","+t,u=a.get(s);u.onsuccess=(n=r,function(e){var t=e.target.result;null==t&&(t={id:0,success:!1}),"function"==typeof n?n(t):console.log(t)}),u.onerror=function(e){return function(t){if("function"!=typeof e)throw t;e({id:0,success:!1})}}(r)},t.prototype.getAppKeyById=function(e,t,r){var n=this.db.transaction(["LokiAKV"],"readonly"),o=n.objectStore("LokiAKV"),i=o.get(e);i.onsuccess=function(e,t){return function(r){"function"==typeof t?t(r.target.result,e):console.log(r.target.result)}}(r,t)},t.prototype.setAppKey=function(e,t,r,n){var o,i=this.db.transaction(["LokiAKV"],"readwrite"),a=i.objectStore("LokiAKV"),s=a.index("appkey"),u=e+","+t,c=s.get(u);c.onsuccess=function(o){var i=o.target.result;null==i?i={app:e,key:t,appkey:e+","+t,val:r}:i.val=r;var s,u=a.put(i);u.onerror=(s=n,function(e){"function"==typeof s?s({success:!1}):(console.error("LokiCatalog.setAppKey (set) onerror"),console.error(c.error))}),u.onsuccess=function(e){return function(t){"function"==typeof e&&e({success:!0})}}(n)},c.onerror=(o=n,function(e){"function"==typeof o?o({success:!1}):(console.error("LokiCatalog.setAppKey (get) onerror"),console.error(c.error))})},t.prototype.deleteAppKey=function(e,t){var r,n=this.db.transaction(["LokiAKV"],"readwrite"),o=n.objectStore("LokiAKV"),i=o.delete(e);i.onsuccess=(r=t,function(e){"function"==typeof r&&r({success:!0})}),i.onerror=function(e){return function(t){"function"==typeof e?e({success:!1}):(console.error("LokiCatalog.deleteAppKey raised onerror"),console.error(i.error))}}(t)},t.prototype.getAppKeys=function(e,t){var r,n=this.db.transaction(["LokiAKV"],"readonly"),o=n.objectStore("LokiAKV"),i=o.index("app"),a=IDBKeyRange.only(e),s=i.openCursor(a);s.onsuccess=function(e,t){return function(r){var n=r.target.result;if(n){var o=n.value;e.push(o),n.continue()}else"function"==typeof t?t(e):console.log(e)}}([],t),s.onerror=(r=t,function(e){"function"==typeof r?r(null):(console.error("LokiCatalog.getAppKeys raised onerror"),console.error(e))})},t.prototype.getAllKeys=function(e){var t,r=this.db.transaction(["LokiAKV"],"readonly"),n=r.objectStore("LokiAKV"),o=n.openCursor();o.onsuccess=function(e,t){return function(r){var n=r.target.result;if(n){var o=n.value;e.push(o),n.continue()}else"function"==typeof t?t(e):console.log(e)}}([],e),o.onerror=(t=e,function(e){"function"==typeof t&&t(null)})},e}()})?n.apply(t,o):n)||(e.exports=i)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(3),i=(n=o)&&n.__esModule?n:{default:n};t.default=i.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=u(r(4)),i=u(r(8)),a=u(r(9)),s=r(12);function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}t.default=s.Interface.compose({methods:{get:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var r,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.prepareFilter(),t.next=3,e.getModel();case 3:return t.t0=r,t.t1=e.offsetNumber,t.t2=e.limitNumber,t.next=8,t.sent.chain().find(t.t0).offset(t.t1).limit(t.t2).data();case 8:return n=t.sent,n=e.jsApplySelect(n),n=e.jsApplyOrderBy(n),t.abrupt("return",n);case 12:case"end":return t.stop()}},t,e)}))()},prepareFilter:function(){var e=this,t={$and:[]},r={$or:[]},n={};return this.whereArray.length>0&&(this.whereArray.forEach(function(r){var n={};if(r[0].includes("["))throw new Error('Error in: "'+r[0]+'" "Where" close does not work with Array elements');n[r[0]]={};var o=e.getLokiOperator(r[1]);n[r[0]][o]=r[2],o.includes("$regex|")&&(delete n[r[0]][o],n[r[0]].$regex=o.replace("$regex|","").replace("{{$var}}",r[2])),t.$and.push(n)}),n=t),this.orWhereArray.length>0&&(this.orWhereArray.forEach(function(t){var n={};n[t[0]]={};var o=e.getLokiOperator(t[1]);n[t[0]][o]=t[2],o.includes("$regex|")&&(delete n[t[0]][o],n[t[0]].$regex=o.replace("$regex|","").replace("{{$var}}",t[2])),r.$or.push(n)}),n={$or:[t,r]}),n},getLokiOperator:function(e){if(!this.operators.includes(e))throw new Error('The "'+e+'" operator is not supported');var t={"=":"$eq","<":"$lt",">":"$gt","<=":"$lte",">=":"$gte","<>":"$ne","!=":"$ne",in:"$in",nin:"$nin",like:"$aeq",regexp:"$regex",startsWith:"$regex|^{{$var}}",endsWith:"$regex|{{$var}}$",contains:"$regex|{{$var}}"},r=i.default.get(function(){return t[e]},void 0);if(!r)throw new Error('The operator "'+e+'" is not supported in Loki ');return r},getModel:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.default.get();case 2:return r=t.sent,t.abrupt("return",r.getCollection(e.name));case 4:case"end":return t.stop()}},t,e)}))()},all:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getModel();case 2:return r=t.sent,t.abrupt("return",r.find());case 4:case"end":return t.stop()}},t,e)}))()},remove:function(e){var t=this;return c(regeneratorRuntime.mark(function r(){var n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=2;break}throw new Error("No id assign to remove().You must give and _id to delete");case 2:if(e.includes("_local")){r.next=4;break}throw new Error("You can`t delete non local submissions");case 4:return r.next=6,t.getModel();case 6:return n=r.sent,r.abrupt("return",n.findAndRemove({_id:e}));case 8:case"end":return r.stop()}},r,t)}))()},insert:function(e,t){var r=this;return c(regeneratorRuntime.mark(function n(){var o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!Array.isArray(e)){n.next=2;break}return n.abrupt("return",r.ArrayInsert(e,t));case 2:return e=i.default.cloneDeep(e),n.next=5,r.getModel();case 5:return o=n.sent,e._id=(0,a.default)()+"_local",n.abrupt("return",o.insert(e));case 8:case"end":return n.stop()}},n,r)}))()},update:function(e){var t=this;return c(regeneratorRuntime.mark(function r(){var o,i,a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(e._id){r.next=2;break}throw new Error("Loki connector error. Cannot update a Model without _id key");case 2:return r.next=4,t.getModel();case 4:return o=r.sent,e.modified=Math.round(+new Date/1e3),r.next=8,o.findOne({_id:e._id});case 8:return i=r.sent,a=n({},i,e),r.abrupt("return",o.update(a));case 11:case"end":return r.stop()}},r,t)}))()},updateOrCreate:function(e){var t=this;return c(regeneratorRuntime.mark(function r(){var n,o=e.document;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getModel();case 2:return n=e.sent,e.next=5,n.findOne(o);case 5:e.sent||n.insert(o);case 7:case"end":return e.stop()}},r,t)}))()},findAndRemove:function(e){var t=this;return c(regeneratorRuntime.mark(function r(){var n,o=e.filter;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getModel();case 2:return n=e.sent,e.abrupt("return",n.findAndRemove(o));case 4:case"end":return e.stop()}},r,t)}))()},clear:function(){var e=this;return c(regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getModel();case 2:return r=t.sent,t.abrupt("return",r.clear({removeIndices:!0}));case 4:case"end":return t.stop()}},t,e)}))()}}})},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=a(r(5)),i=a(r(1));function a(e){return e&&e.__esModule?e:{default:e}}"undefined"!=typeof navigator&&navigator.product;var s,u,c,l,f,h=null,d=(c=function(){return"undefined"!=typeof window&&window&&window._FLUENT_&&window._FLUENT_.models?window._FLUENT_.models:e&&e._FLUENT_&&e._FLUENT_.models?e._FLUENT_.models:void 0},l=function(){var e=c(),t=h.collections.reduce(function(e,t){return e.push(t.name),e},[]),r=[];return Object.keys(e).forEach(function(e){t.includes(e)||r.push(e)}),r},s=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(h){e.next=4;break}return e.next=3,new Promise(function(e){var t=void 0,r=void 0,a=void 0,s={autosave:!0,autosaveInterval:1e3,autoload:!0,autoloadCallback:function(){var t=c();if(!t)throw new Error('Cannot Start FLUENT, no models registered or you dont have access to the "window" or "global" variable');Object.keys(t).forEach(function(e){var t=a.getCollection(e);t||a.addCollection(e)}),e(a)},throttledSaves:!1};try{t=new i.default("GOAT"),r=new o.default.LokiPartitioningAdapter(t,{paging:!0}),a=new o.default("GOAT",n({},s,{adapter:r}))}catch(e){"undefined"!=typeof navigator&&"ReactNative"==navigator.product?(adapter=new(void 0),a=new o.default("GOAT",n({},s,{adapter:adapter}))):a=new o.default("GOAT",s)}});case 3:h=e.sent;case 4:return(t=l()).length>0&&t.forEach(function(e){h.addCollection(e)}),e.abrupt("return",h);case 7:case"end":return e.stop()}},e,this)}),u=function(){var e=s.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});t(s)}("next")})},f=function(){return u.apply(this,arguments)},Object.freeze({get:f}));t.default=d}).call(this,r(0))},function(e,t,r){(function(n,o){var i,a,s;a=[],void 0===(s="function"==typeof(i=function(){return function(){"use strict";var e=Object.prototype.hasOwnProperty,t={copyProperties:function(e,t){var r;for(r in e)t[r]=e[r]},resolveTransformObject:function(e,r,n){var o,i;if("number"!=typeof n&&(n=0),++n>=10)return e;for(o in e)"string"==typeof e[o]&&0===e[o].indexOf("[%lktxp]")?(i=e[o].substring(8),r.hasOwnProperty(i)&&(e[o]=r[i])):"object"==typeof e[o]&&(e[o]=t.resolveTransformObject(e[o],r,n));return e},resolveTransformParams:function(e,r){var n,o,i=[];if(void 0===r)return e;for(n=0;n<e.length;n++)o=v(e[n],"shallow-recurse-objects"),i.push(t.resolveTransformObject(o,r));return i},getIn:function(e,t,r){if(null!=e){if(!r)return e[t];if("string"==typeof t&&(t=t.split(".")),!Array.isArray(t))throw new Error("path must be a string or array. Found "+typeof t);for(var n=0,o=t.length;null!=e&&n<o;)e=e[t[n++]];return n&&n==o?e:void 0}}},i={aeq:a,lt:s,gt:u};function a(e,t){var r,n,o,i;if(e===t)return!0;if(!e||!t||!0===e||!0===t||e!=e||t!=t){switch(e){case void 0:case null:o=1;break;case!1:o=3;break;case!0:o=4;break;case"":o=5;break;default:o=e==e?9:0}switch(t){case void 0:case null:i=1;break;case!1:i=3;break;case!0:i=4;break;case"":i=5;break;default:i=t==t?9:0}if(9!==o||9!==i)return o===i}return r=Number(e),n=Number(t),r==r||n==n?r===n:(r=e.toString(),n=t.toString(),r==n)}function s(e,t,r){var n,o,i,a;if(!e||!t||!0===e||!0===t||e!=e||t!=t){switch(e){case void 0:case null:i=1;break;case!1:i=3;break;case!0:i=4;break;case"":i=5;break;default:i=e==e?9:0}switch(t){case void 0:case null:a=1;break;case!1:a=3;break;case!0:a=4;break;case"":a=5;break;default:a=t==t?9:0}if(9!==i||9!==a)return i===a?r:i<a}return n=Number(e),o=Number(t),n==n&&o==o?n<o||!(n>o)&&r:n==n&&o!=o||(o!=o||n==n)&&(e<t||!(e>t)&&(e==t?r:(n=e.toString(),o=t.toString(),n<o||n==o&&r)))}function u(e,t,r){var n,o,i,a;if(!e||!t||!0===e||!0===t||e!=e||t!=t){switch(e){case void 0:case null:i=1;break;case!1:i=3;break;case!0:i=4;break;case"":i=5;break;default:i=e==e?9:0}switch(t){case void 0:case null:a=1;break;case!1:a=3;break;case!0:a=4;break;case"":a=5;break;default:a=t==t?9:0}if(9!==i||9!==a)return i===a?r:i>a}return n=Number(e),o=Number(t),n==n&&o==o?n>o||!(n<o)&&r:(n!=n||o==o)&&(o==o&&n!=n||e>t||!(e<t)&&(e==t?r:(n=e.toString(),o=t.toString(),n>o||n==o&&r)))}function c(e,t,r){return i.aeq(e,t)?0:i.lt(e,t,!1)?r?1:-1:i.gt(e,t,!1)?r?-1:1:0}function l(e,t,r,n,o){var i,a=o||0,s=t[a],u=!1;if("object"==typeof e&&s in e&&(i=e[s]),a+1>=t.length)u=r(i,n);else if(Array.isArray(i))for(var c=0,f=i.length;c<f&&!0!==(u=l(i[c],t,r,n,a+1));c+=1);else u=l(i,t,r,n,a+1);return u}function f(t){return"string"==typeof t||Array.isArray(t)?function(e){return-1!==t.indexOf(e)}:"object"==typeof t&&null!==t?function(r){return e.call(t,r)}:null}function h(t,r){for(var n in r)if(e.call(r,n))return d[n](t,r[n]);return!1}var d={$eq:function(e,t){return e===t},$aeq:function(e,t){return e==t},$ne:function(e,t){return t!=t?e==e:e!==t},$dteq:function(e,t){return i.aeq(e,t)},$gt:function(e,t){return i.gt(e,t,!1)},$gte:function(e,t){return i.gt(e,t,!0)},$lt:function(e,t){return i.lt(e,t,!1)},$lte:function(e,t){return i.lt(e,t,!0)},$jgt:function(e,t){return e>t},$jgte:function(e,t){return e>=t},$jlt:function(e,t){return e<t},$jlte:function(e,t){return e<=t},$between:function(e,t){return null!=e&&i.gt(e,t[0],!0)&&i.lt(e,t[1],!0)},$jbetween:function(e,t){return null!=e&&e>=t[0]&&e<=t[1]},$in:function(e,t){return-1!==t.indexOf(e)},$nin:function(e,t){return-1===t.indexOf(e)},$keyin:function(e,t){return e in t},$nkeyin:function(e,t){return!(e in t)},$definedin:function(e,t){return void 0!==t[e]},$undefinedin:function(e,t){return void 0===t[e]},$regex:function(e,t){return t.test(e)},$containsString:function(e,t){return"string"==typeof e&&-1!==e.indexOf(t)},$containsNone:function(e,t){return!d.$containsAny(e,t)},$containsAny:function(e,t){var r=f(e);return null!==r&&(Array.isArray(t)?t.some(r):r(t))},$contains:function(e,t){var r=f(e);return null!==r&&(Array.isArray(t)?t.every(r):r(t))},$type:function(e,t){var r=typeof e;return"object"===r&&(Array.isArray(e)?r="array":e instanceof Date&&(r="date")),"object"!=typeof t?r===t:h(r,t)},$finite:function(e,t){return t===isFinite(e)},$size:function(e,t){return!!Array.isArray(e)&&("object"!=typeof t?e.length===t:h(e.length,t))},$len:function(e,t){return"string"==typeof e&&("object"!=typeof t?e.length===t:h(e.length,t))},$where:function(e,t){return!0===t(e)},$not:function(e,t){return!h(e,t)},$and:function(e,t){for(var r=0,n=t.length;r<n;r+=1)if(!h(e,t[r]))return!1;return!0},$or:function(e,t){for(var r=0,n=t.length;r<n;r+=1)if(h(e,t[r]))return!0;return!1},$exists:function(e,t){return t?void 0!==e:void 0===e}},p={$eq:d.$eq,$aeq:!0,$dteq:!0,$gt:!0,$gte:!0,$lt:!0,$lte:!0,$in:!0,$between:!0};function v(e,t){if(null==e)return null;var r,n=t||"parse-stringify";switch(n){case"parse-stringify":r=JSON.parse(JSON.stringify(e));break;case"jquery-extend-deep":r=jQuery.extend(!0,{},e);break;case"shallow":r=Object.create(e.constructor.prototype),Object.keys(e).map(function(t){r[t]=e[t]});break;case"shallow-assign":r=Object.create(e.constructor.prototype),Object.assign(r,e);break;case"shallow-recurse-objects":r=v(e,"shallow");var o=Object.keys(e);o.forEach(function(t){"object"==typeof e[t]&&"Object"===e[t].constructor.name?r[t]=v(e[t],"shallow-recurse-objects"):Array.isArray(e[t])&&(r[t]=function(e,t){for(var r=[],n=0,o=e.length;n<o;n++)r[n]=v(e[n],t);return r}(e[t],"shallow-recurse-objects"))})}return r}function m(){try{return window&&void 0!==window.localStorage&&null!==window.localStorage}catch(e){return!1}}function y(){}function g(e,t){this.filename=e||"loki.db",this.collections=[],this.databaseVersion=1.5,this.engineVersion=1.5,this.autosave=!1,this.autosaveInterval=5e3,this.autosaveHandle=null,this.throttledSaves=!0,this.options={},this.persistenceMethod=null,this.persistenceAdapter=null,this.throttledSavePending=!1,this.throttledCallbacks=[],this.verbose=!(!t||!t.hasOwnProperty("verbose"))&&t.verbose,this.events={init:[],loaded:[],flushChanges:[],close:[],changes:[],warning:[]},t&&t.hasOwnProperty("env")?this.ENV=t.env:this.ENV=void 0!==n&&(n.android||n.NSObject)?"NATIVESCRIPT":"undefined"==typeof window?"NODEJS":void 0!==n&&n.window&&void 0!==o?"NODEJS":"undefined"!=typeof document?-1===document.URL.indexOf("http://")&&-1===document.URL.indexOf("https://")?"CORDOVA":"BROWSER":"CORDOVA","undefined"===this.ENV&&(this.ENV="NODEJS"),this.configureOptions(t,!0),this.on("init",this.clearChanges)}function w(e){this.hashStore={},this.options=e||{},this.options.hasOwnProperty("asyncResponses")||(this.options.asyncResponses=!1),this.options.hasOwnProperty("asyncTimeout")||(this.options.asyncTimeout=50)}function b(e,t){if(this.mode="reference",this.adapter=null,this.options=t||{},this.dbref=null,this.dbname="",this.pageIterator={},!e)throw new Error("LokiPartitioningAdapter requires a (non-reference mode) adapter on construction");if("reference"===e.mode)throw new Error("LokiPartitioningAdapter cannot be instantiated with a reference mode adapter");this.adapter=e,this.options.hasOwnProperty("paging")||(this.options.paging=!1),this.options.hasOwnProperty("pageSize")||(this.options.pageSize=26214400),this.options.hasOwnProperty("delimiter")||(this.options.delimiter="$<\n")}function x(){try{this.fs=r(7)}catch(e){this.fs=null}}function _(){}function E(e,t){return t=t||{},this.collection=e,this.filteredrows=[],this.filterInitialized=!1,this}function O(e,t,r){this.collection=e,this.name=t,this.rebuildPending=!1,this.options=r||{},this.options.hasOwnProperty("persistent")||(this.options.persistent=!1),this.options.hasOwnProperty("sortPriority")||(this.options.sortPriority="passive"),this.options.hasOwnProperty("minRebuildInterval")||(this.options.minRebuildInterval=1),this.resultset=new E(e),this.resultdata=[],this.resultsdirty=!1,this.cachedresultset=null,this.filterPipeline=[],this.sortFunction=null,this.sortCriteria=null,this.sortCriteriaSimple=null,this.sortDirty=!1,this.events={rebuild:[]}}function k(t,r){this.name=t,this.data=[],this.idIndex=[],this.binaryIndices={},this.constraints={unique:{},exact:{}},this.uniqueNames=[],this.transforms={},this.objType=t,this.dirty=!0,this.cachedIndex=null,this.cachedBinaryIndex=null,this.cachedData=null;var n=this;(r=r||{}).hasOwnProperty("unique")&&(Array.isArray(r.unique)||(r.unique=[r.unique]),r.unique.forEach(function(e){n.uniqueNames.push(e),n.constraints.unique[e]=new D(e)})),r.hasOwnProperty("exact")&&r.exact.forEach(function(e){n.constraints.exact[e]=new N(e)}),this.adaptiveBinaryIndices=!r.hasOwnProperty("adaptiveBinaryIndices")||r.adaptiveBinaryIndices,this.transactional=!!r.hasOwnProperty("transactional")&&r.transactional,this.cloneObjects=!!r.hasOwnProperty("clone")&&r.clone,this.cloneMethod=r.hasOwnProperty("cloneMethod")?r.cloneMethod:"parse-stringify",this.asyncListeners=!!r.hasOwnProperty("asyncListeners")&&r.asyncListeners,this.disableMeta=!!r.hasOwnProperty("disableMeta")&&r.disableMeta,this.disableChangesApi=!r.hasOwnProperty("disableChangesApi")||r.disableChangesApi,this.disableDeltaChangesApi=!r.hasOwnProperty("disableDeltaChangesApi")||r.disableDeltaChangesApi,this.disableChangesApi&&(this.disableDeltaChangesApi=!0),this.autoupdate=!!r.hasOwnProperty("autoupdate")&&r.autoupdate,this.serializableIndices=!r.hasOwnProperty("serializableIndices")||r.serializableIndices,this.ttl={age:null,ttlInterval:null,daemon:null},this.setTTL(r.ttl||-1,r.ttlInterval),this.maxId=0,this.DynamicViews=[],this.events={insert:[],update:[],"pre-insert":[],"pre-update":[],close:[],flushbuffer:[],error:[],delete:[],warning:[]},this.changes=[],this.ensureId();var o=[];if(r&&r.indices)if("[object Array]"===Object.prototype.toString.call(r.indices))o=r.indices;else{if("string"!=typeof r.indices)throw new TypeError("Indices needs to be a string or an array of strings");o=[r.indices]}for(var i=0;i<o.length;i++)this.ensureIndex(o[i]);function a(e,t){var r=null!==t&&"object"==typeof t?Object.keys(t):null;if(r&&r.length&&["string","boolean","number"].indexOf(typeof t)<0){for(var o={},i=0;i<r.length;i++){var s=r[i];if(t.hasOwnProperty(s))if(!e.hasOwnProperty(s)||n.uniqueNames.indexOf(s)>=0||"$loki"==s||"meta"==s)o[s]=t[s];else{var u=a(e[s],t[s]);void 0!==u&&u!={}&&(o[s]=u)}}return 0===Object.keys(o).length?void 0:o}return e===t?void 0:t}function s(){n.changes=[]}this.observerCallback=function(t){var r="function"==typeof Set?new Set:[];r.add||(r.add=function(e){return-1===this.indexOf(e)&&this.push(e),this}),t.forEach(function(e){r.add(e.object)}),r.forEach(function(t){if(!e.call(t,"$loki"))return n.removeAutoUpdateObserver(t);try{n.update(t)}catch(e){}})},this.getChangeDelta=function(e,t){return t?a(t,e):JSON.parse(JSON.stringify(e))},this.getObjectDelta=a,this.getChanges=function(){return n.changes},this.flushChanges=s,this.setChangesApi=function(e){n.disableChangesApi=!e,e||(n.disableDeltaChangesApi=!1)},this.on("delete",function(e){n.disableChangesApi||n.createChange(n.name,"R",e)}),this.on("warning",function(e){n.console.warn(e)}),s()}function S(e){return-1!==e.indexOf(".")}function A(e){return parseFloat(e,10)}function P(e,t){return e+t}function C(e,t){return e-t}function R(e){return e.reduce(P,0)/e.length}function T(e,t,r){if(!1===r)return e[t];for(var n=t.split("."),o=e;n.length>0;)o=o[n.shift()];return o}function M(e,t,r){for(var n,o,i=0,a=e.length;i<a;){if(o=i+a>>1,0===(n=r.apply(null,[t,e[o]])))return{found:!0,index:o};n<0?a=o:i=o+1}return{found:!1,index:a}}function j(e){return function(t,r){return M(t,r,e)}}function I(){}function D(e){this.field=e,this.keyMap={},this.lokiMap={}}function N(e){this.index={},this.field=e}return y.prototype.events={},y.prototype.asyncListeners=!1,y.prototype.on=function(e,t){var r,n=this;return Array.isArray(e)?(e.forEach(function(e){n.on(e,t)}),t):((r=this.events[e])||(r=this.events[e]=[]),r.push(t),t)},y.prototype.emit=function(e){var t=this,r=Array.prototype.slice.call(arguments,1);if(!e||!this.events[e])throw new Error("No event "+e+" defined");this.events[e].forEach(function(e){t.asyncListeners?setTimeout(function(){e.apply(t,r)},1):e.apply(t,r)})},y.prototype.addListener=y.prototype.on,y.prototype.removeListener=function(e,t){var r=this;if(Array.isArray(e))e.forEach(function(e){r.removeListener(e,t)});else if(this.events[e]){var n=this.events[e];n.splice(n.indexOf(t),1)}},g.prototype=new y,g.prototype.constructor=g,g.prototype.getIndexedAdapter=function(){return r(1)},g.prototype.configureOptions=function(e,t){var r={fs:x,localStorage:_,memory:w};if(this.options={},this.persistenceMethod=null,this.persistenceAdapter=null,void 0!==e){if(this.options=e,this.options.hasOwnProperty("persistenceMethod")&&"function"==typeof r[e.persistenceMethod]&&(this.persistenceMethod=e.persistenceMethod,this.persistenceAdapter=new r[e.persistenceMethod]),this.options.hasOwnProperty("adapter")&&(this.persistenceMethod="adapter",this.persistenceAdapter=e.adapter,this.options.adapter=null),e.autoload&&t){var n=this;setTimeout(function(){n.loadDatabase(e,e.autoloadCallback)},1)}this.options.hasOwnProperty("autosaveInterval")&&(this.autosaveDisable(),this.autosaveInterval=parseInt(this.options.autosaveInterval,10)),this.options.hasOwnProperty("autosave")&&this.options.autosave&&(this.autosaveDisable(),this.autosave=!0,this.options.hasOwnProperty("autosaveCallback")?this.autosaveEnable(e,e.autosaveCallback):this.autosaveEnable()),this.options.hasOwnProperty("throttledSaves")&&(this.throttledSaves=this.options.throttledSaves)}this.options.hasOwnProperty("serializationMethod")||(this.options.serializationMethod="normal"),this.options.hasOwnProperty("destructureDelimiter")||(this.options.destructureDelimiter="$<\n"),null===this.persistenceAdapter&&(this.persistenceMethod={NODEJS:"fs",BROWSER:"localStorage",CORDOVA:"localStorage",MEMORY:"memory"}[this.ENV],this.persistenceMethod&&(this.persistenceAdapter=new r[this.persistenceMethod]))},g.prototype.copy=function(e){var t,r,n=new g(this.filename,{env:"NA"});if(e=e||{},n.loadJSONObject(this,{retainDirtyFlags:!0}),e.hasOwnProperty("removeNonSerializable")&&!0===e.removeNonSerializable)for(n.autosaveHandle=null,n.persistenceAdapter=null,t=n.collections.length,r=0;r<t;r++)n.collections[r].constraints=null,n.collections[r].ttl=null;return n},g.prototype.addCollection=function(e,t){var r,n=this.collections.length;if(t&&!0===t.disableMeta){if(!1===t.disableChangesApi)throw new Error("disableMeta option cannot be passed as true when disableChangesApi is passed as false");if(!1===t.disableDeltaChangesApi)throw new Error("disableMeta option cannot be passed as true when disableDeltaChangesApi is passed as false");if("number"==typeof t.ttl&&t.ttl>0)throw new Error("disableMeta option cannot be passed as true when ttl is enabled")}for(r=0;r<n;r+=1)if(this.collections[r].name===e)return this.collections[r];var o=new k(e,t);return this.collections.push(o),this.verbose&&(o.console=console),o},g.prototype.loadCollection=function(e){if(!e.name)throw new Error("Collection must have a name property to be loaded");this.collections.push(e)},g.prototype.getCollection=function(e){var t,r=this.collections.length;for(t=0;t<r;t+=1)if(this.collections[t].name===e)return this.collections[t];return this.emit("warning","collection "+e+" not found"),null},g.prototype.renameCollection=function(e,t){var r=this.getCollection(e);return r&&(r.name=t),r},g.prototype.listCollections=function(){for(var e=this.collections.length,t=[];e--;)t.push({name:this.collections[e].name,type:this.collections[e].objType,count:this.collections[e].data.length});return t},g.prototype.removeCollection=function(e){var t,r=this.collections.length;for(t=0;t<r;t+=1)if(this.collections[t].name===e){var n=new k(e,{}),o=this.collections[t];for(var i in o)o.hasOwnProperty(i)&&n.hasOwnProperty(i)&&(o[i]=n[i]);return void this.collections.splice(t,1)}},g.prototype.getName=function(){return this.name},g.prototype.serializeReplacer=function(e,t){switch(e){case"autosaveHandle":case"persistenceAdapter":case"constraints":case"ttl":return null;case"throttledSavePending":case"throttledCallbacks":return;default:return t}},g.prototype.serialize=function(e){switch((e=e||{}).hasOwnProperty("serializationMethod")||(e.serializationMethod=this.options.serializationMethod),e.serializationMethod){case"normal":return JSON.stringify(this,this.serializeReplacer);case"pretty":return JSON.stringify(this,this.serializeReplacer,2);case"destructured":return this.serializeDestructured();default:return JSON.stringify(this,this.serializeReplacer)}},g.prototype.toJson=g.prototype.serialize,g.prototype.serializeDestructured=function(e){var t,r,n,o,i,a=[];if((e=e||{}).hasOwnProperty("partitioned")||(e.partitioned=!1),e.hasOwnProperty("delimited")||(e.delimited=!0),e.hasOwnProperty("delimiter")||(e.delimiter=this.options.destructureDelimiter),!0===e.partitioned&&e.hasOwnProperty("partition")&&e.partition>=0)return this.serializeCollection({delimited:e.delimited,delimiter:e.delimiter,collectionIndex:e.partition});for((i=new g(this.filename)).loadJSONObject(this),t=0;t<i.collections.length;t++)i.collections[t].data=[];if(!0===e.partitioned&&-1===e.partition)return i.serialize({serializationMethod:"normal"});for(a.push(i.serialize({serializationMethod:"normal"})),i=null,t=0;t<this.collections.length;t++)if(n=this.serializeCollection({delimited:e.delimited,delimiter:e.delimiter,collectionIndex:t}),!1===e.partitioned&&!1===e.delimited){if(!Array.isArray(n))throw new Error("a nondelimited, non partitioned collection serialization did not return an expected array");for(o=n.length,r=0;r<o;r++)a.push(n[r]),n[r]=null;a.push("")}else a.push(n);return e.partitioned?(e.delimited,a):e.delimited?(a.push(""),a.join(e.delimiter)):(a.push(""),a)},g.prototype.serializeCollection=function(e){var t,r,n=[];if((e=e||{}).hasOwnProperty("delimited")||(e.delimited=!0),!e.hasOwnProperty("collectionIndex"))throw new Error("serializeCollection called without 'collectionIndex' option");for(t=this.collections[e.collectionIndex].data.length,n=[],r=0;r<t;r++)n.push(JSON.stringify(this.collections[e.collectionIndex].data[r]));return e.delimited?(n.push(""),n.join(e.delimiter)):n},g.prototype.deserializeDestructured=function(e,t){var r,n,o,i=[],a=0,s=1,u=!1;if((t=t||{}).hasOwnProperty("partitioned")||(t.partitioned=!1),t.hasOwnProperty("delimited")||(t.delimited=!0),t.hasOwnProperty("delimiter")||(t.delimiter=this.options.destructureDelimiter),t.partitioned){if(t.hasOwnProperty("partition"))return-1===t.partition?r=JSON.parse(e[0]):this.deserializeCollection(e[t.partition+1],t);for(r=JSON.parse(e[0]),n=r.collections.length,a=0;a<n;a++)r.collections[a].data=this.deserializeCollection(e[a+1],t);return r}if(t.delimited){if(i=e.split(t.delimiter),e=null,0===i.length)return null}else i=e;for(r=JSON.parse(i[0]),n=r.collections.length,i[0]=null;!u;)i[s],""===i[s]?++a>n&&(u=!0):(o=JSON.parse(i[s]),r.collections[a].data.push(o)),i[s++]=null;return r},g.prototype.deserializeCollection=function(e,t){var r,n,o=[];for((t=t||{}).hasOwnProperty("partitioned")||(t.partitioned=!1),t.hasOwnProperty("delimited")||(t.delimited=!0),t.hasOwnProperty("delimiter")||(t.delimiter=this.options.destructureDelimiter),t.delimited?(o=e.split(t.delimiter)).pop():o=e,n=o.length,r=0;r<n;r++)o[r]=JSON.parse(o[r]);return o},g.prototype.loadJSON=function(e,t){var r;if(0===e.length)r={};else switch(this.options.serializationMethod){case"normal":case"pretty":r=JSON.parse(e);break;case"destructured":r=this.deserializeDestructured(e);break;default:r=JSON.parse(e)}this.loadJSONObject(r,t)},g.prototype.loadJSONObject=function(e,r){var n,o,i,a,s,u,c=0,l=e.collections?e.collections.length:0;function f(e){var n,o=r[e.name];return o.proto?(n=o.inflate||t.copyProperties,function(e){var t=new o.proto;return n(e,t),t}):o.inflate}for(this.name=e.name,e.hasOwnProperty("throttledSaves")&&r&&!r.hasOwnProperty("throttledSaves")&&(this.throttledSaves=e.throttledSaves),this.collections=[];c<l;c+=1){if(n=e.collections[c],(o=this.addCollection(n.name,{disableChangesApi:n.disableChangesApi,disableDeltaChangesApi:n.disableDeltaChangesApi,disableMeta:n.disableMeta})).adaptiveBinaryIndices=!!n.hasOwnProperty("adaptiveBinaryIndices")&&!0===n.adaptiveBinaryIndices,o.transactional=n.transactional,o.asyncListeners=n.asyncListeners,o.cloneObjects=n.cloneObjects,o.cloneMethod=n.cloneMethod||"parse-stringify",o.autoupdate=n.autoupdate,o.changes=n.changes,r&&!0===r.retainDirtyFlags?o.dirty=n.dirty:o.dirty=!1,i=n.data.length,a=0,r&&r.hasOwnProperty(n.name))for(s=f(n);a<i;a++)u=s(n.data[a]),o.data[a]=u,o.addAutoUpdateObserver(u);else for(;a<i;a++)o.data[a]=n.data[a],o.addAutoUpdateObserver(o.data[a]);if(o.maxId=void 0===n.maxId?0:n.maxId,o.idIndex=n.idIndex,void 0!==n.binaryIndices&&(o.binaryIndices=n.binaryIndices),void 0!==n.transforms&&(o.transforms=n.transforms),o.ensureId(),o.uniqueNames=[],n.hasOwnProperty("uniqueNames"))for(o.uniqueNames=n.uniqueNames,a=0;a<o.uniqueNames.length;a++)o.ensureUniqueIndex(o.uniqueNames[a]);if(void 0!==n.DynamicViews){for(var h=0;h<n.DynamicViews.length;h++){var d=n.DynamicViews[h],p=o.addDynamicView(d.name,d.options);p.resultdata=d.resultdata,p.resultsdirty=d.resultsdirty,p.filterPipeline=d.filterPipeline,p.sortCriteria=d.sortCriteria,p.sortFunction=null,p.sortDirty=d.sortDirty,p.resultset.filteredrows=d.resultset.filteredrows,p.resultset.filterInitialized=d.resultset.filterInitialized,p.rematerialize({removeWhereFilters:!0})}e.databaseVersion<1.5&&(o.ensureAllIndexes(!0),o.dirty=!0)}}},g.prototype.close=function(e){this.autosave&&(this.autosaveDisable(),this.autosaveDirty()&&(this.saveDatabase(e),e=void 0)),e&&this.on("close",e),this.emit("close")},g.prototype.generateChangesNotification=function(e){function t(e){return e.name}var r=[],n=e||this.collections.map(t);return this.collections.forEach(function(e){-1!==n.indexOf(t(e))&&(r=r.concat(e.getChanges()))}),r},g.prototype.serializeChanges=function(e){return JSON.stringify(this.generateChangesNotification(e))},g.prototype.clearChanges=function(){this.collections.forEach(function(e){e.flushChanges&&e.flushChanges()})},w.prototype.loadDatabase=function(e,t){var r=this;this.options.asyncResponses?setTimeout(function(){r.hashStore.hasOwnProperty(e)?t(r.hashStore[e].value):t(null)},this.options.asyncTimeout):this.hashStore.hasOwnProperty(e)?t(this.hashStore[e].value):t(null)},w.prototype.saveDatabase=function(e,t,r){var n,o=this;this.options.asyncResponses?setTimeout(function(){n=o.hashStore.hasOwnProperty(e)?o.hashStore[e].savecount:0,o.hashStore[e]={savecount:n+1,lastsave:new Date,value:t},r()},this.options.asyncTimeout):(n=this.hashStore.hasOwnProperty(e)?this.hashStore[e].savecount:0,this.hashStore[e]={savecount:n+1,lastsave:new Date,value:t},r())},w.prototype.deleteDatabase=function(e,t){this.hashStore.hasOwnProperty(e)&&delete this.hashStore[e],"function"==typeof t&&t()},b.prototype.loadDatabase=function(e,t){var r=this;this.dbname=e,this.dbref=new g(e),this.adapter.loadDatabase(e,function(e){if(e){"string"!=typeof e&&t(new Error("LokiPartitioningAdapter received an unexpected response from inner adapter loadDatabase()"));var n=JSON.parse(e);r.dbref.loadJSONObject(n),n=null,r.dbref.collections.length,0!==r.dbref.collections.length?(r.pageIterator={collection:0,pageIndex:0},r.loadNextPartition(0,function(){t(r.dbref)})):t(r.dbref)}else t(e)})},b.prototype.loadNextPartition=function(e,t){var r=this.dbname+"."+e,n=this;if(!0===this.options.paging)return this.pageIterator.pageIndex=0,void this.loadNextPage(t);this.adapter.loadDatabase(r,function(r){var o=n.dbref.deserializeCollection(r,{delimited:!0,collectionIndex:e});n.dbref.collections[e].data=o,++e<n.dbref.collections.length?n.loadNextPartition(e,t):t()})},b.prototype.loadNextPage=function(e){var t=this.dbname+"."+this.pageIterator.collection+"."+this.pageIterator.pageIndex,r=this;this.adapter.loadDatabase(t,function(t){var n=t.split(r.options.delimiter);t="";var o,i=n.length,a=""===n[i-1];for(a&&(n.pop(),i=n.length,""===n[i-1]&&1===i&&(n.pop(),i=n.length)),o=0;o<i;o++)r.dbref.collections[r.pageIterator.collection].data.push(JSON.parse(n[o])),n[o]=null;n=[],a?++r.pageIterator.collection<r.dbref.collections.length?r.loadNextPartition(r.pageIterator.collection,e):e():(r.pageIterator.pageIndex++,r.loadNextPage(e))})},b.prototype.exportDatabase=function(e,t,r){var n,o=t.collections.length;for(this.dbref=t,this.dbname=e,this.dirtyPartitions=[-1],n=0;n<o;n++)t.collections[n].dirty&&this.dirtyPartitions.push(n);this.saveNextPartition(function(e){r(e)})},b.prototype.saveNextPartition=function(e){var t=this,r=this.dirtyPartitions.shift(),n=this.dbname+(-1===r?"":"."+r);if(this.options.paging&&-1!==r)return this.pageIterator={collection:r,docIndex:0,pageIndex:0},void this.saveNextPage(function(r){0===t.dirtyPartitions.length?e(r):t.saveNextPartition(e)});var o=this.dbref.serializeDestructured({partitioned:!0,delimited:!0,partition:r});this.adapter.saveDatabase(n,o,function(r){r?e(r):0===t.dirtyPartitions.length?e(null):t.saveNextPartition(e)})},b.prototype.saveNextPage=function(e){var t=this,r=this.dbref.collections[this.pageIterator.collection],n=this.dbname+"."+this.pageIterator.collection+"."+this.pageIterator.pageIndex,o=0,i=r.data.length,a=this.options.delimiter.length,s="",u="",c=!1,l=!1,f=function(r){u="",r&&e(r),c?e(null):(t.pageIterator.pageIndex++,t.saveNextPage(e))};for(0===r.data.length&&(c=!0);;)if(c||(s=JSON.stringify(r.data[this.pageIterator.docIndex]),u+=s,o+=s.length,++this.pageIterator.docIndex>=i&&(c=!0)),o>=this.options.pageSize&&(l=!0),l&&!c||(u+=this.options.delimiter,o+=a),c||l)return void this.adapter.saveDatabase(n,u,f)},x.prototype.loadDatabase=function(e,t){var r=this;this.fs.stat(e,function(n,o){!n&&o.isFile()?r.fs.readFile(e,{encoding:"utf8"},function(e,r){t(e?new Error(e):r)}):t(null)})},x.prototype.saveDatabase=function(e,t,r){var n=this,o=e+"~";this.fs.writeFile(o,t,function(t){t?r(new Error(t)):n.fs.rename(o,e,r)})},x.prototype.deleteDatabase=function(e,t){this.fs.unlink(e,function(e){e?t(new Error(e)):t()})},_.prototype.loadDatabase=function(e,t){m()?t(localStorage.getItem(e)):t(new Error("localStorage is not available"))},_.prototype.saveDatabase=function(e,t,r){m()?(localStorage.setItem(e,t),r(null)):r(new Error("localStorage is not available"))},_.prototype.deleteDatabase=function(e,t){m()?(localStorage.removeItem(e),t(null)):t(new Error("localStorage is not available"))},g.prototype.throttledSaveDrain=function(e,t){var r=this,n=(new Date).getTime();if(this.throttledSaves||e(!0),(t=t||{}).hasOwnProperty("recursiveWait")||(t.recursiveWait=!0),t.hasOwnProperty("recursiveWaitLimit")||(t.recursiveWaitLimit=!1),t.hasOwnProperty("recursiveWaitLimitDuration")||(t.recursiveWaitLimitDuration=2e3),t.hasOwnProperty("started")||(t.started=(new Date).getTime()),this.throttledSaves&&this.throttledSavePending){if(!t.recursiveWait)return void this.throttledCallbacks.push(e);this.throttledCallbacks.push(function(){return r.throttledSavePending?t.recursiveWaitLimit&&n-t.started>t.recursiveWaitLimitDuration?void e(!1):void r.throttledSaveDrain(e,t):void e(!0)})}else e(!0)},g.prototype.loadDatabaseInternal=function(e,t){var r=t||function(e,t){if(e)throw e},n=this;null!==this.persistenceAdapter?this.persistenceAdapter.loadDatabase(this.filename,function(t){if("string"==typeof t){var o=!1;try{n.loadJSON(t,e||{}),o=!0}catch(e){r(e)}o&&(r(null),n.emit("loaded","database "+n.filename+" loaded"))}else{if(!t)return r(null),void n.emit("loaded","empty database "+n.filename+" loaded");if(t instanceof Error)return void r(t);if("object"==typeof t)return n.loadJSONObject(t,e||{}),r(null),void n.emit("loaded","database "+n.filename+" loaded");r("unexpected adapter response : "+t)}}):r(new Error("persistenceAdapter not configured"))},g.prototype.loadDatabase=function(e,t){var r=this;this.throttledSaves?this.throttledSaveDrain(function(n){if(n)return r.throttledSavePending=!0,void r.loadDatabaseInternal(e,function(e){0===r.throttledCallbacks.length?r.throttledSavePending=!1:r.saveDatabase(),"function"==typeof t&&t(e)});"function"==typeof t&&t(new Error("Unable to pause save throttling long enough to read database"))},e):this.loadDatabaseInternal(e,t)},g.prototype.saveDatabaseInternal=function(e){var t=e||function(e){if(e)throw e},r=this;null!==this.persistenceAdapter?"reference"===this.persistenceAdapter.mode&&"function"==typeof this.persistenceAdapter.exportDatabase?this.persistenceAdapter.exportDatabase(this.filename,this.copy({removeNonSerializable:!0}),function(e){r.autosaveClearFlags(),t(e)}):(r.autosaveClearFlags(),this.persistenceAdapter.saveDatabase(this.filename,r.serialize(),function(e){t(e)})):t(new Error("persistenceAdapter not configured"))},g.prototype.saveDatabase=function(e){if(this.throttledSaves)if(this.throttledSavePending)this.throttledCallbacks.push(e);else{var t=this.throttledCallbacks;this.throttledCallbacks=[],t.unshift(e),this.throttledSavePending=!0;var r=this;this.saveDatabaseInternal(function(e){r.throttledSavePending=!1,t.forEach(function(t){"function"==typeof t&&setTimeout(function(){t(e)},1)}),r.throttledCallbacks.length>0&&r.saveDatabase()})}else this.saveDatabaseInternal(e)},g.prototype.save=g.prototype.saveDatabase,g.prototype.deleteDatabase=function(e,t){var r=t||function(e,t){if(e)throw e};"function"!=typeof e||t||(r=e),null!==this.persistenceAdapter?this.persistenceAdapter.deleteDatabase(this.filename,function(e){r(e)}):r(new Error("persistenceAdapter not configured"))},g.prototype.autosaveDirty=function(){for(var e=0;e<this.collections.length;e++)if(this.collections[e].dirty)return!0;return!1},g.prototype.autosaveClearFlags=function(){for(var e=0;e<this.collections.length;e++)this.collections[e].dirty=!1},g.prototype.autosaveEnable=function(e,t){this.autosave=!0;var r=5e3,n=this;void 0!==this.autosaveInterval&&null!==this.autosaveInterval&&(r=this.autosaveInterval),this.autosaveHandle=setInterval(function(){n.autosaveDirty()&&n.saveDatabase(t)},r)},g.prototype.autosaveDisable=function(){void 0!==this.autosaveHandle&&null!==this.autosaveHandle&&(clearInterval(this.autosaveHandle),this.autosaveHandle=null)},E.prototype.reset=function(){return this.filteredrows.length>0&&(this.filteredrows=[]),this.filterInitialized=!1,this},E.prototype.toJSON=function(){var e=this.copy();return e.collection=null,e},E.prototype.limit=function(e){this.filterInitialized||0!==this.filteredrows.length||(this.filteredrows=this.collection.prepareFullDocIndex());var t=new E(this.collection);return t.filteredrows=this.filteredrows.slice(0,e),t.filterInitialized=!0,t},E.prototype.offset=function(e){this.filterInitialized||0!==this.filteredrows.length||(this.filteredrows=this.collection.prepareFullDocIndex());var t=new E(this.collection);return t.filteredrows=this.filteredrows.slice(e),t.filterInitialized=!0,t},E.prototype.copy=function(){var e=new E(this.collection);return this.filteredrows.length>0&&(e.filteredrows=this.filteredrows.slice()),e.filterInitialized=this.filterInitialized,e},E.prototype.branch=E.prototype.copy,E.prototype.transform=function(e,r){var n,o,i=this;if("string"==typeof e&&this.collection.transforms.hasOwnProperty(e)&&(e=this.collection.transforms[e]),"object"!=typeof e||!Array.isArray(e))throw new Error("Invalid transform");for(void 0!==r&&(e=t.resolveTransformParams(e,r)),n=0;n<e.length;n++)switch((o=e[n]).type){case"find":i.find(o.value);break;case"where":i.where(o.value);break;case"simplesort":i.simplesort(o.property,o.desc||o.options);break;case"compoundsort":i.compoundsort(o.value);break;case"sort":i.sort(o.value);break;case"limit":i=i.limit(o.value);break;case"offset":i=i.offset(o.value);break;case"map":i=i.map(o.value,o.dataOptions);break;case"eqJoin":i=i.eqJoin(o.joinData,o.leftJoinKey,o.rightJoinKey,o.mapFun,o.dataOptions);break;case"mapReduce":i=i.mapReduce(o.mapFunction,o.reduceFunction);break;case"update":i.update(o.value);break;case"remove":i.remove()}return i},E.prototype.sort=function(e){this.filterInitialized||0!==this.filteredrows.length||(this.filteredrows=this.collection.prepareFullDocIndex());var t,r,n=(t=e,r=this.collection.data,function(e,n){return t(r[e],r[n])});return this.filteredrows.sort(n),this},E.prototype.simplesort=function(e,r){var n,o=10,i=this.collection.data.length,a=this.filteredrows.length,s=this.collection.binaryIndices.hasOwnProperty(e);if(void 0!==r&&!1!==r||(r={desc:!1}),!0===r&&(r={desc:!0}),0===a){if(this.filterInitialized)return this;if(this.collection.binaryIndices.hasOwnProperty(e))return this.collection.ensureIndex(e),this.filteredrows=this.collection.binaryIndices[e].values.slice(0),r.desc&&this.filteredrows.reverse(),this;this.filteredrows=this.collection.prepareFullDocIndex()}else if(!r.disableIndexIntersect&&s&&(n=i/a,r.useJavascriptSorting&&(o=6),n<=o||r.forceIndexIntersect)){var u,l=this.filteredrows,f={};for(u=0;u<a;u++)f[l[u]]=!0;var h=this.collection.binaryIndices[e].values;return this.filteredrows=h.filter(function(e){return f[e]}),r.desc&&this.filteredrows.reverse(),this}if(r.useJavascriptSorting)return this.sort(function(t,r){return t[e]===r[e]?0:t[e]>r[e]?1:t[e]<r[e]?-1:void 0});var d,p,v,m,y,g,w=(d=e,p=r.desc,v=this.collection.data,function(e,r){return~d.indexOf(".")?(g=d.split("."),m=t.getIn(v[e],g,!0),y=t.getIn(v[r],g,!0)):(m=v[e][d],y=v[r][d]),c(m,y,p)});return this.filteredrows.sort(w),this},E.prototype.compoundsort=function(e){if(0===e.length)throw new Error("Invalid call to compoundsort, need at least one property");var r;if(1===e.length)return r=e[0],Array.isArray(r)?this.simplesort(r[0],r[1]):this.simplesort(r,!1);for(var n=0,o=e.length;n<o;n+=1)r=e[n],Array.isArray(r)||(e[n]=[r,!1]);this.filterInitialized||0!==this.filteredrows.length||(this.filteredrows=this.collection.prepareFullDocIndex());var i,a,s=(i=e,a=this.collection.data,function(e,r){return function(e,r,n){for(var o,i,a,s,u,l=0,f=0,h=e.length;f<h;f++)if(o=e[f],~(i=o[0]).indexOf(".")?(u=i.split("."),a=t.getIn(r,u,!0),s=t.getIn(n,u,!0)):(a=r[i],s=n[i]),0!==(l=c(a,s,o[1])))return l;return 0}(i,a[e],a[r])});return this.filteredrows.sort(s),this},E.prototype.findOr=function(e){for(var t=null,r=0,n=0,o=[],i=[],a=0,s=this.count(),u=0,c=e.length;u<c;u++){if(t=this.branch().find(e[u]).filteredrows,(n=t.length)===s)return this;for(r=0;r<n;r++)a=t[r],void 0===i[a]&&(i[a]=!0,o.push(a))}return this.filteredrows=o,this.filterInitialized=!0,this},E.prototype.$or=E.prototype.findOr,E.prototype.findAnd=function(e){for(var t=0,r=e.length;t<r;t++){if(0===this.count())return this;this.find(e[t])}return this},E.prototype.$and=E.prototype.findAnd,E.prototype.find=function(r,n){if(0===this.collection.data.length)return this.filteredrows=[],this.filterInitialized=!0,this;var o,i,a,s,u,c,f,h=r||"getAll",v=!1,m=[],y=[],g=null;if(n=n||!1,"object"==typeof h){for(o in h)(s={})[o]=h[o],y.push(s),e.call(h,o)&&(i=o,a=h[o]);if(y.length>1)return this.find({$and:y},n)}if(!i||"getAll"===h)return n&&(this.filteredrows=this.collection.data.length>0?[0]:[],this.filterInitialized=!0),this;if("$and"===i||"$or"===i)return this[i](a),n&&this.filteredrows.length>1&&(this.filteredrows=this.filteredrows.slice(0,1)),this;if(null===a||"object"!=typeof a||a instanceof Date)u="$eq",c=a;else{if("object"!=typeof a)throw new Error("Do not know what you want to do.");for(f in a)if(e.call(a,f)){u=f,c=a[f];break}}"$regex"!==u&&"object"!=typeof c||(c=function e(t,r){if("$regex"===t)Array.isArray(r)?r=new RegExp(r[0],r[1]):r instanceof RegExp||(r=new RegExp(r));else if("object"==typeof r)for(var n in r)"$regex"!==n&&"object"!=typeof r[n]||(r[n]=e(n,r[n]));return r}(u,c));var w=-1!==i.indexOf("."),b=!this.filterInitialized;b&&this.collection.binaryIndices[i]&&p[u]&&(!0!==this.collection.adaptiveBinaryIndices&&this.collection.ensureIndex(i),v=!0,g=this.collection.binaryIndices[i]);var x,_=d[u],E=this.collection.data,O=0,k=0,S=0;if(this.filterInitialized)if(x=this.filteredrows,k=x.length,w)for(i=i.split("."),O=0;O<k;O++)S=x[O],l(E[S],i,_,c)&&m.push(S);else for(O=0;O<k;O++)S=x[O],_(E[S][i],c)&&m.push(S);else if(v){var A=this.collection.calculateRange(u,i,c);if("$in"!==u){for(O=A[0];O<=A[1];O++)if(!0!==p[u]){if(p[u](t.getIn(E[g.values[O]],i,w),c)&&(m.push(g.values[O]),n))return this.filteredrows=m,this.filterInitialized=!0,this}else if(m.push(g.values[O]),n)return this.filteredrows=m,this.filterInitialized=!0,this}else for(O=0,k=A.length;O<k;O++)if(m.push(g.values[A[O]]),n)return this.filteredrows=m,this.filterInitialized=!0,this}else if(k=E.length,w){for(i=i.split("."),O=0;O<k;O++)if(l(E[O],i,_,c)&&(m.push(O),n))return this.filteredrows=m,this.filterInitialized=!0,this}else for(O=0;O<k;O++)if(_(E[O][i],c)&&(m.push(O),n))return this.filteredrows=m,this.filterInitialized=!0,this;return this.filteredrows=m,this.filterInitialized=!0,this},E.prototype.where=function(e){var t,r=[];if("function"!=typeof e)throw new TypeError("Argument is not a stored view or a function");t=e;try{if(this.filterInitialized){for(var n=this.filteredrows.length;n--;)!0===t(this.collection.data[this.filteredrows[n]])&&r.push(this.filteredrows[n]);return this.filteredrows=r,this}for(var o=this.collection.data.length;o--;)!0===t(this.collection.data[o])&&r.push(o);return this.filteredrows=r,this.filterInitialized=!0,this}catch(e){throw e}},E.prototype.count=function(){return this.filterInitialized?this.filteredrows.length:this.collection.count()},E.prototype.data=function(e){var t,r,n,o,i=[],a=this.collection.data;if((e=e||{}).removeMeta&&!e.forceClones&&(e.forceClones=!0,e.forceCloneMethod=e.forceCloneMethod||"shallow"),this.collection.disableDeltaChangesApi||(e.forceClones=!0,e.forceCloneMethod="parse-stringify"),!this.filterInitialized){if(0===this.filteredrows.length){if(this.collection.cloneObjects||e.forceClones){for(r=a.length,o=e.forceCloneMethod||this.collection.cloneMethod,n=0;n<r;n++)t=v(a[n],o),e.removeMeta&&(delete t.$loki,delete t.meta),i.push(t);return i}return a.slice()}this.filterInitialized=!0}var s=this.filteredrows;if(r=s.length,this.collection.cloneObjects||e.forceClones)for(o=e.forceCloneMethod||this.collection.cloneMethod,n=0;n<r;n++)t=v(a[s[n]],o),e.removeMeta&&(delete t.$loki,delete t.meta),i.push(t);else for(n=0;n<r;n++)i.push(a[s[n]]);return i},E.prototype.update=function(e){if("function"!=typeof e)throw new TypeError("Argument is not a function");this.filterInitialized||0!==this.filteredrows.length||(this.filteredrows=this.collection.prepareFullDocIndex());for(var t,r=this.filteredrows.length,n=this.collection.data,o=0;o<r;o++)this.collection.cloneObjects||!this.collection.disableDeltaChangesApi?(t=v(n[this.filteredrows[o]],this.collection.cloneMethod),e(t),this.collection.update(t)):(e(n[this.filteredrows[o]]),this.collection.update(n[this.filteredrows[o]]));return this},E.prototype.remove=function(){return this.filterInitialized||0!==this.filteredrows.length||(this.filteredrows=this.collection.prepareFullDocIndex()),this.collection.removeBatchByPositions(this.filteredrows),this.filteredrows=[],this},E.prototype.mapReduce=function(e,t){try{return t(this.data().map(e))}catch(e){throw e}},E.prototype.eqJoin=function(e,t,r,n,o){var i,a,s,u=[],c=[],l=[],f="function"==typeof t,h="function"==typeof r,d={};if(u=this.data(o),i=u.length,e instanceof k)c=e.chain().data(o);else if(e instanceof E)c=e.data(o);else{if(!Array.isArray(e))throw new TypeError("joinData needs to be an array or result set");c=e}a=c.length;for(var p=0;p<a;p++)s=h?r(c[p]):c[p][r],d[s]=c[p];n||(n=function(e,t){return{left:e,right:t}});for(var v=0;v<i;v++)s=f?t(u[v]):u[v][t],l.push(n(u[v],d[s]||{}));return this.collection=new k("joinData"),this.collection.insert(l),this.filteredrows=[],this.filterInitialized=!1,this},E.prototype.map=function(e,t){var r=this.data(t).map(e);return this.collection=new k("mappedData"),this.collection.insert(r),this.filteredrows=[],this.filterInitialized=!1,this},O.prototype=new y,O.prototype.rematerialize=function(e){var t,r,n;if(e=e||{},this.resultdata=[],this.resultsdirty=!0,this.resultset=new E(this.collection),(this.sortFunction||this.sortCriteria||this.sortCriteriaSimple)&&(this.sortDirty=!0),e.hasOwnProperty("removeWhereFilters"))for(t=this.filterPipeline.length,r=t;r--;)"where"===this.filterPipeline[r].type&&(r!==this.filterPipeline.length-1&&(this.filterPipeline[r]=this.filterPipeline[this.filterPipeline.length-1]),this.filterPipeline.length--);var o=this.filterPipeline;for(this.filterPipeline=[],t=o.length,n=0;n<t;n++)this.applyFind(o[n].val);return this.data(),this.emit("rebuild",this),this},O.prototype.branchResultset=function(e,t){var r=this.resultset.branch();return void 0===e?r:r.transform(e,t)},O.prototype.toJSON=function(){var e=new O(this.collection,this.name,this.options);return e.resultset=this.resultset,e.resultdata=[],e.resultsdirty=!0,e.filterPipeline=this.filterPipeline,e.sortFunction=this.sortFunction,e.sortCriteria=this.sortCriteria,e.sortCriteriaSimple=this.sortCriteriaSimple||null,e.sortDirty=this.sortDirty,e.collection=null,e},O.prototype.removeFilters=function(e){e=e||{},this.rebuildPending=!1,this.resultset.reset(),this.resultdata=[],this.resultsdirty=!0,this.cachedresultset=null,this.filterPipeline=[],this.sortFunction=null,this.sortCriteria=null,this.sortCriteriaSimple=null,this.sortDirty=!1,!0===e.queueSortPhase&&this.queueSortPhase()},O.prototype.applySort=function(e){return this.sortFunction=e,this.sortCriteria=null,this.sortCriteriaSimple=null,this.queueSortPhase(),this},O.prototype.applySimpleSort=function(e,t){return this.sortCriteriaSimple={propname:e,options:t||!1},this.sortCriteria=null,this.sortFunction=null,this.queueSortPhase(),this},O.prototype.applySortCriteria=function(e){return this.sortCriteria=e,this.sortCriteriaSimple=null,this.sortFunction=null,this.queueSortPhase(),this},O.prototype.startTransaction=function(){return this.cachedresultset=this.resultset.copy(),this},O.prototype.commit=function(){return this.cachedresultset=null,this},O.prototype.rollback=function(){return this.resultset=this.cachedresultset,this.options.persistent&&(this.resultdata=this.resultset.data(),this.emit("rebuild",this)),this},O.prototype._indexOfFilterWithId=function(e){if("string"==typeof e||"number"==typeof e)for(var t=0,r=this.filterPipeline.length;t<r;t+=1)if(e===this.filterPipeline[t].uid)return t;return-1},O.prototype._addFilter=function(e){this.filterPipeline.push(e),this.resultset[e.type](e.val)},O.prototype.reapplyFilters=function(){this.resultset.reset(),this.cachedresultset=null,this.options.persistent&&(this.resultdata=[],this.resultsdirty=!0);var e=this.filterPipeline;this.filterPipeline=[];for(var t=0,r=e.length;t<r;t+=1)this._addFilter(e[t]);return this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent(),this},O.prototype.applyFilter=function(e){var t=this._indexOfFilterWithId(e.uid);return t>=0?(this.filterPipeline[t]=e,this.reapplyFilters()):(this.cachedresultset=null,this.options.persistent&&(this.resultdata=[],this.resultsdirty=!0),this._addFilter(e),this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent(),this)},O.prototype.applyFind=function(e,t){return this.applyFilter({type:"find",val:e,uid:t}),this},O.prototype.applyWhere=function(e,t){return this.applyFilter({type:"where",val:e,uid:t}),this},O.prototype.removeFilter=function(e){var t=this._indexOfFilterWithId(e);if(t<0)throw new Error("Dynamic view does not contain a filter with ID: "+e);return this.filterPipeline.splice(t,1),this.reapplyFilters(),this},O.prototype.count=function(){return this.resultsdirty&&(this.resultdata=this.resultset.data()),this.resultset.count()},O.prototype.data=function(e){return(this.sortDirty||this.resultsdirty)&&this.performSortPhase({suppressRebuildEvent:!0}),this.options.persistent?this.resultdata:this.resultset.data(e)},O.prototype.queueRebuildEvent=function(){if(!this.rebuildPending){this.rebuildPending=!0;var e=this;setTimeout(function(){e.rebuildPending&&(e.rebuildPending=!1,e.emit("rebuild",e))},this.options.minRebuildInterval)}},O.prototype.queueSortPhase=function(){if(!this.sortDirty){this.sortDirty=!0;var e=this;"active"===this.options.sortPriority?setTimeout(function(){e.performSortPhase()},this.options.minRebuildInterval):this.queueRebuildEvent()}},O.prototype.performSortPhase=function(e){(this.sortDirty||this.resultsdirty)&&(e=e||{},this.sortDirty&&(this.sortFunction?this.resultset.sort(this.sortFunction):this.sortCriteria?this.resultset.compoundsort(this.sortCriteria):this.sortCriteriaSimple&&this.resultset.simplesort(this.sortCriteriaSimple.propname,this.sortCriteriaSimple.options),this.sortDirty=!1),this.options.persistent&&(this.resultdata=this.resultset.data(),this.resultsdirty=!1),e.suppressRebuildEvent||this.emit("rebuild",this))},O.prototype.evaluateDocument=function(e,t){if(!this.resultset.filterInitialized)return this.options.persistent&&(this.resultdata=this.resultset.data()),void(this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent());var r,n=this.resultset.filteredrows,o=t?-1:n.indexOf(+e),i=n.length,a=new E(this.collection);a.filteredrows=[e],a.filterInitialized=!0;for(var s=0,u=this.filterPipeline.length;s<u;s++)r=this.filterPipeline[s],a[r.type](r.val);var c=0===a.filteredrows.length?-1:0;return-1!==o||-1!==c?-1===o&&-1!==c?(n.push(e),this.options.persistent&&this.resultdata.push(this.collection.data[e]),void(this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent())):-1!==o&&-1===c?(o<i-1?(n.splice(o,1),this.options.persistent&&this.resultdata.splice(o,1)):(n.length=i-1,this.options.persistent&&(this.resultdata.length=i-1)),void(this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent())):-1!==o&&-1!==c?(this.options.persistent&&(this.resultdata[o]=this.collection.data[e]),void(this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent())):void 0:void 0},O.prototype.removeDocument=function(e){var t,r,n,o={},i={},a=[],s=this.resultset,u=this.resultset.filteredrows,c=u.length;if(!this.resultset.filterInitialized)return this.options.persistent&&(this.resultdata=this.resultset.data()),void(this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent());for(Array.isArray(e)||(e=[e]),n=e.length,r=0;r<n;r++)o[e[r]]=!0;for(t=0;t<c;t++)o[u[t]]&&(i[t]=!0);Object.keys(i).length>0&&(this.resultset.filteredrows=this.resultset.filteredrows.filter(function(e,t){return!i[t]}),this.options.persistent&&(this.resultdata=this.resultdata.filter(function(e,t){return!i[t]})),this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent());var l=function(e){return function(t){return t<s.filteredrows[e]}};for(c=s.filteredrows.length,t=0;t<c;t++)a=e.filter(l(t)),s.filteredrows[t]-=a.length},O.prototype.mapReduce=function(e,t){try{return t(this.data().map(e))}catch(e){throw e}},k.prototype=new y,k.prototype.createChange=function(e,t,r,n){this.changes.push({name:e,operation:t,obj:"U"!=t||this.disableDeltaChangesApi?JSON.parse(JSON.stringify(r)):this.getChangeDelta(r,n)})},k.prototype.insertMeta=function(e){var t,r;if(!this.disableMeta&&e)if(Array.isArray(e))for(t=e.length,r=0;r<t;r++)e[r].hasOwnProperty("meta")||(e[r].meta={}),e[r].meta.created=(new Date).getTime(),e[r].meta.revision=0;else e.meta||(e.meta={}),e.meta.created=(new Date).getTime(),e.meta.revision=0},k.prototype.updateMeta=function(e){!this.disableMeta&&e&&(e.meta.updated=(new Date).getTime(),e.meta.revision+=1)},k.prototype.createInsertChange=function(e){this.createChange(this.name,"I",e)},k.prototype.createUpdateChange=function(e,t){this.createChange(this.name,"U",e,t)},k.prototype.insertMetaWithChange=function(e){this.insertMeta(e),this.createInsertChange(e)},k.prototype.updateMetaWithChange=function(e,t){this.updateMeta(e),this.createUpdateChange(e,t)},k.prototype.console={log:function(){},warn:function(){},error:function(){}},k.prototype.addAutoUpdateObserver=function(e){this.autoupdate&&"function"==typeof Object.observe&&Object.observe(e,this.observerCallback,["add","update","delete","reconfigure","setPrototype"])},k.prototype.removeAutoUpdateObserver=function(e){this.autoupdate&&"function"==typeof Object.observe&&Object.unobserve(e,this.observerCallback)},k.prototype.addTransform=function(e,t){if(this.transforms.hasOwnProperty(e))throw new Error("a transform by that name already exists");this.transforms[e]=t},k.prototype.getTransform=function(e){return this.transforms[e]},k.prototype.setTransform=function(e,t){this.transforms[e]=t},k.prototype.removeTransform=function(e){delete this.transforms[e]},k.prototype.byExample=function(e){var t,r,n;for(t in n=[],e)e.hasOwnProperty(t)&&n.push(((r={})[t]=e[t],r));return{$and:n}},k.prototype.findObject=function(e){return this.findOne(this.byExample(e))},k.prototype.findObjects=function(e){return this.find(this.byExample(e))},k.prototype.ttlDaemonFuncGen=function(){var e=this,t=this.ttl.age;return function(){var r=Date.now(),n=e.chain().where(function(e){var n=e.meta.updated||e.meta.created,o=r-n;return t<o});n.remove()}},k.prototype.setTTL=function(e,t){e<0?clearInterval(this.ttl.daemon):(this.ttl.age=e,this.ttl.ttlInterval=t,this.ttl.daemon=setInterval(this.ttlDaemonFuncGen(),t))},k.prototype.prepareFullDocIndex=function(){for(var e=this.data.length,t=new Array(e),r=0;r<e;r+=1)t[r]=r;return t},k.prototype.configureOptions=function(e){(e=e||{}).hasOwnProperty("adaptiveBinaryIndices")&&(this.adaptiveBinaryIndices=e.adaptiveBinaryIndices,this.adaptiveBinaryIndices&&this.ensureAllIndexes())},k.prototype.ensureIndex=function(e,r){if(void 0===r&&(r=!1),null==e)throw new Error("Attempting to set index without an associated property");if((!this.binaryIndices[e]||r||this.binaryIndices[e].dirty)&&(!0!==this.adaptiveBinaryIndices||!this.binaryIndices.hasOwnProperty(e)||r)){var n={name:e,dirty:!0,values:this.prepareFullDocIndex()};this.binaryIndices[e]=n;var o,a,s,u,c,l=(o=e,a=this.data,function(e,r){if(~o.indexOf(".")?(c=o.split("."),s=t.getIn(a[e],c,!0),u=t.getIn(a[r],c,!0)):(s=a[e][o],u=a[r][o]),s!==u){if(i.lt(s,u,!1))return-1;if(i.gt(s,u,!1))return 1}return 0});n.values.sort(l),n.dirty=!1,this.dirty=!0}},k.prototype.checkAllIndexes=function(t){var r,n=this.binaryIndices,o=[];for(r in n)e.call(n,r)&&(this.checkIndex(r,t)||o.push(r));return o},k.prototype.checkIndex=function(e,r){(r=r||{}).randomSamplingFactor&&!1!==r.randomSampling&&(r.randomSampling=!0),r.randomSamplingFactor=r.randomSamplingFactor||.1,(r.randomSamplingFactor<0||r.randomSamplingFactor>1)&&(r.randomSamplingFactor=.1);var n,o,i,a,s,u=!0;if(!this.binaryIndices.hasOwnProperty(e))throw new Error("called checkIndex on property without an index: "+e);if(this.adaptiveBinaryIndices||this.ensureIndex(e),s=this.binaryIndices[e].values,(a=s.length)!==this.data.length)return r.repair&&this.ensureIndex(e,!0),!1;if(0===a)return!0;var c=-1!==e.indexOf(".");if(1===a)u=0===s[0];else if(r.randomSampling){if(d.$lte(t.getIn(this.data[s[0]],e,c),t.getIn(this.data[s[1]],e,c))||(u=!1),d.$lte(t.getIn(this.data[s[a-2]],e,c),t.getIn(this.data[s[a-1]],e,c))||(u=!1),u)for(o=Math.floor((a-1)*r.randomSamplingFactor),n=0;n<o-1;n++)if(i=Math.floor(Math.random()*(a-1)),!d.$lte(t.getIn(this.data[s[i]],e,c),t.getIn(this.data[s[i+1]],e,c))){u=!1;break}}else for(n=0;n<a-1;n++)if(!d.$lte(t.getIn(this.data[s[n]],e,c),t.getIn(this.data[s[n+1]],e,c))){u=!1;break}return!u&&r.repair&&this.ensureIndex(e,!0),u},k.prototype.getBinaryIndexValues=function(e){var r,n=this.binaryIndices[e].values,o=[];for(r=0;r<n.length;r++)o.push(t.getIn(this.data[n[r]],e,!0));return o},k.prototype.ensureUniqueIndex=function(e){var t=this.constraints.unique[e];return t||-1==this.uniqueNames.indexOf(e)&&this.uniqueNames.push(e),this.constraints.unique[e]=t=new D(e),this.data.forEach(function(e){t.set(e)}),t},k.prototype.ensureAllIndexes=function(t){var r,n=this.binaryIndices;for(r in n)e.call(n,r)&&this.ensureIndex(r,t)},k.prototype.flagBinaryIndexesDirty=function(){var t,r=this.binaryIndices;for(t in r)e.call(r,t)&&(r[t].dirty=!0)},k.prototype.flagBinaryIndexDirty=function(e){this.binaryIndices[e]&&(this.binaryIndices[e].dirty=!0)},k.prototype.count=function(e){return e?this.chain().find(e).filteredrows.length:this.data.length},k.prototype.ensureId=function(){var e=this.data.length,t=0;for(this.idIndex=[];t<e;t+=1)this.idIndex.push(this.data[t].$loki)},k.prototype.ensureIdAsync=function(e){this.async(function(){this.ensureId()},e)},k.prototype.addDynamicView=function(e,t){var r=new O(this,e,t);return this.DynamicViews.push(r),r},k.prototype.removeDynamicView=function(e){this.DynamicViews=this.DynamicViews.filter(function(t){return t.name!==e})},k.prototype.getDynamicView=function(e){for(var t=0;t<this.DynamicViews.length;t++)if(this.DynamicViews[t].name===e)return this.DynamicViews[t];return null},k.prototype.findAndUpdate=function(e,t){"function"==typeof e?this.updateWhere(e,t):this.chain().find(e).update(t)},k.prototype.findAndRemove=function(e){this.chain().find(e).remove()},k.prototype.insert=function(e){if(!Array.isArray(e))return this.insertOne(e);var t,r=[];this.emit("pre-insert",e);for(var n=0,o=e.length;n<o;n++){if(!(t=this.insertOne(e[n],!0)))return;r.push(t)}return this.emit("insert",r),1===(r=this.cloneObjects?v(r,this.cloneMethod):r).length?r[0]:r},k.prototype.insertOne=function(e,t){var r,n=null;if("object"!=typeof e?n=new TypeError("Document needs to be an object"):null===e&&(n=new TypeError("Object cannot be null")),null!==n)throw this.emit("error",n),n;var o=this.cloneObjects?v(e,this.cloneMethod):e;if(this.disableMeta||void 0!==o.meta||(o.meta={revision:0,created:0}),t||this.emit("pre-insert",o),this.add(o))return this.disableChangesApi?this.insertMeta(o):this.insertMetaWithChange(o),r=this.cloneObjects?v(o,this.cloneMethod):o,t||this.emit("insert",r),this.addAutoUpdateObserver(r),r},k.prototype.clear=function(e){var t=this;if(e=e||{},this.data=[],this.idIndex=[],this.cachedIndex=null,this.cachedBinaryIndex=null,this.cachedData=null,this.maxId=0,this.DynamicViews=[],this.dirty=!0,!0===e.removeIndices)this.binaryIndices={},this.constraints={unique:{},exact:{}},this.uniqueNames=[];else{var r=Object.keys(this.binaryIndices);r.forEach(function(e){t.binaryIndices[e].dirty=!1,t.binaryIndices[e].values=[]}),this.constraints={unique:{},exact:{}},this.uniqueNames.forEach(function(e){t.ensureUniqueIndex(e)})}},k.prototype.update=function(t){var r,n,o;if(Array.isArray(t)){o=t.length,(r=!this.cloneObjects&&this.adaptiveBinaryIndices&&Object.keys(this.binaryIndices).length>0)&&(this.adaptiveBinaryIndices=!1);try{for(n=0;n<o;n+=1)this.update(t[n])}finally{r&&(this.ensureAllIndexes(),this.adaptiveBinaryIndices=!0)}}else{if(!e.call(t,"$loki"))throw new Error("Trying to update unsynced document. Please save the document first by using insert() or addMany()");try{this.startTransaction();var i,a,s,u,c,l=this.get(t.$loki,!0),f=this;if(!l)throw new Error("Trying to update a document not in collection.");i=l[0],s=l[1],a=this.cloneObjects||!this.disableDeltaChangesApi?v(t,this.cloneMethod):t,this.emit("pre-update",t),Object.keys(this.constraints.unique).forEach(function(e){f.constraints.unique[e].update(i,a)}),this.data[s]=a,a!==t&&this.addAutoUpdateObserver(t);for(var h=0;h<this.DynamicViews.length;h++)this.DynamicViews[h].evaluateDocument(s,!1);if(this.adaptiveBinaryIndices){var d=this.binaryIndices;for(u in d)this.adaptiveBinaryIndexUpdate(s,u)}else this.flagBinaryIndexesDirty();return this.idIndex[s]=a.$loki,this.commit(),this.dirty=!0,this.disableChangesApi?this.updateMeta(a,null):this.updateMetaWithChange(a,i),c=this.cloneObjects?v(a,this.cloneMethod):a,this.emit("update",c,i),c}catch(e){throw this.rollback(),this.console.error(e.message),this.emit("error",e),e}}},k.prototype.add=function(t){if("object"!=typeof t)throw new TypeError("Object being added needs to be an object");if(void 0!==t.$loki)throw new Error("Document is already in collection, please use update()");try{this.startTransaction(),this.maxId++,isNaN(this.maxId)&&(this.maxId=this.data[this.data.length-1].$loki+1),t.$loki=this.maxId,this.disableMeta||(t.meta.version=0);var r,n=this.constraints.unique;for(r in n)e.call(n,r)&&n[r].set(t);this.idIndex.push(t.$loki),this.data.push(t);for(var o=this.data.length-1,i=this.DynamicViews.length,a=0;a<i;a++)this.DynamicViews[a].evaluateDocument(o,!0);if(this.adaptiveBinaryIndices){var s=this.binaryIndices;for(r in s)this.adaptiveBinaryIndexInsert(o,r)}else this.flagBinaryIndexesDirty();return this.commit(),this.dirty=!0,this.cloneObjects?v(t,this.cloneMethod):t}catch(e){throw this.rollback(),this.console.error(e.message),this.emit("error",e),e}},k.prototype.updateWhere=function(e,t){var r,n=this.where(e),o=0;try{for(;o<n.length;o++)r=t(n[o]),this.update(r)}catch(e){this.rollback(),this.console.error(e.message)}},k.prototype.removeWhere=function(e){var t;"function"==typeof e?(t=this.data.filter(e),this.remove(t)):this.chain().find(e).remove()},k.prototype.removeDataOnly=function(){this.remove(this.data.slice())},k.prototype.removeBatchByPositions=function(e){var t,r,n,o,i=e.length,a={},s=Object.keys(this.binaryIndices).length,u=Object.keys(this.constraints.unique).length,c=this.adaptiveBinaryIndices&&Object.keys(this.binaryIndices).length>0,l=this;try{for(this.startTransaction(),n=0;n<i;n++)a[this.idIndex[e[n]]]=!0;if((t=this.DynamicViews.length)>0||s>0||u>0){if(t>0)for(r=0;r<t;r++)this.DynamicViews[r].removeDocument(e);if(this.adaptiveBinaryIndices&&!c){var f,h=this.binaryIndices;for(f in h)this.adaptiveBinaryIndexRemove(e,f)}else this.flagBinaryIndexesDirty();u&&Object.keys(this.constraints.unique).forEach(function(t){for(n=0;n<i;n++)null!==(o=l.data[e[n]])[t]&&void 0!==o[t]&&l.constraints.unique[t].remove(o[t])})}if(!this.disableChangesApi||this.events.delete.length>1)for(n=0;n<i;n++)this.emit("delete",this.data[e[n]]);this.data=this.data.filter(function(e){return!a[e.$loki]}),this.idIndex=this.idIndex.filter(function(e){return!a[e]}),this.adaptiveBinaryIndices&&c&&(this.adaptiveBinaryIndices=!1,this.ensureAllIndexes(!0),this.adaptiveBinaryIndices=!0),this.commit(),this.dirty=!0}catch(e){return this.rollback(),c&&(this.adaptiveBinaryIndices=!0),this.console.error(e.message),this.emit("error",e),null}},k.prototype.removeBatch=function(e){var t,r=e.length,n=this.data.length,o={},i=[];for(t=0;t<n;t++)o[this.data[t].$loki]=t;for(t=0;t<r;t++)"object"==typeof e[t]?i.push(o[e[t].$loki]):i.push(o[e[t]]);this.removeBatchByPositions(i)},k.prototype.remove=function(t){if("number"==typeof t&&(t=this.get(t)),"object"!=typeof t)throw new Error("Parameter is not an object");if(Array.isArray(t))this.removeBatch(t);else{if(!e.call(t,"$loki"))throw new Error("Object is not a document stored in the collection");try{this.startTransaction();var r=this.get(t.$loki,!0),n=r[1],o=this;Object.keys(this.constraints.unique).forEach(function(e){null!==t[e]&&void 0!==t[e]&&o.constraints.unique[e].remove(t[e])});for(var i=0;i<this.DynamicViews.length;i++)this.DynamicViews[i].removeDocument(n);if(this.adaptiveBinaryIndices){var a,s=this.binaryIndices;for(a in s)this.adaptiveBinaryIndexRemove(n,a)}else this.flagBinaryIndexesDirty();return this.data.splice(n,1),this.removeAutoUpdateObserver(t),this.idIndex.splice(n,1),this.commit(),this.dirty=!0,this.emit("delete",r[0]),delete t.$loki,delete t.meta,t}catch(e){return this.rollback(),this.console.error(e.message),this.emit("error",e),null}}},k.prototype.get=function(e,t){var r=t||!1,n=this.idIndex,o=n.length-1,i=0,a=i+o>>1;if(e="number"==typeof e?e:parseInt(e,10),isNaN(e))throw new TypeError("Passed id is not an integer");for(;n[i]<n[o];)n[a=i+o>>1]<e?i=a+1:o=a;return o===i&&n[i]===e?r?[this.data[i],i]:this.data[i]:null},k.prototype.getBinaryIndexPosition=function(e,r){var n=t.getIn(this.data[e],r,!0),o=this.binaryIndices[r].values,i=this.calculateRange("$eq",r,n);if(0===i[0]&&-1===i[1])return null;for(var a=i[0],s=i[1],u=a;u<=s;u++)if(o[u]===e)return u;return null},k.prototype.adaptiveBinaryIndexInsert=function(e,r){var n=-1!==r.indexOf("."),o=this.binaryIndices[r].values,i=t.getIn(this.data[e],r,n);!0===this.serializableIndices&&i instanceof Date&&(this.data[e][r]=i.getTime(),i=t.getIn(this.data[e],r));var a=0===o.length?0:this.calculateRangeStart(r,i,!0,n);this.binaryIndices[r].values.splice(a,0,e)},k.prototype.adaptiveBinaryIndexUpdate=function(e,t){var r,n=this.binaryIndices[t].values,o=n.length;for(r=0;r<o&&n[r]!==e;r++);this.binaryIndices[t].values.splice(r,1),this.adaptiveBinaryIndexInsert(e,t)},k.prototype.adaptiveBinaryIndexRemove=function(e,t,r){var n,o,i,a,s,u,c,l=this.binaryIndices[t],f={};if(Array.isArray(e)){if(1!==(a=e.length)){for(i=0;i<a;i++)f[e[i]]=!0;if(l.values=l.values.filter(function(e){return!f[e]}),!0===r)return;var h=e.slice();for(h.sort(function(e,t){return e-t}),n=l.values.length,o=0;o<n;o++){for(s=l.values[o],u=0,i=0;i<a&&s>h[i];i++)u++;l.values[o]-=u}return}e=e[0]}if(null===(c=this.getBinaryIndexPosition(e,t)))return null;if(l.values.splice(c,1),!0!==r)for(n=l.values.length,o=0;o<n;o++)l.values[o]>e&&l.values[o]--},k.prototype.calculateRangeStart=function(e,r,n,o){var a=this.data,s=this.binaryIndices[e].values,u=0,c=s.length-1,l=0;if(0===s.length)return-1;for(t.getIn(a[s[u]],e,o),t.getIn(a[s[c]],e,o);u<c;)l=u+c>>1,i.lt(t.getIn(a[s[l]],e,o),r,!1)?u=l+1:c=l;var f=u;return i.aeq(r,t.getIn(a[s[f]],e,o))?f:i.lt(r,t.getIn(a[s[f]],e,o),!1)?n?f:f-1:n?f+1:f},k.prototype.calculateRangeEnd=function(e,r,n){var o=this.data,a=this.binaryIndices[e].values,s=0,u=a.length-1,c=0;if(0===a.length)return-1;for(t.getIn(o[a[s]],e,n),t.getIn(o[a[u]],e,n);s<u;)c=s+u>>1,i.lt(r,t.getIn(o[a[c]],e,n),!1)?u=c:s=c+1;var l=u;return i.aeq(r,t.getIn(o[a[l]],e,n))?l:i.gt(r,t.getIn(o[a[l]],e,n),!1)?l+1:i.aeq(r,t.getIn(o[a[l-1]],e,n))?l-1:l},k.prototype.calculateRange=function(e,r,n){var o,a,s,u=this.data,c=this.binaryIndices[r].values,l=c.length-1;if(0===u.length)return[0,-1];var f=-1!==r.indexOf("."),h=t.getIn(u[c[0]],r,f),d=t.getIn(u[c[l]],r,f);switch(e){case"$eq":case"$aeq":case"$dteq":if(i.lt(n,h,!1)||i.gt(n,d,!1))return[0,-1];break;case"$gt":if(i.gt(n,d,!0))return[0,-1];if(i.gt(h,n,!1))return[0,l];break;case"$gte":if(i.gt(n,d,!1))return[0,-1];if(i.gt(h,n,!0))return[0,l];break;case"$lt":if(i.lt(n,h,!0))return[0,-1];if(i.lt(d,n,!1))return[0,l];break;case"$lte":if(i.lt(n,h,!1))return[0,-1];if(i.lt(d,n,!0))return[0,l];break;case"$between":return i.gt(n[0],d,!1)?[0,-1]:i.lt(n[1],h,!1)?[0,-1]:(o=this.calculateRangeStart(r,n[0],!1,f),s=this.calculateRangeEnd(r,n[1],f),o<0&&o++,s>l&&s--,i.gt(t.getIn(u[c[o]],r,f),n[0],!0)||o++,i.lt(t.getIn(u[c[s]],r,f),n[1],!0)||s--,s<o?[0,-1]:[o,s]);case"$in":for(var p=[],v=[],m=0,y=n.length;m<y;m++)for(var g=this.calculateRange("$eq",r,n[m]),w=g[0];w<=g[1];w++)void 0===p[w]&&(p[w]=!0,v.push(w));return v}switch(e){case"$eq":case"$aeq":case"$dteq":case"$gte":case"$lt":o=this.calculateRangeStart(r,n,!1,f),a=t.getIn(u[c[o]],r,f)}switch(e){case"$eq":case"$aeq":case"$dteq":case"$lte":case"$gt":s=this.calculateRangeEnd(r,n,f),t.getIn(u[c[s]],r,f)}switch(e){case"$eq":case"$aeq":case"$dteq":return i.aeq(a,n)?[o,s]:[0,-1];case"$gt":return i.aeq(t.getIn(u[c[s]],r,f),n)?[s+1,l]:[s,l];case"$gte":return i.aeq(t.getIn(u[c[o]],r,f),n)?[o,l]:[o+1,l];case"$lt":return i.aeq(t.getIn(u[c[o]],r,f),n)?[0,o-1]:[0,o];case"$lte":return i.aeq(t.getIn(u[c[s]],r,f),n)?[0,s]:[0,s-1];default:return[0,u.length-1]}},k.prototype.by=function(e,t){var r;if(void 0===t)return r=this,function(t){return r.by(e,t)};var n=this.constraints.unique[e].get(t);return this.cloneObjects?v(n,this.cloneMethod):n},k.prototype.findOne=function(e){e=e||{};var t=this.chain().find(e,!0).data();return Array.isArray(t)&&0===t.length?null:this.cloneObjects?v(t[0],this.cloneMethod):t[0]},k.prototype.chain=function(e,t){var r=new E(this);return void 0===e?r:r.transform(e,t)},k.prototype.find=function(e){return this.chain().find(e).data()},k.prototype.findOneUnindexed=function(e,r){for(var n=this.data.length;n--;)if(t.getIn(this.data[n],e,!0)===r)return this.data[n];return null},k.prototype.startTransaction=function(){if(this.transactional){this.cachedData=v(this.data,this.cloneMethod),this.cachedIndex=this.idIndex,this.cachedBinaryIndex=this.binaryIndices;for(var e=0;e<this.DynamicViews.length;e++)this.DynamicViews[e].startTransaction()}},k.prototype.commit=function(){if(this.transactional){this.cachedData=null,this.cachedIndex=null,this.cachedBinaryIndex=null;for(var e=0;e<this.DynamicViews.length;e++)this.DynamicViews[e].commit()}},k.prototype.rollback=function(){if(this.transactional){null!==this.cachedData&&null!==this.cachedIndex&&(this.data=this.cachedData,this.idIndex=this.cachedIndex,this.binaryIndices=this.cachedBinaryIndex);for(var e=0;e<this.DynamicViews.length;e++)this.DynamicViews[e].rollback()}},k.prototype.async=function(e,t){setTimeout(function(){if("function"!=typeof e)throw new TypeError("Argument passed for async execution is not a function");e(),t()},0)},k.prototype.where=function(e){return this.chain().where(e).data()},k.prototype.mapReduce=function(e,t){try{return t(this.data.map(e))}catch(e){throw e}},k.prototype.eqJoin=function(e,t,r,n,o){return new E(this).eqJoin(e,t,r,n,o)},k.prototype.stages={},k.prototype.getStage=function(e){return this.stages[e]||(this.stages[e]={}),this.stages[e]},k.prototype.commitLog=[],k.prototype.stage=function(e,t){var r=JSON.parse(JSON.stringify(t));return this.getStage(e)[t.$loki]=r,r},k.prototype.commitStage=function(e,t){var r,n=this.getStage(e),o=(new Date).getTime();for(r in n)this.update(n[r]),this.commitLog.push({timestamp:o,message:t,data:JSON.parse(JSON.stringify(n[r]))});this.stages[e]={}},k.prototype.no_op=function(){},k.prototype.extract=function(e){for(var t=0,r=this.data.length,n=S(e),o=[];t<r;t+=1)o.push(T(this.data[t],e,n));return o},k.prototype.max=function(e){return Math.max.apply(null,this.extract(e))},k.prototype.min=function(e){return Math.min.apply(null,this.extract(e))},k.prototype.maxRecord=function(e){for(var t,r=0,n=this.data.length,o=S(e),i={index:0,value:void 0};r<n;r+=1)void 0!==t?t<T(this.data[r],e,o)&&(t=T(this.data[r],e,o),i.index=this.data[r].$loki):(t=T(this.data[r],e,o),i.index=this.data[r].$loki);return i.value=t,i},k.prototype.minRecord=function(e){for(var t,r=0,n=this.data.length,o=S(e),i={index:0,value:void 0};r<n;r+=1)void 0!==t?t>T(this.data[r],e,o)&&(t=T(this.data[r],e,o),i.index=this.data[r].$loki):(t=T(this.data[r],e,o),i.index=this.data[r].$loki);return i.value=t,i},k.prototype.extractNumerical=function(e){return this.extract(e).map(A).filter(Number).filter(function(e){return!isNaN(e)})},k.prototype.avg=function(e){return R(this.extractNumerical(e))},k.prototype.stdDev=function(e){return t=this.extractNumerical(e),r=R(t),n=R(t.map(function(e){var t=e-r,n=t*t;return n})),Math.sqrt(n);var t,r,n},k.prototype.mode=function(e){var t,r,n,o={},i=this.extract(e);for(r in i.forEach(function(e){o[e]?o[e]+=1:o[e]=1}),o)t?t<o[r]&&(n=r):(n=r,t=o[r]);return n},k.prototype.median=function(e){var t=this.extractNumerical(e);t.sort(C);var r=Math.floor(t.length/2);return t.length%2?t[r]:(t[r-1]+t[r])/2},I.prototype={keys:[],values:[],sort:function(e,t){return e<t?-1:e>t?1:0},setSort:function(e){this.bs=new j(e)},bs:function(){return new j(this.sort)},set:function(e,t){var r=this.bs(this.keys,e);r.found?this.values[r.index]=t:(this.keys.splice(r.index,0,e),this.values.splice(r.index,0,t))},get:function(e){return this.values[M(this.keys,e,this.sort).index]}},D.prototype.keyMap={},D.prototype.lokiMap={},D.prototype.set=function(e){var t=e[this.field];if(null!=t){if(this.keyMap[t])throw new Error("Duplicate key for property "+this.field+": "+t);this.keyMap[t]=e,this.lokiMap[e.$loki]=t}},D.prototype.get=function(e){return this.keyMap[e]},D.prototype.byId=function(e){return this.keyMap[this.lokiMap[e]]},D.prototype.update=function(e,t){if(this.lokiMap[e.$loki]!==t[this.field]){var r=this.lokiMap[e.$loki];this.set(t),this.keyMap[r]=void 0}else this.keyMap[e[this.field]]=t},D.prototype.remove=function(e){var t=this.keyMap[e];if(null==t)throw new Error("Key is not in unique index: "+this.field);this.keyMap[e]=void 0,this.lokiMap[t.$loki]=void 0},D.prototype.clear=function(){this.keyMap={},this.lokiMap={}},N.prototype={set:function(e,t){this.index[e]?this.index[e].push(t):this.index[e]=[t]},remove:function(e,t){var r=this.index[e];for(var n in r)r[n]==t&&r.splice(n,1);r.length<1&&(this.index[e]=void 0)},get:function(e){return this.index[e]},clear:function(e){this.index={}}},g.LokiOps=d,g.Collection=k,g.KeyValueStore=I,g.LokiMemoryAdapter=w,g.LokiPartitioningAdapter=b,g.LokiLocalStorageAdapter=_,g.LokiFsAdapter=x,g.persistenceAdapters={fs:x,localStorage:_},g.aeq=a,g.lt=s,g.gt=u,g.Comparators=i,g}()})?i.apply(t,a):i)||(e.exports=s)}).call(this,r(0),r(6))},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=s(h);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t)),1!==c.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,i,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=(n=function(e,t){try{return e()}catch(e){return t}},o=function(e,t,r){var o=t;t.includes(" as ")&&(o=(t=t.split(" as "))[0]);var i=n(function(){return Array.isArray(t)&&t[1].trim()},void 0),a=o.replace(/\[/g,".").replace(/]/g,"").split(".").filter(Boolean).map(function(e){return e.trim()});return{label:i||o,value:a.every(function(t){return!(t&&void 0===(e=e[t]))})?e:r}},i=function e(t,r,n,o,i){t&&(o=o||"",t.forEach(function(t){if(t){var s=t.columns&&Array.isArray(t.columns),u=t.rows&&Array.isArray(t.rows),c=t.components&&Array.isArray(t.components),l=!1,f=t.key?o?o+"."+t.key:t.key:"";i&&(t.parent=a({},i),delete t.parent.components,delete t.parent.componentMap,delete t.parent.columns,delete t.parent.rows),(n||t.tree||!s&&!u&&!c)&&(l=r(t,f));var h=function(){return t.key&&!["panel","table","well","columns","fieldset","tabs","form"].includes(t.type)&&(["datagrid","container","editgrid"].includes(t.type)||t.tree)?f:t.key&&"form"===t.type?f+".data":o};l||(s?t.columns.forEach(function(o){return e(o.components,r,n,h(),i?t:null)}):u?t.rows.forEach(function(o){Array.isArray(o)&&o.forEach(function(o){return e(o.components,r,n,h(),i?t:null)})}):c&&e(t.components,r,n,h(),i?t:null))}}))},Object.freeze({cloneDeep:function(e){return JSON.parse(JSON.stringify(e))},get:n,orderBy:function(){},isEmpty:function(e){if(!e)return!0;if(Array.isArray(e)||"string"==typeof e)return!e.length;for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0},debounce:function(e,t){var r=void 0;return function(){var n=this,o=arguments;clearTimeout(r),r=setTimeout(function(){return e.apply(n,o)},t)}},getFromPath:o,deleteNulls:function e(t){var r=t,n=r instanceof Array;for(var o in r)null===r[o]?n?r.splice(o,1):delete r[o]:"object"===s(r[o])&&e(r[o]);return r},eachComponent:i,findComponents:function(e,t){var r=[];return i(e,function(e,n){(function(e,t){if("string"==typeof t)return e.key===t;var r=!1;return Object.keys(t).forEach(function(n){if(!(r=o(e,n).value===t[n]))return!1}),r})(e,t)&&(e.path=n,r.push(e))},!0),r},unixDate:function(){return Math.round(+new Date/1e3)}}));t.default=u},function(e,t,r){var n=r(10),o=r(11);e.exports=function(e,t,r){var i=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||o(a)}},function(e,t){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);e.exports=function(){return r(n),n}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,o=r;return[o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]]].join("")}},function(e,t,r){"use strict";(function(e){var r,n,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==(void 0===e?"undefined":a(e))&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=13)}([function(e,t,r){var n=r(2),o=r(17),i=r(6),a=r(18),s=r(1),u=r(3),c=r(8),l=r(7),f=Array.prototype.concat;function h(){var e=f.apply([],arguments).filter(u);return 0===e.length?void 0:e}function d(e){if(!s(e))return e;var t=e.methods,r=e.properties,n=e.props,o=e.initializers,i=e.init,u=e.composers,f=e.deepProperties,d=e.deepProps,p=e.propertyDescriptors,v=e.staticProperties,m=e.statics,y=e.staticDeepProperties,g=e.deepStatics,w=e.configuration,b=e.conf,x=e.deepConfiguration,_=e.deepConf,E=s(n)||s(r)?l({},n,r):void 0,O=s(d)?c({},d):void 0;O=s(f)?c(O,f):O;var k=s(m)||s(v)?l({},m,v):void 0,S=s(g)?c({},g):void 0;S=s(y)?c(S,y):S;var A=e.staticPropertyDescriptors;a(e.name)&&(A=l({},A||{},{name:{value:e.name}}));var P=s(b)||s(w)?l({},b,w):void 0,C=s(_)?c({},_):void 0;C=s(x)?c(C,x):C;var R=h(i,o),T=h(u),M={};return t&&(M.methods=t),E&&(M.properties=E),R&&(M.initializers=R),T&&(M.composers=T),O&&(M.deepProperties=O),k&&(M.staticProperties=k),S&&(M.staticDeepProperties=S),p&&(M.propertyDescriptors=p),A&&(M.staticPropertyDescriptors=A),P&&(M.configuration=P),C&&(M.deepConfiguration=C),M}function p(){for(var e=arguments.length,t=[],r=0;r<e;r+=1){var o=arguments[r];t.push(i(o)?o:d(o))}return n.apply(this||v,t)}var v=o.compose({staticProperties:{create:function(){return this.apply(this,arguments)},compose:p}}),m=o.compose.staticProperties;for(var y in m)p[y]=m[y].bind(v);p.compose=p.bind(),e.exports=p},function(e,t){e.exports=function(e){var t=void 0===e?"undefined":a(e);return Boolean(e)&&("object"===t||"function"===t)}},function(e,t,r){var n=r(5),o=r(3),i=r(1),a=r(6),s=r(15),u=r(7),c=r(8),l=Array.prototype.slice;function f(e,t){var r=function e(t){var r=e.compose||{},n={__proto__:r.methods};if(c(n,r.deepProperties),u(n,r.properties),Object.defineProperties(n,r.propertyDescriptors||{}),!r.initializers||0===r.initializers.length)return n;void 0===t&&(t={});for(var i=r.initializers,a=i.length,s=0;s<a;s+=1){var f=i[s];if(o(f)){var h=f.call(n,t,{instance:n,stamp:e,args:l.apply(arguments)});n=void 0===h?n:h}}return n};e.staticDeepProperties&&c(r,e.staticDeepProperties),e.staticProperties&&u(r,e.staticProperties),e.staticPropertyDescriptors&&Object.defineProperties(r,e.staticPropertyDescriptors);var n=o(r.compose)?r.compose:t;return u(r.compose=function(){return n.apply(this,arguments)},e),r}function h(e,t,r){if(n(t)){var i=t.length,a=e[r]||[];e[r]=a;for(var s=0;s<i;s+=1){var u=t[s];o(u)&&a.indexOf(u)<0&&a.push(u)}}}function d(e,t,r,n){i(t[r])&&(i(e[r])||(e[r]={}),n(e[r],t[r]))}function p(e,t,r){d(e,t,r,c)}function v(e,t,r){d(e,t,r,u)}function m(e,t){var r=t&&t.compose||t;v(e,r,"methods"),v(e,r,"properties"),p(e,r,"deepProperties"),v(e,r,"propertyDescriptors"),v(e,r,"staticProperties"),p(e,r,"staticDeepProperties"),v(e,r,"staticPropertyDescriptors"),v(e,r,"configuration"),p(e,r,"deepConfiguration"),h(e,r.initializers,"initializers"),h(e,r.composers,"composers")}e.exports=function e(){var t={},r=[];s(this)&&(m(t,this),r.push(this));for(var o=0;o<arguments.length;o++){var i=arguments[o];s(i)&&(m(t,i),r.push(i))}var u=f(t,e),c=t.composers;if(n(c)&&c.length>0)for(var l=0;l<c.length;l+=1){var h=(0,c[l])({stamp:u,composables:r});u=a(h)?h:u}return u}},function(e,t){e.exports=function(e){return"function"==typeof e}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==("undefined"==typeof window?"undefined":a(window))&&(r=window)}e.exports=r},function(e,t){e.exports=Array.isArray},function(e,t,r){var n=r(3);e.exports=function(e){return n(e)&&n(e.compose)}},function(e,t){e.exports=Object.assign},function(e,t,r){var n=r(16),o=r(1),i=r(5);function a(e,t){if(void 0===t)return e;if(i(t))return(i(e)?e:[]).concat(t);if(!n(t))return t;for(var r=o(e)?e:{},s=Object.keys(t),u=0;u<s.length;u+=1){var c=s[u],l=t[c];if(void 0!==l){var f=r[c],h=n(f)||i(l)?f:{};r[c]=a(h,l)}}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++)e=a(e,arguments[t]);return e}},function(e,t,r){(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(0)),o=i(r(19));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.default)({properties:{name:"baseModel",config:{remote:{path:void 0,token:void 0,pullForm:!1},local:{connector:"loki"},merge:{connector:"formio-loki"}}},methods:{getModelName:function(){return this.name},getFluentConfig:function(){var t=void 0;return"undefined"!=typeof window&&window&&window._FLUENT_?t=window._FLUENT_:e&&e._FLUENT_&&(t=e._FLUENT_),t},getConnector:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Array.isArray(e)?this.getConnectorFromArray(e,t,r):e instanceof Object?e:void 0},getConnectorFromArray:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(1===e.length)return e[0];if(this.config&&this.config[t]&&this.config[t].connector){var o=e.find(function(e){return e.name===r.config[t].connector});if(o instanceof Object)return o}if(n){var i=e.find(function(e){return e.name===n});if(i instanceof Object)return i}var a=e.find(function(e){return e.default});return a instanceof Object?a:void 0},remote:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.token,r=void 0===t?void 0:t,n=e.pullForm,o=void 0===n?void 0:n,i=e.connectorName,a=void 0===i?void 0:i,s=e.path,u=void 0===s?void 0:s,c=this.getFluentConfig(),l=c&&c.connectors&&c.connectors.remote;if(!l)throw new Error("No remote connector was defined. Please define it using Fluent.config()");var f=this.getConnector(l,"remote",a||!1);if(this.config.remote.token=r||this.config.remote.token,this.config.remote.path=u||this.config.remote.path,o&&(this.config.remote.pullForm=o||this.config.remote.pullForm),f)return f.connector({remoteConnection:this.config.remote,connector:f});throw new Error("No default remote connector found. Please assign one as your default in Fluent.config")},local:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).connectorName,t=void 0===e?void 0:e,r=this.getFluentConfig(),n=r&&r.connectors&&r.connectors.local;if(!n)throw new Error("No local connector was defined. Please define it using Fluent.config()");var o=this.getConnector(n,"local",t||!1);if(o)return o.connector({name:this.name,connector:o});throw new Error("No default local connector found. Please assign one as your default in Fluent.config")},merged:function(){var e=this.local(),t=this.remote(),r=this.getFluentConfig(),n=r&&r.connectors&&r.connectors.merge;if(!n)throw new Error("No merge connector was defined. Please define it using Fluent.config()");var o=this.getConnector(n,"merge");if(o)return o.connector({local:e,remote:t,name:this.name,connector:o});throw new Error("No default merge connector found. Please assign one as your default in Fluent.config")}}}).compose(o.default)}).call(this,r(4))},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=a(r(0)),i=a(r(11));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}t.default=(0,o.default)({init:function(e){if(!Array.isArray(e))throw new Error("Collect method only accepts arrays of data");this.data=e},properties:{data:[]},methods:{get:function(){return this.data},all:function(){return this.get()},avg:function(e){return this.average(e)},average:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[].concat(s(this.data)),r=t.reduce(function(t,r){var n=r;if(r instanceof Object){var o=i.default.getFromPath(r,e,void 0);void 0!==o&&o.value&&(n=o.value)}return t+n},0);try{return r/t.length}catch(e){throw new Error('Division between "'+r+'" and "'+t.length+'" is not valid.')}},chunkApply:function(e,t){var r,n=this;return(r=regeneratorRuntime.mark(function r(){var o,i,a,s;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==t){r.next=2;break}throw new Error("Callback function not defined.");case 2:return o=n.data.length,i=0,n.chunks(e),a=function(r,n){return r.then(function(){return Promise.all(n.map(function(e){return t(e)}))}).then(function(){i=i+e>o?o:i+e,console.log("Processed "+i+"/"+o+" elements...")})},console.log("Processed "+i+"/"+o+" elements..."),s=n.data.reduce(a,Promise.resolve()),r.abrupt("return",s);case 9:case"end":return r.stop()}},r,n)}),function(){var e=r.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});t(s)}("next")})})()},chunks:function(e){for(var t=[].concat(s(this.data)),r=[];t.length;)r.push(t.splice(0,e));return this.data=r,this},collapse:function(){var e=[].concat(s(this.data)),t=[];return e.forEach(function(e){Array.isArray(e)?e.forEach(function(e){t.push(e)}):t.push(e)}),this.data=t,this},unChunk:function(){return this.collapse()},combine:function(e){var t=[].concat(s(this.data)),r=void 0;return t.forEach(function(t,o){t instanceof Object?(r||(r=[]),r[o]=n({},t,{_value:e[o]})):(r||(r={}),r[t]=e[o])}),this.data=r,this},concat:function(e){return this.data=[].concat(s(this.data),s(e)),this},contains:function(){var e=void 0,t=void 0,r=void 0;return 1===arguments.length?(this.isFunction(arguments.length<=0?void 0:arguments[0])&&(r=arguments.length<=0?void 0:arguments[0]),e=arguments.length<=0?void 0:arguments[0]):(e=arguments.length<=1?void 0:arguments[1],t=arguments.length<=0?void 0:arguments[0]),[].concat(s(this.data)).some(function(n,o){if(r)return!!r(n,o);var a=n;if(n instanceof Object){var s=i.default.getFromPath(n,t,void 0);s.value&&(a=s.value)}return a===e})},duplicatesBy:function(e){var t=[].concat(s(this.data)),r=[];return t.reduce(function(t,n){var o=e.reduce(function(e,t){return e+i.default.getFromPath(n,t,"").value},"");return t.hasOwnProperty(o)?r.push(n):t[o]=!0,t},{}),this.data=r,this},count:function(){return this.data.length},isFunction:function(e){return e&&"[object Function]"==={}.toString.call(e)}}})},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=(n=function(e,t){try{return e()}catch(e){return t}},Object.freeze({get:n,getFromPath:function(e,t,r){var o=t;t.includes(" as ")&&(o=(t=t.split(" as "))[0]);var i=n(function(){return Array.isArray(t)&&t[1].trim()},void 0),a=o.replace(/\[/g,".").replace(/]/g,"").split(".").filter(Boolean).map(function(e){return e.trim()});return{label:i||o,value:a.every(function(t){return!(t&&void 0===(e=e[t]))})?e:r}}}));t.default=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==a(Symbol.iterator)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":a(e)},o=u(r(0)),i=u(r(11)),s=u(r(10));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function l(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}t.default=(0,o.default)({init:function(e){var t=e.name,r=e.remoteConnection,n=e.connector;if(!t&&!r)throw new Error("Model must have a name or path");if(!n)throw new Error("Model must have a connector. Please register one using Fluent.config");this.name=t||this.name,this.remoteConnection=r||this.remoteConnection,this.connector=n||this.connector,this.chainReference=[],this.whereArray=[],this.orWhereArray=[],this.selectArray=[],this.orderByArray=[],this.limitNumber=void 0,this.offsetNumber=void 0,this.populate=[],this.chunk=null,this.pullSize=null,this.ownerId=void 0,this.paginator=void 0,this.rawQuery=void 0},properties:{operators:["=","<",">","<=",">=","<>","!=","in","nin","like","regexp","startsWith","endsWith","contains"]},methods:{get:function(){throw new Error("get() method not implemented")},all:function(){throw new Error("all() method not implemented")},find:function(e){throw new Error("find() method not implemented")},findOne:function(){throw new Error("findOne() method not implemented")},remove:function(){throw new Error("remove() method not implemented")},softDelete:function(){throw new Error("softDelete() method not implemented")},insert:function(){throw new Error("insert() method not implemented")},update:function(){throw new Error("update() method not implemented")},clear:function(){throw new Error("clear() method not implemented")},updateOrCreate:function(){throw new Error("updateOrCreate() method not implemented")},findAndRemove:function(){throw new Error("findAndRemove() method not implemented")},paginate:function(){throw new Error("paginate() method not implemented")},tableView:function(){throw new Error("tableView() method not implemented")},raw:function(){throw new Error("raw() method not implemented")},owner:function(e){return this.chainReference.push({method:"owner",args:e}),this.ownerId=e,this},own:function(e){return this.owner(e)},first:function(){var e=this;return l(regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get();case 2:return r=t.sent,t.abrupt("return",i.default.get(function(){return r[0]},[]));case 4:case"end":return t.stop()}},t,e)}))()},collect:function(){var e=this;return l(regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get();case 2:if(r=t.sent,Array.isArray(r)){t.next=5;break}throw new Error("Collect method only accepts arrays of data");case 5:return t.abrupt("return",(0,s.default)(r));case 6:case"end":return t.stop()}},t,e)}))()},select:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t=this.prepareInput(t),this.chainReference.push({method:"select",args:t}),this.selectArray=this.selectArray.concat(t).filter(function(e,t,r){return r.indexOf(e)===t}),this},jsApplySelect:function(e){var t=this,r=Array.isArray(e)?[].concat(c(e)):[e];return this.selectArray.length>0&&(r=r.map(function(e){var r={};return t.selectArray.forEach(function(t){var o=i.default.getFromPath(e,t,void 0),a=i.default.get(function(){return o.value},void 0);void 0!==a&&("object"===(void 0===a?"undefined":n(a))&&a.hasOwnProperty("data")&&a.data.hasOwnProperty("name")?r[o.label]=a.data.name:r[o.label]=a)}),r})),r},offset:function(e){return this.chainReference.push({method:"offset",args:e}),this.offsetNumber=e,this},skip:function(e){return this.offset(e)},where:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.chainReference.push({method:"where",args:r}),this.whereArray=[],(r=Array.isArray(r[0])?r:[r]).forEach(function(t){if(3!==t.length)throw new Error('There where clouse is not properly formatted, expecting: ["attribute", "operator","value"] but got "'+JSON.stringify(t)+'" ');e.whereArray.push(t)}),this},andWhere:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.chainReference.push({method:"andWhere",args:r}),(r=Array.isArray(r[0])?r:[r]).forEach(function(t){if(3!==t.length)throw new Error('There where clouse is not properly formatted, expecting: ["attribute", "operator","value"] but got "'+JSON.stringify(t)+'" ');e.whereArray.push(t)}),this},orWhere:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.chainReference.push({method:"orWhere",args:r}),(r=Array.isArray(r[0])?r:[r]).forEach(function(t){if(3!==t.length)throw new Error('There orWhere clouse is not properly formatted, expecting: ["attribute", "operator","value"] but got "'+JSON.stringify(t)+'" ');e.orWhereArray.push(t)}),this},limit:function(e){return this.chainReference.push({method:"limit",args:e}),this.limitNumber=e,this},take:function(e){return this.limit(e)},pluck:function(e){var t=this;return l(regeneratorRuntime.mark(function r(){var n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t.chainReference.push({method:"pluck",args:e}),r.next=3,t.get();case 3:return n=(n=r.sent).map(function(t){var r=i.default.getFromPath(t,e,void 0);if(void 0!==r.value)return r.value}),r.abrupt("return",n);case 6:case"end":return r.stop()}},r,t)}))()},orderBy:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.chainReference.push({method:"orderBy",args:t}),this.orderByArray=t,this},jsApplyOrderBy:function(e){var t=[].concat(c(e));if(0===this.orderByArray.length)return t;var r=this.orderByArray[0];if(this.selectArray.length>0&&(r.includes(".")||r.includes("[")))throw new Error('Cannot orderBy nested attribute "'+r+'" when using Select. You must rename the attribute');var n=this.orderByArray[1],o=this.orderByArray[2];return o||(o="string"),t.sort(function(e,t){var a=i.default.getFromPath(e,r,void 0).value,s=i.default.getFromPath(t,r,void 0).value;if(void 0===a||void 0===s)throw new Error('Cannot order by property "'+r+'" not all values have this property');return o.includes("string")||o.includes("number")?"asc"===n?a>s?1:a<s?-1:0:a>s?-1:a<s?1:0:o.includes("date")?"asc"===n?new Date(a)-new Date(s):new Date(s)-new Date(a):void 0})},prepareInput:function(e){var t=[];return e.forEach(function(e){var r=Array.isArray(e)?e:e.split(",");r=r.map(function(e){return e.trim()}),t=t.concat(r)}),t.filter(function(e,t,r){return r.indexOf(e)===t}),t},ArrayInsert:function(e,t){var r=this;return l(regeneratorRuntime.mark(function n(){var o,i,a,s,u,c,l,f;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:o=1,i=e.length,a=!0,s=!1,u=void 0,n.prev=5,c=e[Symbol.iterator]();case 7:if(a=(l=c.next()).done){n.next=26;break}return f=l.value,t&&t.showProgress&&console.log("Inserting "+o+" of "+i),n.prev=10,n.next=13,r.insert(f,t);case 13:n.sent,t&&t.showProgress&&console.log("Element "+o+" inserted"),o++,n.next=23;break;case 18:n.prev=18,n.t0=n.catch(10),console.log("ERROR - Element "+o+" - "+JSON.stringify(f)+" could not be inserted"),console.log(n.t0),o++;case 23:a=!0,n.next=7;break;case 26:n.next=32;break;case 28:n.prev=28,n.t1=n.catch(5),s=!0,u=n.t1;case 32:n.prev=32,n.prev=33,!a&&c.return&&c.return();case 35:if(n.prev=35,!s){n.next=38;break}throw u;case 38:return n.finish(35);case 39:return n.finish(32);case 40:case"end":return n.stop()}},n,r,[[5,28,32,40],[10,18],[33,,35,39]])}))()}}})},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Event=t.MergeConnector=t.Interface=t.Fluent=t.Model=void 0;var n=u(r(14)),o=u(r(9)),i=u(r(12)),a=u(r(20)),s=u(r(21));function u(e){return e&&e.__esModule?e:{default:e}}t.Model=o.default,t.Fluent=n.default,t.Interface=i.default,t.MergeConnector=a.default,t.Event=s.default},function(e,t,r){(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=s(r(0)),i=s(r(9)),a=s(r(10));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var c=(0,o.default)({init:function(){this.registerGlobalVariable()},properties:{},methods:{model:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.registerModel(t),i.default.compose.apply(i.default,u(t))},extend:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.registerModel(t),i.default.compose.apply(i.default,u(t))},compose:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.registerModel(t),i.default.compose.apply(i.default,u(t))},collect:function(e){return(0,a.default)(e)},registerGlobalVariable:function(){"undefined"!=typeof window&&window&&!window._FLUENT_&&(window._FLUENT_={connectors:{},models:{}}),e&&!e._FLUENT_&&(e._FLUENT_={connectors:{},models:{}})},registerModel:function(t){var r=t&&t[0]&&t[0].properties&&t[0].properties.name?t[0].properties.name:void 0;if(r&&"baseModel"!==r){if("string"!=typeof r)throw new Error("You must assign a name to your Model when using Fluent.compose");"undefined"==typeof window?e._FLUENT_.models[r]=!0:window._FLUENT_.models[r]=!0}},config:function(t){var r=t.REMOTE_CONNECTORS,n=void 0===r?void 0:r,o=t.LOCAL_CONNECTORS,i=void 0===o?void 0:o,a=t.MERGE_CONNECTORS,s=void 0===a?void 0:a;"undefined"!=typeof window&&window&&(window._FLUENT_.connectors={local:i,remote:n,merge:s}),void 0!==e&&e&&(e._FLUENT_.connectors={local:i,remote:n,merge:s})},getConfig:function(){return"undefined"!=typeof window&&window?window._FLUENT_:void 0!==e&&e?e._FLUENT_:void 0},registerConnector:function(t){var r=t.type,o=t.connector;if(!r||!o)throw new Error("type and connector must be defined");if(!["local","remote","merge"].includes(r))throw new Error("type must be either local, remote or merge");var i="undefined"!=typeof window&&window?window._FLUENT_:e._FLUENT_,a=i.connectors.hasOwnProperty(r)?i.connectors[r]:[];if(0===a.length)return o=n({},o,{default:!0}),a.push(o),void(i.connectors[r]=a);a.find(function(e){return e.name===o.name})?console.log("A "+r+" connector with the name '"+o.name+"' already exists"):(a.push(o),i.connectors[r]=a)},deregisterConnector:function(t){var r=t.type,n=t.name;if(!r||!n)throw new Error("type and name must be defined");if(!["local","remote","merge"].includes(r))throw new Error("type must be either local, remote or merge");var o="undefined"!=typeof window&&window?window._FLUENT_:e._FLUENT_,i=o.connectors.hasOwnProperty(r)?o.connectors[r]:[];if(0!==i.length){var a=i.filter(function(e){return e.name!==n});o.connectors[r]=a}}}})();t.default=c}).call(this,r(4))},function(e,t,r){e.exports=r(1)},function(e,t){e.exports=function(e){return Boolean(e)&&"object"==(void 0===e?"undefined":a(e))&&Object.getPrototypeOf(e)===Object.prototype}},function(e,t,r){var n=r(2);function o(e){return function(t){var r={};return r[e]=t,this&&this.compose?this.compose(r):n(r)}}var i=o("properties"),a=o("staticProperties"),s=o("configuration"),u=o("deepProperties"),c=o("staticDeepProperties"),l=o("deepConfiguration"),f=o("initializers");e.exports=n({staticProperties:{methods:o("methods"),props:i,properties:i,statics:a,staticProperties:a,conf:s,configuration:s,deepProps:u,deepProperties:u,deepStatics:c,staticDeepProperties:c,deepConf:l,deepConfiguration:l,init:f,initializers:f,composers:o("composers"),propertyDescriptors:o("propertyDescriptors"),staticPropertyDescriptors:o("staticPropertyDescriptors")}})},function(e,t){e.exports=function(e){return"string"==typeof e}},function(e,t,r){var n=r(2),o=new WeakMap,i=function(e,t){function r(){var t=o.get(this);return e.apply(t,arguments)}return Object.defineProperty(r,"name",{value:t,configurable:!0}),r};function a(e,t){var r=t.stamp.compose,n=r.deepConfiguration.Privatize.methods,a={};o.set(a,this);var s=r.methods;if(!s)return a;for(var u=Object.keys(s),c=0;c<u.length;c++){var l=u[c];n.indexOf(l)<0&&(a[l]=i(s[l],l))}if("undefined"!=typeof Symbol){var f=Symbol.for("stamp");s[f]&&(a[f]=t.stamp)}return a}var s=n({initializers:[a],deepConfiguration:{Privatize:{methods:[]}},staticProperties:{privatizeMethods:function(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];"string"==typeof r&&r.length>0&&e.push(r)}return(this&&this.compose?this:s).compose({deepConfiguration:{Privatize:{methods:e}}})}},composers:[function(e){var t=e.stamp.compose.initializers;t.splice(t.indexOf(a),1),t.push(a)}]});e.exports=s},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=(n=r(12))&&n.__esModule?n:{default:n};t.default=o.default.compose({properties:{localFx:void 0,remoteFx:void 0},init:function(e){this.connectors=e},methods:{get:function(){var e,t=this;return(e=regeneratorRuntime.mark(function e(){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.prepareMergedFunctions(),e.next=3,t.localFx.get();case 3:return r=e.sent,e.next=6,t.remoteFx.get();case 6:return n=e.sent,e.abrupt("return",r.concat(n));case 8:case"end":return e.stop()}},e,t)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})})()},prepareMergedFunctions:function(){var e=this;this.localFx=this.connectors.local,this.remoteFx=this.connectors.remote,this.chainReference.forEach(function(t){var r=t.method,n=t.args;e.localFx=e.localFx[r](n),e.remoteFx=e.remoteFx[r](n)})}}})},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.freeze({emit:function(e){var t=e.name,r=e.data,n=e.text;if(!t)throw new Error("Event must have a name.");if(!r)throw new Error("Event must have data.");if(!n)throw new Error("Event must have a text.");var o=function(e,t){var r=document.createEvent("CustomEvent");return t=t||{bubbles:!1,cancelable:!1,detail:void 0},r.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r}(t,{detail:{data:r,text:n}});window.dispatchEvent(o)},listen:function(e){var t=e.name,r=e.callback;if(!t)throw new Error("Listener must have a name.");if(!r)throw new Error("Listener must have a callback.");window.addEventListener(t,r)},remove:function(e){var t=e.name,r=e.callback;if(!t)throw new Error("Listener must have a name to detach");if(!r)throw new Error("Listener must have a callback to detach");window.removeEventListener(t,r)}});t.default=n}])},"object"==a(t)&&"object"==a(e)?e.exports=i():(n=[],void 0===(o="function"==typeof(r=i)?r.apply(t,n):r)||(e.exports=o))}).call(this,r(13)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}])},function(e,t,r){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=8)}([function(e,t,r){"use strict";var n=r(3),o=r(18),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function s(e){return null!==e&&"object"==typeof e}function u(e){return"[object Function]"===i.call(e)}function c(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),a(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:o,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:u,isStream:function(e){return s(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]=r}for(var n=0,o=arguments.length;n<o;n++)c(arguments[n],r);return t},extend:function(e,t,r){return c(t,function(t,o){e[o]=r&&"function"==typeof t?n(t,r):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,r){"use strict";(function(t){var n=r(0),o=r(21),i={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,u={adapter:("undefined"!=typeof XMLHttpRequest?s=r(4):void 0!==t&&(s=r(4)),s),transformRequest:[function(e,t){return o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],function(e){u.headers[e]={}}),n.forEach(["post","put","patch"],function(e){u.headers[e]=n.merge(i)}),e.exports=u}).call(this,r(20))},function(e,t,r){e.exports=r(17)},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){"use strict";var n=r(0),o=r(22),i=r(24),a=r(25),s=r(26),u=r(5),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||r(27);e.exports=function(e){return new Promise(function(t,l){var f=e.data,h=e.headers;n.isFormData(f)&&delete h["Content-Type"];var d=new XMLHttpRequest,p="onreadystatechange",v=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||s(e.url)||(d=new window.XDomainRequest,p="onload",v=!0,d.onprogress=function(){},d.ontimeout=function(){}),e.auth){var m=e.auth.username||"",y=e.auth.password||"";h.Authorization="Basic "+c(m+":"+y)}if(d.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d[p]=function(){if(d&&(4===d.readyState||v)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?a(d.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:r,config:e,request:d};o(t,l,n),d=null}},d.onerror=function(){l(u("Network Error",e,null,d)),d=null},d.ontimeout=function(){l(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",d)),d=null},n.isStandardBrowserEnv()){var g=r(28),w=(e.withCredentials||s(e.url))&&e.xsrfCookieName?g.read(e.xsrfCookieName):void 0;w&&(h[e.xsrfHeaderName]=w)}if("setRequestHeader"in d&&n.forEach(h,function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete h[t]:d.setRequestHeader(t,e)}),e.withCredentials&&(d.withCredentials=!0),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){d&&(d.abort(),l(e),d=null)}),void 0===f&&(f=null),d.send(f)})}},function(e,t,r){"use strict";var n=r(23);e.exports=function(e,t,r,o,i){var a=new Error(e);return n(a,t,r,o,i)}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(9),i=(n=o)&&n.__esModule?n:{default:n};t.default=i.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=p(r(10)),a=p(r(11)),s=p(r(12)),u=p(r(13)),c=p(r(16)),l=p(r(2)),f=r(36),h=p(r(38)),d=p(r(40));function p(e){return e&&e.__esModule?e:{default:e}}function v(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}a.default.extend(s.default),t.default=f.Interface.compose({methods:{getToken:function(){if("undefined"!=typeof localStorage){var e=localStorage.getItem("formioToken");if(!e||"x-token"===this.getTokenType(e))return e;var t=(0,u.default)(e),r=a.default.unix(t.exp);if((0,a.default)().isSameOrAfter(r))throw f.Event.emit({name:"GOAT:SESSION:EXPIRED",data:r,text:"Session expired"}),new d.default("Token has expired.");return e}},baseUrl:function(){var e=this.connector,t=e.baseUrl,r=e.name;if(!t)throw new Error('You did not provide a baseUrl for the "'+r+'" connector');return t.replace(/\/+$/,"")},get:function(){var e=this;return v(regeneratorRuntime.mark(function t(){var r,n,a,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.ownerId&&e.andWhere("owner","=",e.ownerId),r=void 0,n=void 0,t.next=5,(0,i.default)(e.httpGET());case 5:if(a=t.sent,s=o(a,2),r=s[0],n=s[1],!r){t.next=12;break}throw console.log(r),new Error("Error while getting submissions");case 12:return n=e.jsApplySelect(n&&n.data),n=e.jsApplyOrderBy(n),t.abrupt("return",n);case 15:case"end":return t.stop()}},t,e)}))()},all:function(){var e=this;return v(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.get());case 1:case"end":return t.stop()}},t,e)}))()},numberOfRows:function(){var e=this;return v(regeneratorRuntime.mark(function t(){var r,n,o,i,a,s,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.getUrl(),n=e.getHeaders(),o=e.getFilters(),i=e.getSkip(),a=e.getOrder(),s=e.getSelect(),r+="?limit=1",r=o?r+e.getSpacer(r)+o:r,r=i?r+e.getSpacer(r)+i:r,r=a?r+e.getSpacer(r)+a:r,r=s?r+e.getSpacer(r)+s:r,t.next=15,h.default.isOnline();case 15:if(t.sent){t.next=18;break}throw new Error("Cannot make get request to "+r+".You are not online");case 18:return t.next=20,l.default.get(r,{headers:n});case 20:return u=t.sent,t.abrupt("return",u.headers["content-range"].split("/")[1]);case 22:case"end":return t.stop()}},t,e)}))()},paginate:function(e){var t=this;return v(regeneratorRuntime.mark(function r(){var n,o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.numberOfRows();case 2:return n=r.sent,t.offset((e.page-1)*e.rowsPerPage).take(e.rowsPerPage),o={},r.next=7,t.get();case 7:return o.data=r.sent,o.paginator={page:e.page,rowsPerPage:e.rowsPerPage,rowsNumber:n},console.log("paginator",o),r.abrupt("return",o);case 11:case"end":return r.stop()}},r,t)}))()},insert:function(e,t){var r=this;return v(regeneratorRuntime.mark(function n(){var a,s,u,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!Array.isArray(e)){n.next=2;break}return n.abrupt("return",r.ArrayInsert(e,t));case 2:return n.next=4,(0,i.default)(r.httpPOST(e));case 4:if(a=n.sent,s=o(a,2),u=s[0],c=s[1],!u){n.next=10;break}throw new Error("Cannot insert data");case 10:return n.abrupt("return",c.data);case 11:case"end":return n.stop()}},n,r)}))()},update:function(e){var t=this;return v(regeneratorRuntime.mark(function r(){var n,a,s,u;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(e._id){r.next=2;break}throw new Error("Formio connector error. Cannot update a Model without _id key");case 2:if(!e._id.includes("_local")){r.next=4;break}throw new Error("Formio connector error. Cannot update a local document");case 4:return r.next=6,(0,i.default)(t.httpPUT(e));case 6:if(n=r.sent,a=o(n,2),s=a[0],u=a[1],!s){r.next=13;break}throw console.log(s),new Error("Cannot insert data");case 13:return r.abrupt("return",u.data);case 14:case"end":return r.stop()}},r,t)}))()},clear:function(){var e=this;return v(regeneratorRuntime.mark(function t(){var r,n,a,s,u,c=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).sure;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c&&!0===c){t.next=2;break}throw new Error('Clear() method will delete everything!, you must set the "sure" parameter "clear({sure:true})" to continue');case 2:return r=[],t.next=5,(0,i.default)(e.select("_id").pluck("_id"));case 5:if(n=t.sent,a=o(n,2),s=a[0],u=a[1],!s){t.next=12;break}throw console.log(s),new Error("Cannot get remote Model");case 12:return u.forEach(function(t){r.push(e.httpDelete(t))}),t.abrupt("return",l.default.all(r));case 14:case"end":return t.stop()}},t,e)}))()},remove:function(e){var t=this;return v(regeneratorRuntime.mark(function r(){var n,a,s,u;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,i.default)(t.httpDelete(e));case 2:if(n=r.sent,a=o(n,2),s=a[0],u=a[1],!s){r.next=9;break}throw console.log(s),new Error("FormioConnector: Could not delete "+e);case 9:return r.abrupt("return",u);case 10:case"end":return r.stop()}},r,t)}))()},find:function(e){var t=this;return v(regeneratorRuntime.mark(function r(){var a,s,u,c;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if("string"==typeof e){r.next=2;break}throw new Error('Formio connector find() method only accepts strings "'+(void 0===e?"undefined":n(e))+'" given "'+e+'"');case 2:return r.next=4,(0,i.default)(t.where("_id","=",e).first());case 4:if(a=r.sent,s=o(a,2),u=s[0],c=s[1],!u){r.next=11;break}throw console.log(u),new Error("Find() could not get remote data");case 11:return r.abrupt("return",c);case 12:case"end":return r.stop()}},r,t)}))()},getUrl:function(){var e=this,t=this&&this.baseUrl()?this.baseUrl():void 0,r=c.default.get(function(){return e.remoteConnection.path},void 0),n=c.default.get(function(){return e.remoteConnection.id},void 0);if(!c.default.get(function(){return e.remoteConnection.pullForm},void 0)&&r&&(r=n?r+"/submission/"+n:r+"/submission"),!t)throw new Error("Cannot get remote model. baseUrl not defined");return r?t+"/"+r:t},getHeaders:function(){var e={},t={};return"undefined"!=typeof localStorage&&(t=this.getToken()),(this.remoteConnection.token||""===this.remoteConnection.token)&&(t=this.remoteConnection.token),t?(e[this.getTokenType(t)]=t,e):e},getSpacer:function(e){return"&"===e.substr(e.length-1)?"":"&"},httpGET:function(){var e=this;return v(regeneratorRuntime.mark(function t(){var r,n,o,i,a,s,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.getUrl(),n=e.getHeaders(),o=e.getFilters(),i=e.getLimit(),a=e.getSkip(),s=e.getOrder(),u=e.getSelect(),r=r+""+i,r=o?r+e.getSpacer(r)+o:r,r=a?r+e.getSpacer(r)+a:r,r=s?r+e.getSpacer(r)+s:r,r=u?r+e.getSpacer(r)+u:r,t.next=15,h.default.isOnline();case 15:if(t.sent){t.next=18;break}throw new Error("Cannot make get request to "+r+".You are not online");case 18:return t.abrupt("return",l.default.get(r,{headers:n}));case 19:case"end":return t.stop()}},t,e)}))()},httpPOST:function(e){var t=this;return v(regeneratorRuntime.mark(function r(){var n,o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.getUrl(),o=t.getHeaders(),r.next=4,h.default.isOnline();case 4:if(r.sent){r.next=7;break}throw new Error("Cannot make request post to "+n+".You are not online");case 7:return r.abrupt("return",l.default.post(n,e,{headers:o}));case 8:case"end":return r.stop()}},r,t)}))()},httpPUT:function(e){var t=this;return v(regeneratorRuntime.mark(function r(){var n,o,i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,h.default.isOnline();case 2:if(n=r.sent,o=t.getUrl()+"/"+e._id,i=t.getHeaders(),n){r.next=7;break}throw new Error("Cannot make request post to "+o+".You are not online");case 7:return r.abrupt("return",l.default.put(o,e,{headers:i}));case 8:case"end":return r.stop()}},r,t)}))()},httpDelete:function(e){var t=this.getHeaders(),r=this.getUrl()+"/"+e;return l.default.delete(r,{headers:t})},getTokenType:function(e){return e.length>32?"x-jwt-token":"x-token"},getFilters:function(){var e=this.whereArray;if(e&&0!==e.length){var t="";return e.forEach(function(e){var r="",n=e[0],o=e[1],i=e[2];switch(o){case"=":t=t+n+"="+i+"&";break;case"!=":t=t+n+"__ne="+i+"&";break;case">":t=t+n+"__gt="+i+"&";break;case">=":t=t+n+"__gte="+i+"&";break;case"<":t=t+n+"__lt="+i+"&";break;case"<=":t=t+n+"__lte="+i+"&";break;case"in":r="",i.forEach(function(e,t,n){r=t===n.length-1?r+e:r+e+","}),t=t+n+"__in="+r+"&";break;case"nin":r="",i.forEach(function(e,t,n){r=t===n.length-1?r+e:r+e+","}),t=t+n+"__nin="+r+"&";break;case"exists":t=t+n+"__exists="+!0+"&";break;case"!exists":t=t+n+"__exists="+!1+"&";break;case"regex":t=t+n+"__regex="+i+"&"}}),t.substring(0,t.length-1)}},getLimit:function(){return this.limitNumber&&0!==this.limitNumber||(this.limitNumber=50),"?limit="+this.limitNumber},getSkip:function(){return this.offsetNumber||(this.offsetNumber=0),"skip="+this.offsetNumber},getOrder:function(){return"sort="+("DESC"===this.orderByArray[1]?"-":"")+this.orderByArray[0]},getSelect:function(){var e=this.selectArray;if(e=e.map(function(e){return e.split(" as ")[0]}))return"select="+e.join(",")}}})},function(e,t,r){"use strict";function n(e,t){return e.then(function(e){return[null,e]}).catch(function(e){return t&&Object.assign(e,t),[e,void 0]})}r.r(t),r.d(t,"to",function(){return n}),t.default=n},function(e,t,r){e.exports=function(){"use strict";var e="millisecond",t="second",r="minute",n="hour",o="day",i="week",a="month",s="quarter",u="year",c=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,l=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=function(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e},h={s:f,z:function(e){var t=-e.utcOffset(),r=Math.abs(t),n=Math.floor(r/60),o=r%60;return(t<=0?"+":"-")+f(n,2,"0")+":"+f(o,2,"0")},m:function(e,t){var r=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(r,a),o=t-n<0,i=e.clone().add(r+(o?-1:1),a);return Number(-(r+(t-n)/(o?n-i:i-n))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(c){return{M:a,y:u,w:i,d:o,h:n,m:r,s:t,ms:e,Q:s}[c]||String(c||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},d={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},p="en",v={};v[p]=d;var m=function(e){return e instanceof b},y=function(e,t,r){var n;if(!e)return null;if("string"==typeof e)v[e]&&(n=e),t&&(v[e]=t,n=e);else{var o=e.name;v[o]=e,n=o}return r||(p=n),n},g=function(e,t,r){if(m(e))return e.clone();var n=t?"string"==typeof t?{format:t,pl:r}:t:{};return n.date=e,new b(n)},w=h;w.l=y,w.i=m,w.w=function(e,t){return g(e,{locale:t.$L,utc:t.$u})};var b=function(){function f(e){this.$L=this.$L||y(e.locale,null,!0)||p,this.parse(e)}var h=f.prototype;return h.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(w.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(c);if(n)return r?new Date(Date.UTC(n[1],n[2]-1,n[3]||1,n[4]||0,n[5]||0,n[6]||0,n[7]||0)):new Date(n[1],n[2]-1,n[3]||1,n[4]||0,n[5]||0,n[6]||0,n[7]||0)}return new Date(t)}(e),this.init()},h.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},h.$utils=function(){return w},h.isValid=function(){return!("Invalid Date"===this.$d.toString())},h.isSame=function(e,t){var r=g(e);return this.startOf(t)<=r&&r<=this.endOf(t)},h.isAfter=function(e,t){return g(e)<this.startOf(t)},h.isBefore=function(e,t){return this.endOf(t)<g(e)},h.$g=function(e,t,r){return w.u(e)?this[t]:this.set(r,e)},h.year=function(e){return this.$g(e,"$y",u)},h.month=function(e){return this.$g(e,"$M",a)},h.day=function(e){return this.$g(e,"$W",o)},h.date=function(e){return this.$g(e,"$D","date")},h.hour=function(e){return this.$g(e,"$H",n)},h.minute=function(e){return this.$g(e,"$m",r)},h.second=function(e){return this.$g(e,"$s",t)},h.millisecond=function(t){return this.$g(t,"$ms",e)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(e,s){var c=this,l=!!w.u(s)||s,f=w.p(e),h=function(e,t){var r=w.w(c.$u?Date.UTC(c.$y,t,e):new Date(c.$y,t,e),c);return l?r:r.endOf(o)},d=function(e,t){return w.w(c.toDate()[e].apply(c.toDate(),(l?[0,0,0,0]:[23,59,59,999]).slice(t)),c)},p=this.$W,v=this.$M,m=this.$D,y="set"+(this.$u?"UTC":"");switch(f){case u:return l?h(1,0):h(31,11);case a:return l?h(1,v):h(0,v+1);case i:var g=this.$locale().weekStart||0,b=(p<g?p+7:p)-g;return h(l?m-b:m+(6-b),v);case o:case"date":return d(y+"Hours",0);case n:return d(y+"Minutes",1);case r:return d(y+"Seconds",2);case t:return d(y+"Milliseconds",3);default:return this.clone()}},h.endOf=function(e){return this.startOf(e,!1)},h.$set=function(i,s){var c,l=w.p(i),f="set"+(this.$u?"UTC":""),h=(c={},c[o]=f+"Date",c.date=f+"Date",c[a]=f+"Month",c[u]=f+"FullYear",c[n]=f+"Hours",c[r]=f+"Minutes",c[t]=f+"Seconds",c[e]=f+"Milliseconds",c)[l],d=l===o?this.$D+(s-this.$W):s;if(l===a||l===u){var p=this.clone().set("date",1);p.$d[h](d),p.init(),this.$d=p.set("date",Math.min(this.$D,p.daysInMonth())).toDate()}else h&&this.$d[h](d);return this.init(),this},h.set=function(e,t){return this.clone().$set(e,t)},h.get=function(e){return this[w.p(e)]()},h.add=function(e,s){var c,l=this;e=Number(e);var f=w.p(s),h=function(t){var r=new Date(l.$d);return r.setDate(r.getDate()+Math.round(t*e)),w.w(r,l)};if(f===a)return this.set(a,this.$M+e);if(f===u)return this.set(u,this.$y+e);if(f===o)return h(1);if(f===i)return h(7);var d=(c={},c[r]=6e4,c[n]=36e5,c[t]=1e3,c)[f]||1,p=this.valueOf()+e*d;return w.w(p,this)},h.subtract=function(e,t){return this.add(-1*e,t)},h.format=function(e){var t=this;if(!this.isValid())return"Invalid Date";var r=e||"YYYY-MM-DDTHH:mm:ssZ",n=w.z(this),o=this.$locale(),i=this.$H,a=this.$m,s=this.$M,u=o.weekdays,c=o.months,f=function(e,n,o,i){return e&&(e[n]||e(t,r))||o[n].substr(0,i)},h=function(e){return w.s(i%12||12,e,"0")},d=o.meridiem||function(e,t,r){var n=e<12?"AM":"PM";return r?n.toLowerCase():n},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:w.s(s+1,2,"0"),MMM:f(o.monthsShort,s,c,3),MMMM:c[s]||c(this,r),D:this.$D,DD:w.s(this.$D,2,"0"),d:this.$W,dd:f(o.weekdaysMin,this.$W,u,2),ddd:f(o.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:i,HH:w.s(i,2,"0"),h:h(1),hh:h(2),a:d(i,a,!0),A:d(i,a,!1),m:a,mm:w.s(a,2,"0"),s:this.$s,ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:n};return String(r.replace(l,function(e,t){return t||p[e]||n.replace(":","")}))},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(e,c,l){var f,h=w.p(c),d=g(e),p=6e4*(d.utcOffset()-this.utcOffset()),v=this-d,m=w.m(this,d);return m=(f={},f[u]=m/12,f[a]=m,f[s]=m/3,f[i]=(v-p)/6048e5,f[o]=(v-p)/864e5,f[n]=v/36e5,f[r]=v/6e4,f[t]=v/1e3,f)[h]||v,l?m:w.a(m)},h.daysInMonth=function(){return this.endOf(a).$D},h.$locale=function(){return v[this.$L]},h.locale=function(e,t){if(!e)return this.$L;var r=this.clone();return r.$L=y(e,t,!0),r},h.clone=function(){return w.w(this.toDate(),this)},h.toDate=function(){return new Date(this.$d)},h.toJSON=function(){return this.toISOString()},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},f}();return g.prototype=b.prototype,g.extend=function(e,t){return e(t,b,g),g},g.locale=y,g.isDayjs=m,g.unix=function(e){return g(1e3*e)},g.en=v[p],g.Ls=v,g}()},function(e,t,r){e.exports=function(){"use strict";return function(e,t){t.prototype.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)}}}()},function(e,t,r){"use strict";var n=r(14);function o(e){this.message=e}o.prototype=new Error,o.prototype.name="InvalidTokenError",e.exports=function(e,t){if("string"!=typeof e)throw new o("Invalid token specified");var r=!0===(t=t||{}).header?0:1;try{return JSON.parse(n(e.split(".")[r]))}catch(e){throw new o("Invalid token specified: "+e.message)}},e.exports.InvalidTokenError=o},function(e,t,r){var n=r(15);e.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(n(e).replace(/(.)/g,function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}(t)}catch(e){return n(t)}}},function(e,t){function r(e){this.message=e}r.prototype=new Error,r.prototype.name="InvalidCharacterError",e.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,o,i=0,a=0,s="";o=t.charAt(a++);~o&&(n=i%4?64*n+o:o,i++%4)?s+=String.fromCharCode(255&n>>(-2*i&6)):0)o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return s}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,i,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=(n=function(e,t){try{return e()}catch(e){return t}},o=function(e,t,r){var o=t;t.includes(" as ")&&(o=(t=t.split(" as "))[0]);var i=n(function(){return Array.isArray(t)&&t[1].trim()},void 0),a=o.replace(/\[/g,".").replace(/]/g,"").split(".").filter(Boolean).map(function(e){return e.trim()});return{label:i||o,value:a.every(function(t){return!(t&&void 0===(e=e[t]))})?e:r}},i=function e(t,r,n,o,i){t&&(o=o||"",t.forEach(function(t){if(t){var s=t.columns&&Array.isArray(t.columns),u=t.rows&&Array.isArray(t.rows),c=t.components&&Array.isArray(t.components),l=!1,f=t.key?o?o+"."+t.key:t.key:"";i&&(t.parent=a({},i),delete t.parent.components,delete t.parent.componentMap,delete t.parent.columns,delete t.parent.rows),(n||t.tree||!s&&!u&&!c)&&(l=r(t,f));var h=function(){return t.key&&!["panel","table","well","columns","fieldset","tabs","form"].includes(t.type)&&(["datagrid","container","editgrid"].includes(t.type)||t.tree)?f:t.key&&"form"===t.type?f+".data":o};l||(s?t.columns.forEach(function(o){return e(o.components,r,n,h(),i?t:null)}):u?t.rows.forEach(function(o){Array.isArray(o)&&o.forEach(function(o){return e(o.components,r,n,h(),i?t:null)})}):c&&e(t.components,r,n,h(),i?t:null))}}))},Object.freeze({cloneDeep:function(e){return JSON.parse(JSON.stringify(e))},get:n,orderBy:function(){},isEmpty:function(e){if(!e)return!0;if(Array.isArray(e)||"string"==typeof e)return!e.length;for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0},debounce:function(e,t){var r=void 0;return function(){var n=this,o=arguments;clearTimeout(r),r=setTimeout(function(){return e.apply(n,o)},t)}},getFromPath:o,deleteNulls:function e(t){var r=t,n=r instanceof Array;for(var o in r)null===r[o]?n?r.splice(o,1):delete r[o]:"object"===s(r[o])&&e(r[o]);return r},eachComponent:i,findComponents:function(e,t){var r=[];return i(e,function(e,n){(function(e,t){if("string"==typeof t)return e.key===t;var r=!1;return Object.keys(t).forEach(function(n){if(!(r=o(e,n).value===t[n]))return!1}),r})(e,t)&&(e.path=n,r.push(e))},!0),r},unixDate:function(){return Math.round(+new Date/1e3)}}));t.default=u},function(e,t,r){"use strict";var n=r(0),o=r(3),i=r(19),a=r(1);function s(e){var t=new i(e),r=o(i.prototype.request,t);return n.extend(r,i.prototype,t),n.extend(r,t),r}var u=s(a);u.Axios=i,u.create=function(e){return s(n.merge(a,e))},u.Cancel=r(7),u.CancelToken=r(34),u.isCancel=r(6),u.all=function(e){return Promise.all(e)},u.spread=r(35),e.exports=u,e.exports.default=u},function(e,t){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */e.exports=function(e){return null!=e&&(r(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,r){"use strict";var n=r(1),o=r(0),i=r(29),a=r(30);function s(e){this.defaults=e,this.interceptors={request:new i,response:new i}}s.prototype.request=function(e){"string"==typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),(e=o.merge(n,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[a,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)r=r.then(t.shift(),t.shift());return r},o.forEach(["delete","get","head","options"],function(e){s.prototype[e]=function(t,r){return this.request(o.merge(r||{},{method:e,url:t}))}}),o.forEach(["post","put","patch"],function(e){s.prototype[e]=function(t,r,n){return this.request(o.merge(n||{},{method:e,url:t,data:r}))}}),e.exports=s},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=s(h);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t)),1!==c.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t){n.forEach(e,function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])})}},function(e,t,r){"use strict";var n=r(5);e.exports=function(e,t,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e}},function(e,t,r){"use strict";var n=r(0);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(n.isURLSearchParams(t))i=t.toString();else{var a=[];n.forEach(t,function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))}))}),i=a.join("&")}return i&&(e+=(-1===e.indexOf("?")?"?":"&")+i),e}},function(e,t,r){"use strict";var n=r(0),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,i,a={};return e?(n.forEach(e.split("\n"),function(e){if(i=e.indexOf(":"),t=n.trim(e.substr(0,i)).toLowerCase(),r=n.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([r]):a[t]?a[t]+", "+r:r}}),a):a}},function(e,t,r){"use strict";var n=r(0);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},function(e,t,r){"use strict";function n(){this.message="String contains an invalid character"}n.prototype=new Error,n.prototype.code=5,n.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,r,o=String(e),i="",a=0,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.charAt(0|a)||(s="=",a%1);i+=s.charAt(63&t>>8-a%1*8)){if((r=o.charCodeAt(a+=.75))>255)throw new n;t=t<<8|r}return i}},function(e,t,r){"use strict";var n=r(0);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(o)&&s.push("path="+o),n.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){"use strict";var n=r(0);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=o},function(e,t,r){"use strict";var n=r(0),o=r(31),i=r(6),a=r(1),s=r(32),u=r(33);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.baseURL&&!s(e.url)&&(e.url=u(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return c(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(t){return i(t)||(c(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t,r){return n.forEach(r,function(r){e=r(e,t)}),e}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";var n=r(7);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var r=this;e(function(e){r.reason||(r.reason=new n(e),t(r.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o(function(t){e=t}),cancel:e}},e.exports=o},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){"use strict";(function(e){var r,n,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==(void 0===e?"undefined":a(e))&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=13)}([function(e,t,r){var n=r(2),o=r(17),i=r(6),a=r(18),s=r(1),u=r(3),c=r(8),l=r(7),f=Array.prototype.concat;function h(){var e=f.apply([],arguments).filter(u);return 0===e.length?void 0:e}function d(e){if(!s(e))return e;var t=e.methods,r=e.properties,n=e.props,o=e.initializers,i=e.init,u=e.composers,f=e.deepProperties,d=e.deepProps,p=e.propertyDescriptors,v=e.staticProperties,m=e.statics,y=e.staticDeepProperties,g=e.deepStatics,w=e.configuration,b=e.conf,x=e.deepConfiguration,_=e.deepConf,E=s(n)||s(r)?l({},n,r):void 0,O=s(d)?c({},d):void 0;O=s(f)?c(O,f):O;var k=s(m)||s(v)?l({},m,v):void 0,S=s(g)?c({},g):void 0;S=s(y)?c(S,y):S;var A=e.staticPropertyDescriptors;a(e.name)&&(A=l({},A||{},{name:{value:e.name}}));var P=s(b)||s(w)?l({},b,w):void 0,C=s(_)?c({},_):void 0;C=s(x)?c(C,x):C;var R=h(i,o),T=h(u),M={};return t&&(M.methods=t),E&&(M.properties=E),R&&(M.initializers=R),T&&(M.composers=T),O&&(M.deepProperties=O),k&&(M.staticProperties=k),S&&(M.staticDeepProperties=S),p&&(M.propertyDescriptors=p),A&&(M.staticPropertyDescriptors=A),P&&(M.configuration=P),C&&(M.deepConfiguration=C),M}function p(){for(var e=arguments.length,t=[],r=0;r<e;r+=1){var o=arguments[r];t.push(i(o)?o:d(o))}return n.apply(this||v,t)}var v=o.compose({staticProperties:{create:function(){return this.apply(this,arguments)},compose:p}}),m=o.compose.staticProperties;for(var y in m)p[y]=m[y].bind(v);p.compose=p.bind(),e.exports=p},function(e,t){e.exports=function(e){var t=void 0===e?"undefined":a(e);return Boolean(e)&&("object"===t||"function"===t)}},function(e,t,r){var n=r(5),o=r(3),i=r(1),a=r(6),s=r(15),u=r(7),c=r(8),l=Array.prototype.slice;function f(e,t){var r=function e(t){var r=e.compose||{},n={__proto__:r.methods};if(c(n,r.deepProperties),u(n,r.properties),Object.defineProperties(n,r.propertyDescriptors||{}),!r.initializers||0===r.initializers.length)return n;void 0===t&&(t={});for(var i=r.initializers,a=i.length,s=0;s<a;s+=1){var f=i[s];if(o(f)){var h=f.call(n,t,{instance:n,stamp:e,args:l.apply(arguments)});n=void 0===h?n:h}}return n};e.staticDeepProperties&&c(r,e.staticDeepProperties),e.staticProperties&&u(r,e.staticProperties),e.staticPropertyDescriptors&&Object.defineProperties(r,e.staticPropertyDescriptors);var n=o(r.compose)?r.compose:t;return u(r.compose=function(){return n.apply(this,arguments)},e),r}function h(e,t,r){if(n(t)){var i=t.length,a=e[r]||[];e[r]=a;for(var s=0;s<i;s+=1){var u=t[s];o(u)&&a.indexOf(u)<0&&a.push(u)}}}function d(e,t,r,n){i(t[r])&&(i(e[r])||(e[r]={}),n(e[r],t[r]))}function p(e,t,r){d(e,t,r,c)}function v(e,t,r){d(e,t,r,u)}function m(e,t){var r=t&&t.compose||t;v(e,r,"methods"),v(e,r,"properties"),p(e,r,"deepProperties"),v(e,r,"propertyDescriptors"),v(e,r,"staticProperties"),p(e,r,"staticDeepProperties"),v(e,r,"staticPropertyDescriptors"),v(e,r,"configuration"),p(e,r,"deepConfiguration"),h(e,r.initializers,"initializers"),h(e,r.composers,"composers")}e.exports=function e(){var t={},r=[];s(this)&&(m(t,this),r.push(this));for(var o=0;o<arguments.length;o++){var i=arguments[o];s(i)&&(m(t,i),r.push(i))}var u=f(t,e),c=t.composers;if(n(c)&&c.length>0)for(var l=0;l<c.length;l+=1){var h=(0,c[l])({stamp:u,composables:r});u=a(h)?h:u}return u}},function(e,t){e.exports=function(e){return"function"==typeof e}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==("undefined"==typeof window?"undefined":a(window))&&(r=window)}e.exports=r},function(e,t){e.exports=Array.isArray},function(e,t,r){var n=r(3);e.exports=function(e){return n(e)&&n(e.compose)}},function(e,t){e.exports=Object.assign},function(e,t,r){var n=r(16),o=r(1),i=r(5);function a(e,t){if(void 0===t)return e;if(i(t))return(i(e)?e:[]).concat(t);if(!n(t))return t;for(var r=o(e)?e:{},s=Object.keys(t),u=0;u<s.length;u+=1){var c=s[u],l=t[c];if(void 0!==l){var f=r[c],h=n(f)||i(l)?f:{};r[c]=a(h,l)}}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++)e=a(e,arguments[t]);return e}},function(e,t,r){(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(0)),o=i(r(19));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.default)({properties:{name:"baseModel",config:{remote:{path:void 0,token:void 0,pullForm:!1},local:{connector:"loki"},merge:{connector:"formio-loki"}}},methods:{getModelName:function(){return this.name},getFluentConfig:function(){var t=void 0;return"undefined"!=typeof window&&window&&window._FLUENT_?t=window._FLUENT_:e&&e._FLUENT_&&(t=e._FLUENT_),t},getConnector:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Array.isArray(e)?this.getConnectorFromArray(e,t,r):e instanceof Object?e:void 0},getConnectorFromArray:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(1===e.length)return e[0];if(this.config&&this.config[t]&&this.config[t].connector){var o=e.find(function(e){return e.name===r.config[t].connector});if(o instanceof Object)return o}if(n){var i=e.find(function(e){return e.name===n});if(i instanceof Object)return i}var a=e.find(function(e){return e.default});return a instanceof Object?a:void 0},remote:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.token,r=void 0===t?void 0:t,n=e.pullForm,o=void 0===n?void 0:n,i=e.connectorName,a=void 0===i?void 0:i,s=e.path,u=void 0===s?void 0:s,c=this.getFluentConfig(),l=c&&c.connectors&&c.connectors.remote;if(!l)throw new Error("No remote connector was defined. Please define it using Fluent.config()");var f=this.getConnector(l,"remote",a||!1);if(this.config.remote.token=r||this.config.remote.token,this.config.remote.path=u||this.config.remote.path,o&&(this.config.remote.pullForm=o||this.config.remote.pullForm),f)return f.connector({remoteConnection:this.config.remote,connector:f});throw new Error("No default remote connector found. Please assign one as your default in Fluent.config")},local:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).connectorName,t=void 0===e?void 0:e,r=this.getFluentConfig(),n=r&&r.connectors&&r.connectors.local;if(!n)throw new Error("No local connector was defined. Please define it using Fluent.config()");var o=this.getConnector(n,"local",t||!1);if(o)return o.connector({name:this.name,connector:o});throw new Error("No default local connector found. Please assign one as your default in Fluent.config")},merged:function(){var e=this.local(),t=this.remote(),r=this.getFluentConfig(),n=r&&r.connectors&&r.connectors.merge;if(!n)throw new Error("No merge connector was defined. Please define it using Fluent.config()");var o=this.getConnector(n,"merge");if(o)return o.connector({local:e,remote:t,name:this.name,connector:o});throw new Error("No default merge connector found. Please assign one as your default in Fluent.config")}}}).compose(o.default)}).call(this,r(4))},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=a(r(0)),i=a(r(11));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}t.default=(0,o.default)({init:function(e){if(!Array.isArray(e))throw new Error("Collect method only accepts arrays of data");this.data=e},properties:{data:[]},methods:{get:function(){return this.data},all:function(){return this.get()},avg:function(e){return this.average(e)},average:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[].concat(s(this.data)),r=t.reduce(function(t,r){var n=r;if(r instanceof Object){var o=i.default.getFromPath(r,e,void 0);void 0!==o&&o.value&&(n=o.value)}return t+n},0);try{return r/t.length}catch(e){throw new Error('Division between "'+r+'" and "'+t.length+'" is not valid.')}},chunkApply:function(e,t){var r,n=this;return(r=regeneratorRuntime.mark(function r(){var o,i,a,s;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==t){r.next=2;break}throw new Error("Callback function not defined.");case 2:return o=n.data.length,i=0,n.chunks(e),a=function(r,n){return r.then(function(){return Promise.all(n.map(function(e){return t(e)}))}).then(function(){i=i+e>o?o:i+e,console.log("Processed "+i+"/"+o+" elements...")})},console.log("Processed "+i+"/"+o+" elements..."),s=n.data.reduce(a,Promise.resolve()),r.abrupt("return",s);case 9:case"end":return r.stop()}},r,n)}),function(){var e=r.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});t(s)}("next")})})()},chunks:function(e){for(var t=[].concat(s(this.data)),r=[];t.length;)r.push(t.splice(0,e));return this.data=r,this},collapse:function(){var e=[].concat(s(this.data)),t=[];return e.forEach(function(e){Array.isArray(e)?e.forEach(function(e){t.push(e)}):t.push(e)}),this.data=t,this},unChunk:function(){return this.collapse()},combine:function(e){var t=[].concat(s(this.data)),r=void 0;return t.forEach(function(t,o){t instanceof Object?(r||(r=[]),r[o]=n({},t,{_value:e[o]})):(r||(r={}),r[t]=e[o])}),this.data=r,this},concat:function(e){return this.data=[].concat(s(this.data),s(e)),this},contains:function(){var e=void 0,t=void 0,r=void 0;return 1===arguments.length?(this.isFunction(arguments.length<=0?void 0:arguments[0])&&(r=arguments.length<=0?void 0:arguments[0]),e=arguments.length<=0?void 0:arguments[0]):(e=arguments.length<=1?void 0:arguments[1],t=arguments.length<=0?void 0:arguments[0]),[].concat(s(this.data)).some(function(n,o){if(r)return!!r(n,o);var a=n;if(n instanceof Object){var s=i.default.getFromPath(n,t,void 0);s.value&&(a=s.value)}return a===e})},duplicatesBy:function(e){var t=[].concat(s(this.data)),r=[];return t.reduce(function(t,n){var o=e.reduce(function(e,t){return e+i.default.getFromPath(n,t,"").value},"");return t.hasOwnProperty(o)?r.push(n):t[o]=!0,t},{}),this.data=r,this},count:function(){return this.data.length},isFunction:function(e){return e&&"[object Function]"==={}.toString.call(e)}}})},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=(n=function(e,t){try{return e()}catch(e){return t}},Object.freeze({get:n,getFromPath:function(e,t,r){var o=t;t.includes(" as ")&&(o=(t=t.split(" as "))[0]);var i=n(function(){return Array.isArray(t)&&t[1].trim()},void 0),a=o.replace(/\[/g,".").replace(/]/g,"").split(".").filter(Boolean).map(function(e){return e.trim()});return{label:i||o,value:a.every(function(t){return!(t&&void 0===(e=e[t]))})?e:r}}}));t.default=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==a(Symbol.iterator)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":a(e)},o=u(r(0)),i=u(r(11)),s=u(r(10));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function l(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}t.default=(0,o.default)({init:function(e){var t=e.name,r=e.remoteConnection,n=e.connector;if(!t&&!r)throw new Error("Model must have a name or path");if(!n)throw new Error("Model must have a connector. Please register one using Fluent.config");this.name=t||this.name,this.remoteConnection=r||this.remoteConnection,this.connector=n||this.connector,this.chainReference=[],this.whereArray=[],this.orWhereArray=[],this.selectArray=[],this.orderByArray=[],this.limitNumber=void 0,this.offsetNumber=void 0,this.populate=[],this.chunk=null,this.pullSize=null,this.ownerId=void 0,this.paginator=void 0,this.rawQuery=void 0},properties:{operators:["=","<",">","<=",">=","<>","!=","in","nin","like","regexp","startsWith","endsWith","contains"]},methods:{get:function(){throw new Error("get() method not implemented")},all:function(){throw new Error("all() method not implemented")},find:function(e){throw new Error("find() method not implemented")},findOne:function(){throw new Error("findOne() method not implemented")},remove:function(){throw new Error("remove() method not implemented")},softDelete:function(){throw new Error("softDelete() method not implemented")},insert:function(){throw new Error("insert() method not implemented")},update:function(){throw new Error("update() method not implemented")},clear:function(){throw new Error("clear() method not implemented")},updateOrCreate:function(){throw new Error("updateOrCreate() method not implemented")},findAndRemove:function(){throw new Error("findAndRemove() method not implemented")},paginate:function(){throw new Error("paginate() method not implemented")},tableView:function(){throw new Error("tableView() method not implemented")},raw:function(){throw new Error("raw() method not implemented")},owner:function(e){return this.chainReference.push({method:"owner",args:e}),this.ownerId=e,this},own:function(e){return this.owner(e)},first:function(){var e=this;return l(regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get();case 2:return r=t.sent,t.abrupt("return",i.default.get(function(){return r[0]},[]));case 4:case"end":return t.stop()}},t,e)}))()},collect:function(){var e=this;return l(regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get();case 2:if(r=t.sent,Array.isArray(r)){t.next=5;break}throw new Error("Collect method only accepts arrays of data");case 5:return t.abrupt("return",(0,s.default)(r));case 6:case"end":return t.stop()}},t,e)}))()},select:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t=this.prepareInput(t),this.chainReference.push({method:"select",args:t}),this.selectArray=this.selectArray.concat(t).filter(function(e,t,r){return r.indexOf(e)===t}),this},jsApplySelect:function(e){var t=this,r=Array.isArray(e)?[].concat(c(e)):[e];return this.selectArray.length>0&&(r=r.map(function(e){var r={};return t.selectArray.forEach(function(t){var o=i.default.getFromPath(e,t,void 0),a=i.default.get(function(){return o.value},void 0);void 0!==a&&("object"===(void 0===a?"undefined":n(a))&&a.hasOwnProperty("data")&&a.data.hasOwnProperty("name")?r[o.label]=a.data.name:r[o.label]=a)}),r})),r},offset:function(e){return this.chainReference.push({method:"offset",args:e}),this.offsetNumber=e,this},skip:function(e){return this.offset(e)},where:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.chainReference.push({method:"where",args:r}),this.whereArray=[],(r=Array.isArray(r[0])?r:[r]).forEach(function(t){if(3!==t.length)throw new Error('There where clouse is not properly formatted, expecting: ["attribute", "operator","value"] but got "'+JSON.stringify(t)+'" ');e.whereArray.push(t)}),this},andWhere:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.chainReference.push({method:"andWhere",args:r}),(r=Array.isArray(r[0])?r:[r]).forEach(function(t){if(3!==t.length)throw new Error('There where clouse is not properly formatted, expecting: ["attribute", "operator","value"] but got "'+JSON.stringify(t)+'" ');e.whereArray.push(t)}),this},orWhere:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.chainReference.push({method:"orWhere",args:r}),(r=Array.isArray(r[0])?r:[r]).forEach(function(t){if(3!==t.length)throw new Error('There orWhere clouse is not properly formatted, expecting: ["attribute", "operator","value"] but got "'+JSON.stringify(t)+'" ');e.orWhereArray.push(t)}),this},limit:function(e){return this.chainReference.push({method:"limit",args:e}),this.limitNumber=e,this},take:function(e){return this.limit(e)},pluck:function(e){var t=this;return l(regeneratorRuntime.mark(function r(){var n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t.chainReference.push({method:"pluck",args:e}),r.next=3,t.get();case 3:return n=(n=r.sent).map(function(t){var r=i.default.getFromPath(t,e,void 0);if(void 0!==r.value)return r.value}),r.abrupt("return",n);case 6:case"end":return r.stop()}},r,t)}))()},orderBy:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.chainReference.push({method:"orderBy",args:t}),this.orderByArray=t,this},jsApplyOrderBy:function(e){var t=[].concat(c(e));if(0===this.orderByArray.length)return t;var r=this.orderByArray[0];if(this.selectArray.length>0&&(r.includes(".")||r.includes("[")))throw new Error('Cannot orderBy nested attribute "'+r+'" when using Select. You must rename the attribute');var n=this.orderByArray[1],o=this.orderByArray[2];return o||(o="string"),t.sort(function(e,t){var a=i.default.getFromPath(e,r,void 0).value,s=i.default.getFromPath(t,r,void 0).value;if(void 0===a||void 0===s)throw new Error('Cannot order by property "'+r+'" not all values have this property');return o.includes("string")||o.includes("number")?"asc"===n?a>s?1:a<s?-1:0:a>s?-1:a<s?1:0:o.includes("date")?"asc"===n?new Date(a)-new Date(s):new Date(s)-new Date(a):void 0})},prepareInput:function(e){var t=[];return e.forEach(function(e){var r=Array.isArray(e)?e:e.split(",");r=r.map(function(e){return e.trim()}),t=t.concat(r)}),t.filter(function(e,t,r){return r.indexOf(e)===t}),t},ArrayInsert:function(e,t){var r=this;return l(regeneratorRuntime.mark(function n(){var o,i,a,s,u,c,l,f;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:o=1,i=e.length,a=!0,s=!1,u=void 0,n.prev=5,c=e[Symbol.iterator]();case 7:if(a=(l=c.next()).done){n.next=26;break}return f=l.value,t&&t.showProgress&&console.log("Inserting "+o+" of "+i),n.prev=10,n.next=13,r.insert(f,t);case 13:n.sent,t&&t.showProgress&&console.log("Element "+o+" inserted"),o++,n.next=23;break;case 18:n.prev=18,n.t0=n.catch(10),console.log("ERROR - Element "+o+" - "+JSON.stringify(f)+" could not be inserted"),console.log(n.t0),o++;case 23:a=!0,n.next=7;break;case 26:n.next=32;break;case 28:n.prev=28,n.t1=n.catch(5),s=!0,u=n.t1;case 32:n.prev=32,n.prev=33,!a&&c.return&&c.return();case 35:if(n.prev=35,!s){n.next=38;break}throw u;case 38:return n.finish(35);case 39:return n.finish(32);case 40:case"end":return n.stop()}},n,r,[[5,28,32,40],[10,18],[33,,35,39]])}))()}}})},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Event=t.MergeConnector=t.Interface=t.Fluent=t.Model=void 0;var n=u(r(14)),o=u(r(9)),i=u(r(12)),a=u(r(20)),s=u(r(21));function u(e){return e&&e.__esModule?e:{default:e}}t.Model=o.default,t.Fluent=n.default,t.Interface=i.default,t.MergeConnector=a.default,t.Event=s.default},function(e,t,r){(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=s(r(0)),i=s(r(9)),a=s(r(10));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var c=(0,o.default)({init:function(){this.registerGlobalVariable()},properties:{},methods:{model:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.registerModel(t),i.default.compose.apply(i.default,u(t))},extend:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.registerModel(t),i.default.compose.apply(i.default,u(t))},compose:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.registerModel(t),i.default.compose.apply(i.default,u(t))},collect:function(e){return(0,a.default)(e)},registerGlobalVariable:function(){"undefined"!=typeof window&&window&&!window._FLUENT_&&(window._FLUENT_={connectors:{},models:{}}),e&&!e._FLUENT_&&(e._FLUENT_={connectors:{},models:{}})},registerModel:function(t){var r=t&&t[0]&&t[0].properties&&t[0].properties.name?t[0].properties.name:void 0;if(r&&"baseModel"!==r){if("string"!=typeof r)throw new Error("You must assign a name to your Model when using Fluent.compose");"undefined"==typeof window?e._FLUENT_.models[r]=!0:window._FLUENT_.models[r]=!0}},config:function(t){var r=t.REMOTE_CONNECTORS,n=void 0===r?void 0:r,o=t.LOCAL_CONNECTORS,i=void 0===o?void 0:o,a=t.MERGE_CONNECTORS,s=void 0===a?void 0:a;"undefined"!=typeof window&&window&&(window._FLUENT_.connectors={local:i,remote:n,merge:s}),void 0!==e&&e&&(e._FLUENT_.connectors={local:i,remote:n,merge:s})},getConfig:function(){return"undefined"!=typeof window&&window?window._FLUENT_:void 0!==e&&e?e._FLUENT_:void 0},registerConnector:function(t){var r=t.type,o=t.connector;if(!r||!o)throw new Error("type and connector must be defined");if(!["local","remote","merge"].includes(r))throw new Error("type must be either local, remote or merge");var i="undefined"!=typeof window&&window?window._FLUENT_:e._FLUENT_,a=i.connectors.hasOwnProperty(r)?i.connectors[r]:[];if(0===a.length)return o=n({},o,{default:!0}),a.push(o),void(i.connectors[r]=a);a.find(function(e){return e.name===o.name})?console.log("A "+r+" connector with the name '"+o.name+"' already exists"):(a.push(o),i.connectors[r]=a)},deregisterConnector:function(t){var r=t.type,n=t.name;if(!r||!n)throw new Error("type and name must be defined");if(!["local","remote","merge"].includes(r))throw new Error("type must be either local, remote or merge");var o="undefined"!=typeof window&&window?window._FLUENT_:e._FLUENT_,i=o.connectors.hasOwnProperty(r)?o.connectors[r]:[];if(0!==i.length){var a=i.filter(function(e){return e.name!==n});o.connectors[r]=a}}}})();t.default=c}).call(this,r(4))},function(e,t,r){e.exports=r(1)},function(e,t){e.exports=function(e){return Boolean(e)&&"object"==(void 0===e?"undefined":a(e))&&Object.getPrototypeOf(e)===Object.prototype}},function(e,t,r){var n=r(2);function o(e){return function(t){var r={};return r[e]=t,this&&this.compose?this.compose(r):n(r)}}var i=o("properties"),a=o("staticProperties"),s=o("configuration"),u=o("deepProperties"),c=o("staticDeepProperties"),l=o("deepConfiguration"),f=o("initializers");e.exports=n({staticProperties:{methods:o("methods"),props:i,properties:i,statics:a,staticProperties:a,conf:s,configuration:s,deepProps:u,deepProperties:u,deepStatics:c,staticDeepProperties:c,deepConf:l,deepConfiguration:l,init:f,initializers:f,composers:o("composers"),propertyDescriptors:o("propertyDescriptors"),staticPropertyDescriptors:o("staticPropertyDescriptors")}})},function(e,t){e.exports=function(e){return"string"==typeof e}},function(e,t,r){var n=r(2),o=new WeakMap,i=function(e,t){function r(){var t=o.get(this);return e.apply(t,arguments)}return Object.defineProperty(r,"name",{value:t,configurable:!0}),r};function a(e,t){var r=t.stamp.compose,n=r.deepConfiguration.Privatize.methods,a={};o.set(a,this);var s=r.methods;if(!s)return a;for(var u=Object.keys(s),c=0;c<u.length;c++){var l=u[c];n.indexOf(l)<0&&(a[l]=i(s[l],l))}if("undefined"!=typeof Symbol){var f=Symbol.for("stamp");s[f]&&(a[f]=t.stamp)}return a}var s=n({initializers:[a],deepConfiguration:{Privatize:{methods:[]}},staticProperties:{privatizeMethods:function(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];"string"==typeof r&&r.length>0&&e.push(r)}return(this&&this.compose?this:s).compose({deepConfiguration:{Privatize:{methods:e}}})}},composers:[function(e){var t=e.stamp.compose.initializers;t.splice(t.indexOf(a),1),t.push(a)}]});e.exports=s},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=(n=r(12))&&n.__esModule?n:{default:n};t.default=o.default.compose({properties:{localFx:void 0,remoteFx:void 0},init:function(e){this.connectors=e},methods:{get:function(){var e,t=this;return(e=regeneratorRuntime.mark(function e(){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.prepareMergedFunctions(),e.next=3,t.localFx.get();case 3:return r=e.sent,e.next=6,t.remoteFx.get();case 6:return n=e.sent,e.abrupt("return",r.concat(n));case 8:case"end":return e.stop()}},e,t)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})})()},prepareMergedFunctions:function(){var e=this;this.localFx=this.connectors.local,this.remoteFx=this.connectors.remote,this.chainReference.forEach(function(t){var r=t.method,n=t.args;e.localFx=e.localFx[r](n),e.remoteFx=e.remoteFx[r](n)})}}})},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.freeze({emit:function(e){var t=e.name,r=e.data,n=e.text;if(!t)throw new Error("Event must have a name.");if(!r)throw new Error("Event must have data.");if(!n)throw new Error("Event must have a text.");var o=function(e,t){var r=document.createEvent("CustomEvent");return t=t||{bubbles:!1,cancelable:!1,detail:void 0},r.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r}(t,{detail:{data:r,text:n}});window.dispatchEvent(o)},listen:function(e){var t=e.name,r=e.callback;if(!t)throw new Error("Listener must have a name.");if(!r)throw new Error("Listener must have a callback.");window.addEventListener(t,r)},remove:function(e){var t=e.name,r=e.callback;if(!t)throw new Error("Listener must have a name to detach");if(!r)throw new Error("Listener must have a callback to detach");window.removeEventListener(t,r)}});t.default=n}])},"object"==a(t)&&"object"==a(e)?e.exports=i():(n=[],void 0===(o="function"==typeof(r=i)?r.apply(t,n):r)||(e.exports=o))}).call(this,r(37)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(39)),o=i(r(2));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(){var e="undefined"==typeof window||!window||!window.navigator||window.navigator.onLine;return Object.freeze({isOnline:function(){return new Promise(function(e,t){o.default.get("https://yesno.wtf/api").then(function(t){e(!0)}).catch(function(t){e(!1)})})},initEventListeners:function(){n.default.listen({name:"online",callback:function(){console.log("App is now online"),e||(e=!0,n.default.emit({name:"FAST:CONNECTION:ONLINE",data:e,text:"Application is now online"}))}}),n.default.listen({name:"offline",callback:function(){console.log("App is now offline"),e&&(e=!1,n.default.emit({name:"FAST:CONNECTION:OFFLINE",data:e,text:"Application is now offline"}))}})}})}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.freeze({emit:function(e){var t=e.name,r=e.data,n=e.text;if(!t)throw new Error("Event must have a name.");if(!r)throw new Error("Event must have data.");if(!n)throw new Error("Event must have a text.");var o=function(e,t){var r=document.createEvent("CustomEvent");return t=t||{bubbles:!1,cancelable:!1,detail:void 0},r.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r}(t,{detail:{data:r,text:n}});window.dispatchEvent(o)},listen:function(e){var t=e.name,r=e.callback;if(!t)throw new Error("Listener must have a name.");if(!r)throw new Error("Listener must have a callback.");window.addEventListener(t,r)},remove:function(e){var t=e.name,r=e.callback;if(!t)throw new Error("Listener must have a name to detach");if(!r)throw new Error("Listener must have a callback to detach");window.removeEventListener(t,r)}});t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.name="AuthenticationError",r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Error),t}();t.default=n}])},function(e,t,r){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=8)}([function(e,t,r){"use strict";var n=r(3),o=r(13),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function s(e){return null!==e&&"object"==typeof e}function u(e){return"[object Function]"===i.call(e)}function c(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),a(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:o,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:u,isStream:function(e){return s(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]=r}for(var n=0,o=arguments.length;n<o;n++)c(arguments[n],r);return t},extend:function(e,t,r){return c(t,function(t,o){e[o]=r&&"function"==typeof t?n(t,r):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,r){"use strict";(function(t){var n=r(0),o=r(16),i={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,u={adapter:("undefined"!=typeof XMLHttpRequest?s=r(4):void 0!==t&&(s=r(4)),s),transformRequest:[function(e,t){return o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],function(e){u.headers[e]={}}),n.forEach(["post","put","patch"],function(e){u.headers[e]=n.merge(i)}),e.exports=u}).call(this,r(15))},function(e,t,r){e.exports=r(12)},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){"use strict";var n=r(0),o=r(17),i=r(19),a=r(20),s=r(21),u=r(5),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||r(22);e.exports=function(e){return new Promise(function(t,l){var f=e.data,h=e.headers;n.isFormData(f)&&delete h["Content-Type"];var d=new XMLHttpRequest,p="onreadystatechange",v=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||s(e.url)||(d=new window.XDomainRequest,p="onload",v=!0,d.onprogress=function(){},d.ontimeout=function(){}),e.auth){var m=e.auth.username||"",y=e.auth.password||"";h.Authorization="Basic "+c(m+":"+y)}if(d.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d[p]=function(){if(d&&(4===d.readyState||v)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?a(d.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:r,config:e,request:d};o(t,l,n),d=null}},d.onerror=function(){l(u("Network Error",e,null,d)),d=null},d.ontimeout=function(){l(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",d)),d=null},n.isStandardBrowserEnv()){var g=r(23),w=(e.withCredentials||s(e.url))&&e.xsrfCookieName?g.read(e.xsrfCookieName):void 0;w&&(h[e.xsrfHeaderName]=w)}if("setRequestHeader"in d&&n.forEach(h,function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete h[t]:d.setRequestHeader(t,e)}),e.withCredentials&&(d.withCredentials=!0),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){d&&(d.abort(),l(e),d=null)}),void 0===f&&(f=null),d.send(f)})}},function(e,t,r){"use strict";var n=r(18);e.exports=function(e,t,r,o,i){var a=new Error(e);return n(a,t,r,o,i)}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(9),i=(n=o)&&n.__esModule?n:{default:n};t.default=i.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=p(r(10)),a=p(r(11)),s=p(r(2)),u=r(31),c=p(r(33)),l=p(r(35)),f=p(r(36)),h=p(r(37)),d=p(r(40));function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function y(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}l.default.extend(f.default),t.default=u.Interface.compose({methods:{getToken:function(){if("undefined"!=typeof localStorage){var e=localStorage.getItem("formioToken");if(!e||"x-token"===this.getTokenType(e))return e;var t=(0,h.default)(e),r=l.default.unix(t.exp);if((0,l.default)().isSameOrAfter(r))throw u.Event.emit({name:"GOAT:SESSION:EXPIRED",data:r,text:"Session expired"}),new Error("Token has expired.");return e}},baseUrl:function(){var e=this.connector,t=e.baseUrl,r=e.name;if(!t)throw new Error('You did not provide a baseUrl for the "'+r+'" connector');return t.replace(/\/+$/,"")},get:function(){var e=this;return y(regeneratorRuntime.mark(function t(){var r,n,a,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.ownerId&&e.andWhere("owner","=",e.ownerId),r=void 0,n=void 0,t.next=5,(0,i.default)(e.httpGET());case 5:if(a=t.sent,s=o(a,2),r=s[0],n=s[1],!r){t.next=14;break}if(440!==r.response.status){t.next=13;break}throw u.Event.emit({name:"GOAT:SESSION:EXPIRED",data:r,text:"Session expired"}),new Error("Session has expired.");case 13:throw new Error("Error while getting submissions");case 14:if(!(n&&n.data&&n.data.hasOwnProperty("meta")&&e.selectArray.length>0)){t.next=17;break}return n.data.data=e.jsApplySelect(n.data.data),t.abrupt("return",[n.data]);case 17:return t.abrupt("return",e.jsApplySelect(n&&n.data));case 18:case"end":return t.stop()}},t,e)}))()},all:function(){var e=this;return y(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.get());case 1:case"end":return t.stop()}},t,e)}))()},paginate:function(e){var t=this;return y(regeneratorRuntime.mark(function r(){var n,o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=2;break}throw new Error("Paginator cannot be empty");case 2:return t.paginator=e,n={},r.next=6,t.get();case 6:if((o=r.sent)[0]){r.next=9;break}throw new Error("The query was not paginated");case 9:return n.data=o[0].data,n.paginator={page:o[0].meta.currentPage,rowsPerPage:o[0].meta.itemsPerPage,rowsNumber:o[0].meta.totalItemCount},r.abrupt("return",n);case 12:case"end":return r.stop()}},r,t)}))()},raw:function(e){if(!e)throw new Error("No query was received");return this.rawQuery=e,this},insert:function(e){var t=this;return y(regeneratorRuntime.mark(function r(){var s,u,c,l,f,h,d,p,v;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(Array.isArray(e)){r.next=3;break}return r.next=3,t.validate(e);case 3:return s=t&&t.baseUrl()?t.baseUrl():void 0,u=a.default.get(function(){return t.remoteConnection.path},void 0),r.next=7,t.getForm(s,u);case 7:return c=r.sent,l=t.getHeaders(),f=n({data:e,form:c._id},l),r.next=12,(0,i.default)(t.httpPOST(f));case 12:if(h=r.sent,d=o(h,2),p=d[0],v=d[1],!p){r.next=18;break}throw new Error("Cannot insert data");case 18:return r.abrupt("return",v.data);case 19:case"end":return r.stop()}},r,t)}))()},tableView:function(e){var t=this;return y(regeneratorRuntime.mark(function r(){var n,o,i,s,u;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=t&&t.baseUrl()?t.baseUrl():void 0,o=a.default.get(function(){return t.remoteConnection.path},void 0),r.next=4,t.getForm(n,o);case 4:if(i=r.sent){r.next=7;break}throw new Error("Could not find form");case 7:return s=i.components,u=t.getTableViewComponents(s),u=[].concat(m(u),["id as _id","modified as HumanUpdated"]),t.select(u),r.abrupt("return",t.paginate(e));case 12:case"end":return r.stop()}},r,t)}))()},getTableViewComponents:function(e){return a.default.findComponents(e,{input:!0,tableView:!0}).filter(function(e){return!(""===e.label)}).map(function(e){return"data."+e.key+" as "+e.key})},getForm:function(e,t){var r=this;return y(regeneratorRuntime.mark(function e(){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.Fluent.model({properties:{name:"Form",config:{remote:{path:"form",pullForm:!0}}}})(),e.next=3,n.local().where("data.path","=",t).first();case 3:return o=e.sent,e.abrupt("return",o.data);case 5:case"end":return e.stop()}},e,r)}))()},getUrl:function(){return this&&this.baseUrl()?this.baseUrl():void 0},getHeaders:function(){var e={},t={};return t=this.getToken(),(this.remoteConnection.token||""===this.remoteConnection.token)&&(t=this.remoteConnection.token),t?(e[this.getTokenType(t)]=t,e.Authorization="Bearer "+t,e):e},getPage:function(){return this.paginator&&this.paginator.page?"page="+this.paginator.page+"&":""},getPaginatorLimit:function(e){return this.paginator&&this.paginator.rowsPerPage?n({},e,{limit:this.paginator.rowsPerPage}):e},httpGET:function(){var e=this;return y(regeneratorRuntime.mark(function t(){var r,o,i,u,l,f;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={},o=e.getUrl(),i=e.getHeaders(),t.next=5,e.getFilters(r);case 5:if(r=t.sent,r=e.getLimit(r),r=e.getSkip(r),r=e.getSelect(r),r=e.getOrderBy(r),r=e.getPaginatorLimit(r),u=e.getPage(),e.rawQuery&&(r.limit=r.limit||e.rawQuery.limit,r.skip=r.skip||e.rawQuery.skip,r.order=r.order||e.rawQuery.order,r.fields=n({},r.fields,e.rawQuery.fields),l=r.where&&r.where.and?r.where.and[0]:{},r.where=n({},l,e.rawQuery.where)),r.where=n({},r.where,{deleted:null}),e.remoteConnection.path.includes("/")&&(e.remoteConnection.path=e.remoteConnection.path.replace("/","")),e.remoteConnection.path=(0,d.default)(e.remoteConnection.path),f=a.default.get(function(){return e.remoteConnection.path},void 0),o=o+"/"+f+"?"+u+"filter="+encodeURI(JSON.stringify(r)),t.t0=!0,t.t0){t.next=23;break}return t.next=22,c.default.isOnline();case 22:t.t0=t.sent;case 23:if(t.t0){t.next=26;break}throw new Error("Cannot make get request to "+o+".You are not online");case 26:return t.abrupt("return",s.default.get(o,{headers:i}));case 27:case"end":return t.stop()}},t,e)}))()},httpPOST:function(e){var t=this;return y(regeneratorRuntime.mark(function r(){var n,o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(n=t.getUrl(),o=t.getHeaders(),r.t0=!0,r.t0){r.next=7;break}return r.next=6,c.default.isOnline();case 6:r.t0=r.sent;case 7:if(r.t0){r.next=10;break}throw new Error("Cannot make request post to "+n+".You are not online");case 10:return r.abrupt("return",s.default.post(n,e,{headers:o}));case 11:case"end":return r.stop()}},r,t)}))()},getTokenType:function(e){return e.length>32?"x-jwt-token":"x-token"},getFilters:function(e){var t=this;return y(regeneratorRuntime.mark(function r(){var n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if((n=t.whereArray)&&0!==n.length){r.next=3;break}return r.abrupt("return",e);case 3:return e.where={and:[]},n.forEach(function(t){var r=t[0],n=t[1],o=t[2];switch(n){case"=":e.where.and.push(v({},r,o));break;case"!=":e.where.and.push(v({},r,{neq:o}));break;case">":e.where.and.push(v({},r,{gt:o}));break;case">=":e.where.and.push(v({},r,{gte:o}));break;case"<":e.where.and.push(v({},r,{lt:o}));break;case"<=":e.where.and.push(v({},r,{lte:o}));break;case"in":e.where.and.push(v({},r,{inq:o}));break;case"nin":e.where.and.push(v({},r,{nin:o}));break;case"exists":e.where.and.push(v({},r,{exists:!0}));break;case"!exists":e.where.and.push(v({},r,{exists:!1}));break;case"regex":e.where.and.push(v({},"data."+r,{regexp:o}))}}),r.abrupt("return",e);case 6:case"end":return r.stop()}},r,t)}))()},getOrderBy:function(e){return this.orderByArray&&0!==this.orderByArray.length?n({},e,{order:this.orderByArray[0]+" "+this.orderByArray[1].toUpperCase()}):e},getLimit:function(e){return this.limitNumber&&0!==this.limitNumber||(this.limitNumber=this.rawQuery&&this.rawQuery.limit||50),n({},e,{limit:this.limitNumber})},getSkip:function(e){return this.offsetNumber||(this.offsetNumber=this.rawQuery&&this.rawQuery.skip||0),n({},e,{skip:this.offsetNumber})},getSelect:function(e){var t=this.selectArray;if((t=t.map(function(e){return e=(e=e.split(" as ")[0]).includes("_id")?"id":e})).find(function(e){return e.startsWith("data.")})&&t.unshift("data"),!t)return e;var r={};return t.forEach(function(e){r[e]=!0}),n({},e,{fields:r})}}})},function(e,t,r){"use strict";function n(e,t){return e.then(function(e){return[null,e]}).catch(function(e){return t&&Object.assign(e,t),[e,void 0]})}r.r(t),r.d(t,"to",function(){return n}),t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,i,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=(n=function(e,t){try{return e()}catch(e){return t}},o=function(e,t,r){var o=t;t.includes(" as ")&&(o=(t=t.split(" as "))[0]);var i=n(function(){return Array.isArray(t)&&t[1].trim()},void 0),a=o.replace(/\[/g,".").replace(/]/g,"").split(".").filter(Boolean).map(function(e){return e.trim()});return{label:i||o,value:a.every(function(t){return!(t&&void 0===(e=e[t]))})?e:r}},i=function e(t,r,n,o,i){t&&(o=o||"",t.forEach(function(t){if(t){var s=t.columns&&Array.isArray(t.columns),u=t.rows&&Array.isArray(t.rows),c=t.components&&Array.isArray(t.components),l=!1,f=t.key?o?o+"."+t.key:t.key:"";i&&(t.parent=a({},i),delete t.parent.components,delete t.parent.componentMap,delete t.parent.columns,delete t.parent.rows),(n||t.tree||!s&&!u&&!c)&&(l=r(t,f));var h=function(){return t.key&&!["panel","table","well","columns","fieldset","tabs","form"].includes(t.type)&&(["datagrid","container","editgrid"].includes(t.type)||t.tree)?f:t.key&&"form"===t.type?f+".data":o};l||(s?t.columns.forEach(function(o){return e(o.components,r,n,h(),i?t:null)}):u?t.rows.forEach(function(o){Array.isArray(o)&&o.forEach(function(o){return e(o.components,r,n,h(),i?t:null)})}):c&&e(t.components,r,n,h(),i?t:null))}}))},Object.freeze({cloneDeep:function(e){return JSON.parse(JSON.stringify(e))},get:n,orderBy:function(){},isEmpty:function(e){if(!e)return!0;if(Array.isArray(e)||"string"==typeof e)return!e.length;for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0},debounce:function(e,t){var r=void 0;return function(){var n=this,o=arguments;clearTimeout(r),r=setTimeout(function(){return e.apply(n,o)},t)}},getFromPath:o,deleteNulls:function e(t){var r=t,n=r instanceof Array;for(var o in r)null===r[o]?n?r.splice(o,1):delete r[o]:"object"===s(r[o])&&e(r[o]);return r},eachComponent:i,findComponents:function(e,t){var r=[];return i(e,function(e,n){(function(e,t){if("string"==typeof t)return e.key===t;var r=!1;return Object.keys(t).forEach(function(n){if(!(r=o(e,n).value===t[n]))return!1}),r})(e,t)&&(e.path=n,r.push(e))},!0),r},unixDate:function(){return Math.round(+new Date/1e3)}}));t.default=u},function(e,t,r){"use strict";var n=r(0),o=r(3),i=r(14),a=r(1);function s(e){var t=new i(e),r=o(i.prototype.request,t);return n.extend(r,i.prototype,t),n.extend(r,t),r}var u=s(a);u.Axios=i,u.create=function(e){return s(n.merge(a,e))},u.Cancel=r(7),u.CancelToken=r(29),u.isCancel=r(6),u.all=function(e){return Promise.all(e)},u.spread=r(30),e.exports=u,e.exports.default=u},function(e,t){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */e.exports=function(e){return null!=e&&(r(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,r){"use strict";var n=r(1),o=r(0),i=r(24),a=r(25);function s(e){this.defaults=e,this.interceptors={request:new i,response:new i}}s.prototype.request=function(e){"string"==typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),(e=o.merge(n,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[a,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)r=r.then(t.shift(),t.shift());return r},o.forEach(["delete","get","head","options"],function(e){s.prototype[e]=function(t,r){return this.request(o.merge(r||{},{method:e,url:t}))}}),o.forEach(["post","put","patch"],function(e){s.prototype[e]=function(t,r,n){return this.request(o.merge(n||{},{method:e,url:t,data:r}))}}),e.exports=s},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=s(h);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t)),1!==c.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t){n.forEach(e,function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])})}},function(e,t,r){"use strict";var n=r(5);e.exports=function(e,t,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e}},function(e,t,r){"use strict";var n=r(0);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(n.isURLSearchParams(t))i=t.toString();else{var a=[];n.forEach(t,function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))}))}),i=a.join("&")}return i&&(e+=(-1===e.indexOf("?")?"?":"&")+i),e}},function(e,t,r){"use strict";var n=r(0),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,i,a={};return e?(n.forEach(e.split("\n"),function(e){if(i=e.indexOf(":"),t=n.trim(e.substr(0,i)).toLowerCase(),r=n.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([r]):a[t]?a[t]+", "+r:r}}),a):a}},function(e,t,r){"use strict";var n=r(0);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},function(e,t,r){"use strict";function n(){this.message="String contains an invalid character"}n.prototype=new Error,n.prototype.code=5,n.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,r,o=String(e),i="",a=0,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.charAt(0|a)||(s="=",a%1);i+=s.charAt(63&t>>8-a%1*8)){if((r=o.charCodeAt(a+=.75))>255)throw new n;t=t<<8|r}return i}},function(e,t,r){"use strict";var n=r(0);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(o)&&s.push("path="+o),n.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){"use strict";var n=r(0);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=o},function(e,t,r){"use strict";var n=r(0),o=r(26),i=r(6),a=r(1),s=r(27),u=r(28);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.baseURL&&!s(e.url)&&(e.url=u(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return c(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(t){return i(t)||(c(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t,r){return n.forEach(r,function(r){e=r(e,t)}),e}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";var n=r(7);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var r=this;e(function(e){r.reason||(r.reason=new n(e),t(r.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o(function(t){e=t}),cancel:e}},e.exports=o},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){"use strict";(function(e){var r,n,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==(void 0===e?"undefined":a(e))&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=13)}([function(e,t,r){var n=r(2),o=r(17),i=r(6),a=r(18),s=r(1),u=r(3),c=r(8),l=r(7),f=Array.prototype.concat;function h(){var e=f.apply([],arguments).filter(u);return 0===e.length?void 0:e}function d(e){if(!s(e))return e;var t=e.methods,r=e.properties,n=e.props,o=e.initializers,i=e.init,u=e.composers,f=e.deepProperties,d=e.deepProps,p=e.propertyDescriptors,v=e.staticProperties,m=e.statics,y=e.staticDeepProperties,g=e.deepStatics,w=e.configuration,b=e.conf,x=e.deepConfiguration,_=e.deepConf,E=s(n)||s(r)?l({},n,r):void 0,O=s(d)?c({},d):void 0;O=s(f)?c(O,f):O;var k=s(m)||s(v)?l({},m,v):void 0,S=s(g)?c({},g):void 0;S=s(y)?c(S,y):S;var A=e.staticPropertyDescriptors;a(e.name)&&(A=l({},A||{},{name:{value:e.name}}));var P=s(b)||s(w)?l({},b,w):void 0,C=s(_)?c({},_):void 0;C=s(x)?c(C,x):C;var R=h(i,o),T=h(u),M={};return t&&(M.methods=t),E&&(M.properties=E),R&&(M.initializers=R),T&&(M.composers=T),O&&(M.deepProperties=O),k&&(M.staticProperties=k),S&&(M.staticDeepProperties=S),p&&(M.propertyDescriptors=p),A&&(M.staticPropertyDescriptors=A),P&&(M.configuration=P),C&&(M.deepConfiguration=C),M}function p(){for(var e=arguments.length,t=[],r=0;r<e;r+=1){var o=arguments[r];t.push(i(o)?o:d(o))}return n.apply(this||v,t)}var v=o.compose({staticProperties:{create:function(){return this.apply(this,arguments)},compose:p}}),m=o.compose.staticProperties;for(var y in m)p[y]=m[y].bind(v);p.compose=p.bind(),e.exports=p},function(e,t){e.exports=function(e){var t=void 0===e?"undefined":a(e);return Boolean(e)&&("object"===t||"function"===t)}},function(e,t,r){var n=r(5),o=r(3),i=r(1),a=r(6),s=r(15),u=r(7),c=r(8),l=Array.prototype.slice;function f(e,t){var r=function e(t){var r=e.compose||{},n={__proto__:r.methods};if(c(n,r.deepProperties),u(n,r.properties),Object.defineProperties(n,r.propertyDescriptors||{}),!r.initializers||0===r.initializers.length)return n;void 0===t&&(t={});for(var i=r.initializers,a=i.length,s=0;s<a;s+=1){var f=i[s];if(o(f)){var h=f.call(n,t,{instance:n,stamp:e,args:l.apply(arguments)});n=void 0===h?n:h}}return n};e.staticDeepProperties&&c(r,e.staticDeepProperties),e.staticProperties&&u(r,e.staticProperties),e.staticPropertyDescriptors&&Object.defineProperties(r,e.staticPropertyDescriptors);var n=o(r.compose)?r.compose:t;return u(r.compose=function(){return n.apply(this,arguments)},e),r}function h(e,t,r){if(n(t)){var i=t.length,a=e[r]||[];e[r]=a;for(var s=0;s<i;s+=1){var u=t[s];o(u)&&a.indexOf(u)<0&&a.push(u)}}}function d(e,t,r,n){i(t[r])&&(i(e[r])||(e[r]={}),n(e[r],t[r]))}function p(e,t,r){d(e,t,r,c)}function v(e,t,r){d(e,t,r,u)}function m(e,t){var r=t&&t.compose||t;v(e,r,"methods"),v(e,r,"properties"),p(e,r,"deepProperties"),v(e,r,"propertyDescriptors"),v(e,r,"staticProperties"),p(e,r,"staticDeepProperties"),v(e,r,"staticPropertyDescriptors"),v(e,r,"configuration"),p(e,r,"deepConfiguration"),h(e,r.initializers,"initializers"),h(e,r.composers,"composers")}e.exports=function e(){var t={},r=[];s(this)&&(m(t,this),r.push(this));for(var o=0;o<arguments.length;o++){var i=arguments[o];s(i)&&(m(t,i),r.push(i))}var u=f(t,e),c=t.composers;if(n(c)&&c.length>0)for(var l=0;l<c.length;l+=1){var h=(0,c[l])({stamp:u,composables:r});u=a(h)?h:u}return u}},function(e,t){e.exports=function(e){return"function"==typeof e}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==("undefined"==typeof window?"undefined":a(window))&&(r=window)}e.exports=r},function(e,t){e.exports=Array.isArray},function(e,t,r){var n=r(3);e.exports=function(e){return n(e)&&n(e.compose)}},function(e,t){e.exports=Object.assign},function(e,t,r){var n=r(16),o=r(1),i=r(5);function a(e,t){if(void 0===t)return e;if(i(t))return(i(e)?e:[]).concat(t);if(!n(t))return t;for(var r=o(e)?e:{},s=Object.keys(t),u=0;u<s.length;u+=1){var c=s[u],l=t[c];if(void 0!==l){var f=r[c],h=n(f)||i(l)?f:{};r[c]=a(h,l)}}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++)e=a(e,arguments[t]);return e}},function(e,t,r){(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(0)),o=i(r(19));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.default)({properties:{name:"baseModel",config:{remote:{path:void 0,token:void 0,pullForm:!1},local:{connector:"loki"},merge:{connector:"formio-loki"}}},methods:{getModelName:function(){return this.name},getFluentConfig:function(){var t=void 0;return"undefined"!=typeof window&&window&&window._FLUENT_?t=window._FLUENT_:e&&e._FLUENT_&&(t=e._FLUENT_),t},getConnector:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Array.isArray(e)?this.getConnectorFromArray(e,t,r):e instanceof Object?e:void 0},getConnectorFromArray:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(1===e.length)return e[0];if(this.config&&this.config[t]&&this.config[t].connector){var o=e.find(function(e){return e.name===r.config[t].connector});if(o instanceof Object)return o}if(n){var i=e.find(function(e){return e.name===n});if(i instanceof Object)return i}var a=e.find(function(e){return e.default});return a instanceof Object?a:void 0},remote:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.token,r=void 0===t?void 0:t,n=e.pullForm,o=void 0===n?void 0:n,i=e.connectorName,a=void 0===i?void 0:i,s=e.path,u=void 0===s?void 0:s,c=this.getFluentConfig(),l=c&&c.connectors&&c.connectors.remote;if(!l)throw new Error("No remote connector was defined. Please define it using Fluent.config()");var f=this.getConnector(l,"remote",a||!1);if(this.config.remote.token=r||this.config.remote.token,this.config.remote.path=u||this.config.remote.path,o&&(this.config.remote.pullForm=o||this.config.remote.pullForm),f)return f.connector({remoteConnection:this.config.remote,connector:f});throw new Error("No default remote connector found. Please assign one as your default in Fluent.config")},local:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).connectorName,t=void 0===e?void 0:e,r=this.getFluentConfig(),n=r&&r.connectors&&r.connectors.local;if(!n)throw new Error("No local connector was defined. Please define it using Fluent.config()");var o=this.getConnector(n,"local",t||!1);if(o)return o.connector({name:this.name,connector:o});throw new Error("No default local connector found. Please assign one as your default in Fluent.config")},merged:function(){var e=this.local(),t=this.remote(),r=this.getFluentConfig(),n=r&&r.connectors&&r.connectors.merge;if(!n)throw new Error("No merge connector was defined. Please define it using Fluent.config()");var o=this.getConnector(n,"merge");if(o)return o.connector({local:e,remote:t,name:this.name,connector:o});throw new Error("No default merge connector found. Please assign one as your default in Fluent.config")}}}).compose(o.default)}).call(this,r(4))},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=a(r(0)),i=a(r(11));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}t.default=(0,o.default)({init:function(e){if(!Array.isArray(e))throw new Error("Collect method only accepts arrays of data");this.data=e},properties:{data:[]},methods:{get:function(){return this.data},all:function(){return this.get()},avg:function(e){return this.average(e)},average:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[].concat(s(this.data)),r=t.reduce(function(t,r){var n=r;if(r instanceof Object){var o=i.default.getFromPath(r,e,void 0);void 0!==o&&o.value&&(n=o.value)}return t+n},0);try{return r/t.length}catch(e){throw new Error('Division between "'+r+'" and "'+t.length+'" is not valid.')}},chunkApply:function(e,t){var r,n=this;return(r=regeneratorRuntime.mark(function r(){var o,i,a,s;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==t){r.next=2;break}throw new Error("Callback function not defined.");case 2:return o=n.data.length,i=0,n.chunks(e),a=function(r,n){return r.then(function(){return Promise.all(n.map(function(e){return t(e)}))}).then(function(){i=i+e>o?o:i+e,console.log("Processed "+i+"/"+o+" elements...")})},console.log("Processed "+i+"/"+o+" elements..."),s=n.data.reduce(a,Promise.resolve()),r.abrupt("return",s);case 9:case"end":return r.stop()}},r,n)}),function(){var e=r.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});t(s)}("next")})})()},chunks:function(e){for(var t=[].concat(s(this.data)),r=[];t.length;)r.push(t.splice(0,e));return this.data=r,this},collapse:function(){var e=[].concat(s(this.data)),t=[];return e.forEach(function(e){Array.isArray(e)?e.forEach(function(e){t.push(e)}):t.push(e)}),this.data=t,this},unChunk:function(){return this.collapse()},combine:function(e){var t=[].concat(s(this.data)),r=void 0;return t.forEach(function(t,o){t instanceof Object?(r||(r=[]),r[o]=n({},t,{_value:e[o]})):(r||(r={}),r[t]=e[o])}),this.data=r,this},concat:function(e){return this.data=[].concat(s(this.data),s(e)),this},contains:function(){var e=void 0,t=void 0,r=void 0;return 1===arguments.length?(this.isFunction(arguments.length<=0?void 0:arguments[0])&&(r=arguments.length<=0?void 0:arguments[0]),e=arguments.length<=0?void 0:arguments[0]):(e=arguments.length<=1?void 0:arguments[1],t=arguments.length<=0?void 0:arguments[0]),[].concat(s(this.data)).some(function(n,o){if(r)return!!r(n,o);var a=n;if(n instanceof Object){var s=i.default.getFromPath(n,t,void 0);s.value&&(a=s.value)}return a===e})},duplicatesBy:function(e){var t=[].concat(s(this.data)),r=[];return t.reduce(function(t,n){var o=e.reduce(function(e,t){return e+i.default.getFromPath(n,t,"").value},"");return t.hasOwnProperty(o)?r.push(n):t[o]=!0,t},{}),this.data=r,this},count:function(){return this.data.length},isFunction:function(e){return e&&"[object Function]"==={}.toString.call(e)}}})},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=(n=function(e,t){try{return e()}catch(e){return t}},Object.freeze({get:n,getFromPath:function(e,t,r){var o=t;t.includes(" as ")&&(o=(t=t.split(" as "))[0]);var i=n(function(){return Array.isArray(t)&&t[1].trim()},void 0),a=o.replace(/\[/g,".").replace(/]/g,"").split(".").filter(Boolean).map(function(e){return e.trim()});return{label:i||o,value:a.every(function(t){return!(t&&void 0===(e=e[t]))})?e:r}}}));t.default=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==a(Symbol.iterator)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":a(e)},o=u(r(0)),i=u(r(11)),s=u(r(10));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function l(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}t.default=(0,o.default)({init:function(e){var t=e.name,r=e.remoteConnection,n=e.connector;if(!t&&!r)throw new Error("Model must have a name or path");if(!n)throw new Error("Model must have a connector. Please register one using Fluent.config");this.name=t||this.name,this.remoteConnection=r||this.remoteConnection,this.connector=n||this.connector,this.chainReference=[],this.whereArray=[],this.orWhereArray=[],this.selectArray=[],this.orderByArray=[],this.limitNumber=void 0,this.offsetNumber=void 0,this.populate=[],this.chunk=null,this.pullSize=null,this.ownerId=void 0,this.paginator=void 0,this.rawQuery=void 0},properties:{operators:["=","<",">","<=",">=","<>","!=","in","nin","like","regexp","startsWith","endsWith","contains"]},methods:{get:function(){throw new Error("get() method not implemented")},all:function(){throw new Error("all() method not implemented")},find:function(e){throw new Error("find() method not implemented")},findOne:function(){throw new Error("findOne() method not implemented")},remove:function(){throw new Error("remove() method not implemented")},softDelete:function(){throw new Error("softDelete() method not implemented")},insert:function(){throw new Error("insert() method not implemented")},update:function(){throw new Error("update() method not implemented")},clear:function(){throw new Error("clear() method not implemented")},updateOrCreate:function(){throw new Error("updateOrCreate() method not implemented")},findAndRemove:function(){throw new Error("findAndRemove() method not implemented")},paginate:function(){throw new Error("paginate() method not implemented")},tableView:function(){throw new Error("tableView() method not implemented")},raw:function(){throw new Error("raw() method not implemented")},owner:function(e){return this.chainReference.push({method:"owner",args:e}),this.ownerId=e,this},own:function(e){return this.owner(e)},first:function(){var e=this;return l(regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get();case 2:return r=t.sent,t.abrupt("return",i.default.get(function(){return r[0]},[]));case 4:case"end":return t.stop()}},t,e)}))()},collect:function(){var e=this;return l(regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get();case 2:if(r=t.sent,Array.isArray(r)){t.next=5;break}throw new Error("Collect method only accepts arrays of data");case 5:return t.abrupt("return",(0,s.default)(r));case 6:case"end":return t.stop()}},t,e)}))()},select:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t=this.prepareInput(t),this.chainReference.push({method:"select",args:t}),this.selectArray=this.selectArray.concat(t).filter(function(e,t,r){return r.indexOf(e)===t}),this},jsApplySelect:function(e){var t=this,r=Array.isArray(e)?[].concat(c(e)):[e];return this.selectArray.length>0&&(r=r.map(function(e){var r={};return t.selectArray.forEach(function(t){var o=i.default.getFromPath(e,t,void 0),a=i.default.get(function(){return o.value},void 0);void 0!==a&&("object"===(void 0===a?"undefined":n(a))&&a.hasOwnProperty("data")&&a.data.hasOwnProperty("name")?r[o.label]=a.data.name:r[o.label]=a)}),r})),r},offset:function(e){return this.chainReference.push({method:"offset",args:e}),this.offsetNumber=e,this},skip:function(e){return this.offset(e)},where:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.chainReference.push({method:"where",args:r}),this.whereArray=[],(r=Array.isArray(r[0])?r:[r]).forEach(function(t){if(3!==t.length)throw new Error('There where clouse is not properly formatted, expecting: ["attribute", "operator","value"] but got "'+JSON.stringify(t)+'" ');e.whereArray.push(t)}),this},andWhere:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.chainReference.push({method:"andWhere",args:r}),(r=Array.isArray(r[0])?r:[r]).forEach(function(t){if(3!==t.length)throw new Error('There where clouse is not properly formatted, expecting: ["attribute", "operator","value"] but got "'+JSON.stringify(t)+'" ');e.whereArray.push(t)}),this},orWhere:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.chainReference.push({method:"orWhere",args:r}),(r=Array.isArray(r[0])?r:[r]).forEach(function(t){if(3!==t.length)throw new Error('There orWhere clouse is not properly formatted, expecting: ["attribute", "operator","value"] but got "'+JSON.stringify(t)+'" ');e.orWhereArray.push(t)}),this},limit:function(e){return this.chainReference.push({method:"limit",args:e}),this.limitNumber=e,this},take:function(e){return this.limit(e)},pluck:function(e){var t=this;return l(regeneratorRuntime.mark(function r(){var n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t.chainReference.push({method:"pluck",args:e}),r.next=3,t.get();case 3:return n=(n=r.sent).map(function(t){var r=i.default.getFromPath(t,e,void 0);if(void 0!==r.value)return r.value}),r.abrupt("return",n);case 6:case"end":return r.stop()}},r,t)}))()},orderBy:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.chainReference.push({method:"orderBy",args:t}),this.orderByArray=t,this},jsApplyOrderBy:function(e){var t=[].concat(c(e));if(0===this.orderByArray.length)return t;var r=this.orderByArray[0];if(this.selectArray.length>0&&(r.includes(".")||r.includes("[")))throw new Error('Cannot orderBy nested attribute "'+r+'" when using Select. You must rename the attribute');var n=this.orderByArray[1],o=this.orderByArray[2];return o||(o="string"),t.sort(function(e,t){var a=i.default.getFromPath(e,r,void 0).value,s=i.default.getFromPath(t,r,void 0).value;if(void 0===a||void 0===s)throw new Error('Cannot order by property "'+r+'" not all values have this property');return o.includes("string")||o.includes("number")?"asc"===n?a>s?1:a<s?-1:0:a>s?-1:a<s?1:0:o.includes("date")?"asc"===n?new Date(a)-new Date(s):new Date(s)-new Date(a):void 0})},prepareInput:function(e){var t=[];return e.forEach(function(e){var r=Array.isArray(e)?e:e.split(",");r=r.map(function(e){return e.trim()}),t=t.concat(r)}),t.filter(function(e,t,r){return r.indexOf(e)===t}),t},ArrayInsert:function(e,t){var r=this;return l(regeneratorRuntime.mark(function n(){var o,i,a,s,u,c,l,f;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:o=1,i=e.length,a=!0,s=!1,u=void 0,n.prev=5,c=e[Symbol.iterator]();case 7:if(a=(l=c.next()).done){n.next=26;break}return f=l.value,t&&t.showProgress&&console.log("Inserting "+o+" of "+i),n.prev=10,n.next=13,r.insert(f,t);case 13:n.sent,t&&t.showProgress&&console.log("Element "+o+" inserted"),o++,n.next=23;break;case 18:n.prev=18,n.t0=n.catch(10),console.log("ERROR - Element "+o+" - "+JSON.stringify(f)+" could not be inserted"),console.log(n.t0),o++;case 23:a=!0,n.next=7;break;case 26:n.next=32;break;case 28:n.prev=28,n.t1=n.catch(5),s=!0,u=n.t1;case 32:n.prev=32,n.prev=33,!a&&c.return&&c.return();case 35:if(n.prev=35,!s){n.next=38;break}throw u;case 38:return n.finish(35);case 39:return n.finish(32);case 40:case"end":return n.stop()}},n,r,[[5,28,32,40],[10,18],[33,,35,39]])}))()}}})},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Event=t.MergeConnector=t.Interface=t.Fluent=t.Model=void 0;var n=u(r(14)),o=u(r(9)),i=u(r(12)),a=u(r(20)),s=u(r(21));function u(e){return e&&e.__esModule?e:{default:e}}t.Model=o.default,t.Fluent=n.default,t.Interface=i.default,t.MergeConnector=a.default,t.Event=s.default},function(e,t,r){(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=s(r(0)),i=s(r(9)),a=s(r(10));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var c=(0,o.default)({init:function(){this.registerGlobalVariable()},properties:{},methods:{model:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.registerModel(t),i.default.compose.apply(i.default,u(t))},extend:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.registerModel(t),i.default.compose.apply(i.default,u(t))},compose:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.registerModel(t),i.default.compose.apply(i.default,u(t))},collect:function(e){return(0,a.default)(e)},registerGlobalVariable:function(){"undefined"!=typeof window&&window&&!window._FLUENT_&&(window._FLUENT_={connectors:{},models:{}}),e&&!e._FLUENT_&&(e._FLUENT_={connectors:{},models:{}})},registerModel:function(t){var r=t&&t[0]&&t[0].properties&&t[0].properties.name?t[0].properties.name:void 0;if(r&&"baseModel"!==r){if("string"!=typeof r)throw new Error("You must assign a name to your Model when using Fluent.compose");"undefined"==typeof window?e._FLUENT_.models[r]=!0:window._FLUENT_.models[r]=!0}},config:function(t){var r=t.REMOTE_CONNECTORS,n=void 0===r?void 0:r,o=t.LOCAL_CONNECTORS,i=void 0===o?void 0:o,a=t.MERGE_CONNECTORS,s=void 0===a?void 0:a;"undefined"!=typeof window&&window&&(window._FLUENT_.connectors={local:i,remote:n,merge:s}),void 0!==e&&e&&(e._FLUENT_.connectors={local:i,remote:n,merge:s})},getConfig:function(){return"undefined"!=typeof window&&window?window._FLUENT_:void 0!==e&&e?e._FLUENT_:void 0},registerConnector:function(t){var r=t.type,o=t.connector;if(!r||!o)throw new Error("type and connector must be defined");if(!["local","remote","merge"].includes(r))throw new Error("type must be either local, remote or merge");var i="undefined"!=typeof window&&window?window._FLUENT_:e._FLUENT_,a=i.connectors.hasOwnProperty(r)?i.connectors[r]:[];if(0===a.length)return o=n({},o,{default:!0}),a.push(o),void(i.connectors[r]=a);a.find(function(e){return e.name===o.name})?console.log("A "+r+" connector with the name '"+o.name+"' already exists"):(a.push(o),i.connectors[r]=a)},deregisterConnector:function(t){var r=t.type,n=t.name;if(!r||!n)throw new Error("type and name must be defined");if(!["local","remote","merge"].includes(r))throw new Error("type must be either local, remote or merge");var o="undefined"!=typeof window&&window?window._FLUENT_:e._FLUENT_,i=o.connectors.hasOwnProperty(r)?o.connectors[r]:[];if(0!==i.length){var a=i.filter(function(e){return e.name!==n});o.connectors[r]=a}}}})();t.default=c}).call(this,r(4))},function(e,t,r){e.exports=r(1)},function(e,t){e.exports=function(e){return Boolean(e)&&"object"==(void 0===e?"undefined":a(e))&&Object.getPrototypeOf(e)===Object.prototype}},function(e,t,r){var n=r(2);function o(e){return function(t){var r={};return r[e]=t,this&&this.compose?this.compose(r):n(r)}}var i=o("properties"),a=o("staticProperties"),s=o("configuration"),u=o("deepProperties"),c=o("staticDeepProperties"),l=o("deepConfiguration"),f=o("initializers");e.exports=n({staticProperties:{methods:o("methods"),props:i,properties:i,statics:a,staticProperties:a,conf:s,configuration:s,deepProps:u,deepProperties:u,deepStatics:c,staticDeepProperties:c,deepConf:l,deepConfiguration:l,init:f,initializers:f,composers:o("composers"),propertyDescriptors:o("propertyDescriptors"),staticPropertyDescriptors:o("staticPropertyDescriptors")}})},function(e,t){e.exports=function(e){return"string"==typeof e}},function(e,t,r){var n=r(2),o=new WeakMap,i=function(e,t){function r(){var t=o.get(this);return e.apply(t,arguments)}return Object.defineProperty(r,"name",{value:t,configurable:!0}),r};function a(e,t){var r=t.stamp.compose,n=r.deepConfiguration.Privatize.methods,a={};o.set(a,this);var s=r.methods;if(!s)return a;for(var u=Object.keys(s),c=0;c<u.length;c++){var l=u[c];n.indexOf(l)<0&&(a[l]=i(s[l],l))}if("undefined"!=typeof Symbol){var f=Symbol.for("stamp");s[f]&&(a[f]=t.stamp)}return a}var s=n({initializers:[a],deepConfiguration:{Privatize:{methods:[]}},staticProperties:{privatizeMethods:function(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];"string"==typeof r&&r.length>0&&e.push(r)}return(this&&this.compose?this:s).compose({deepConfiguration:{Privatize:{methods:e}}})}},composers:[function(e){var t=e.stamp.compose.initializers;t.splice(t.indexOf(a),1),t.push(a)}]});e.exports=s},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=(n=r(12))&&n.__esModule?n:{default:n};t.default=o.default.compose({properties:{localFx:void 0,remoteFx:void 0},init:function(e){this.connectors=e},methods:{get:function(){var e,t=this;return(e=regeneratorRuntime.mark(function e(){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.prepareMergedFunctions(),e.next=3,t.localFx.get();case 3:return r=e.sent,e.next=6,t.remoteFx.get();case 6:return n=e.sent,e.abrupt("return",r.concat(n));case 8:case"end":return e.stop()}},e,t)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})})()},prepareMergedFunctions:function(){var e=this;this.localFx=this.connectors.local,this.remoteFx=this.connectors.remote,this.chainReference.forEach(function(t){var r=t.method,n=t.args;e.localFx=e.localFx[r](n),e.remoteFx=e.remoteFx[r](n)})}}})},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.freeze({emit:function(e){var t=e.name,r=e.data,n=e.text;if(!t)throw new Error("Event must have a name.");if(!r)throw new Error("Event must have data.");if(!n)throw new Error("Event must have a text.");var o=function(e,t){var r=document.createEvent("CustomEvent");return t=t||{bubbles:!1,cancelable:!1,detail:void 0},r.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r}(t,{detail:{data:r,text:n}});window.dispatchEvent(o)},listen:function(e){var t=e.name,r=e.callback;if(!t)throw new Error("Listener must have a name.");if(!r)throw new Error("Listener must have a callback.");window.addEventListener(t,r)},remove:function(e){var t=e.name,r=e.callback;if(!t)throw new Error("Listener must have a name to detach");if(!r)throw new Error("Listener must have a callback to detach");window.removeEventListener(t,r)}});t.default=n}])},"object"==a(t)&&"object"==a(e)?e.exports=i():(n=[],void 0===(o="function"==typeof(r=i)?r.apply(t,n):r)||(e.exports=o))}).call(this,r(32)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(34)),o=i(r(2));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(){var e="undefined"==typeof window||!window||!window.navigator||window.navigator.onLine;return Object.freeze({isOnline:function(){return new Promise(function(e,t){o.default.get("https://yesno.wtf/api").then(function(t){e(!0)}).catch(function(t){e(!1)})})},initEventListeners:function(){n.default.listen({name:"online",callback:function(){console.log("App is now online"),e||(e=!0,n.default.emit({name:"FAST:CONNECTION:ONLINE",data:e,text:"Application is now online"}))}}),n.default.listen({name:"offline",callback:function(){console.log("App is now offline"),e&&(e=!1,n.default.emit({name:"FAST:CONNECTION:OFFLINE",data:e,text:"Application is now offline"}))}})}})}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.freeze({emit:function(e){var t=e.name,r=e.data,n=e.text;if(!t)throw new Error("Event must have a name.");if(!r)throw new Error("Event must have data.");if(!n)throw new Error("Event must have a text.");var o=function(e,t){var r=document.createEvent("CustomEvent");return t=t||{bubbles:!1,cancelable:!1,detail:void 0},r.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r}(t,{detail:{data:r,text:n}});window.dispatchEvent(o)},listen:function(e){var t=e.name,r=e.callback;if(!t)throw new Error("Listener must have a name.");if(!r)throw new Error("Listener must have a callback.");window.addEventListener(t,r)},remove:function(e){var t=e.name,r=e.callback;if(!t)throw new Error("Listener must have a name to detach");if(!r)throw new Error("Listener must have a callback to detach");window.removeEventListener(t,r)}});t.default=n},function(e,t,r){e.exports=function(){"use strict";var e="millisecond",t="second",r="minute",n="hour",o="day",i="week",a="month",s="quarter",u="year",c=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,l=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=function(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e},h={s:f,z:function(e){var t=-e.utcOffset(),r=Math.abs(t),n=Math.floor(r/60),o=r%60;return(t<=0?"+":"-")+f(n,2,"0")+":"+f(o,2,"0")},m:function(e,t){var r=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(r,a),o=t-n<0,i=e.clone().add(r+(o?-1:1),a);return Number(-(r+(t-n)/(o?n-i:i-n))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(c){return{M:a,y:u,w:i,d:o,h:n,m:r,s:t,ms:e,Q:s}[c]||String(c||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},d={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},p="en",v={};v[p]=d;var m=function(e){return e instanceof b},y=function(e,t,r){var n;if(!e)return null;if("string"==typeof e)v[e]&&(n=e),t&&(v[e]=t,n=e);else{var o=e.name;v[o]=e,n=o}return r||(p=n),n},g=function(e,t,r){if(m(e))return e.clone();var n=t?"string"==typeof t?{format:t,pl:r}:t:{};return n.date=e,new b(n)},w=h;w.l=y,w.i=m,w.w=function(e,t){return g(e,{locale:t.$L,utc:t.$u})};var b=function(){function f(e){this.$L=this.$L||y(e.locale,null,!0)||p,this.parse(e)}var h=f.prototype;return h.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(w.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(c);if(n)return r?new Date(Date.UTC(n[1],n[2]-1,n[3]||1,n[4]||0,n[5]||0,n[6]||0,n[7]||0)):new Date(n[1],n[2]-1,n[3]||1,n[4]||0,n[5]||0,n[6]||0,n[7]||0)}return new Date(t)}(e),this.init()},h.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},h.$utils=function(){return w},h.isValid=function(){return!("Invalid Date"===this.$d.toString())},h.isSame=function(e,t){var r=g(e);return this.startOf(t)<=r&&r<=this.endOf(t)},h.isAfter=function(e,t){return g(e)<this.startOf(t)},h.isBefore=function(e,t){return this.endOf(t)<g(e)},h.$g=function(e,t,r){return w.u(e)?this[t]:this.set(r,e)},h.year=function(e){return this.$g(e,"$y",u)},h.month=function(e){return this.$g(e,"$M",a)},h.day=function(e){return this.$g(e,"$W",o)},h.date=function(e){return this.$g(e,"$D","date")},h.hour=function(e){return this.$g(e,"$H",n)},h.minute=function(e){return this.$g(e,"$m",r)},h.second=function(e){return this.$g(e,"$s",t)},h.millisecond=function(t){return this.$g(t,"$ms",e)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(e,s){var c=this,l=!!w.u(s)||s,f=w.p(e),h=function(e,t){var r=w.w(c.$u?Date.UTC(c.$y,t,e):new Date(c.$y,t,e),c);return l?r:r.endOf(o)},d=function(e,t){return w.w(c.toDate()[e].apply(c.toDate(),(l?[0,0,0,0]:[23,59,59,999]).slice(t)),c)},p=this.$W,v=this.$M,m=this.$D,y="set"+(this.$u?"UTC":"");switch(f){case u:return l?h(1,0):h(31,11);case a:return l?h(1,v):h(0,v+1);case i:var g=this.$locale().weekStart||0,b=(p<g?p+7:p)-g;return h(l?m-b:m+(6-b),v);case o:case"date":return d(y+"Hours",0);case n:return d(y+"Minutes",1);case r:return d(y+"Seconds",2);case t:return d(y+"Milliseconds",3);default:return this.clone()}},h.endOf=function(e){return this.startOf(e,!1)},h.$set=function(i,s){var c,l=w.p(i),f="set"+(this.$u?"UTC":""),h=(c={},c[o]=f+"Date",c.date=f+"Date",c[a]=f+"Month",c[u]=f+"FullYear",c[n]=f+"Hours",c[r]=f+"Minutes",c[t]=f+"Seconds",c[e]=f+"Milliseconds",c)[l],d=l===o?this.$D+(s-this.$W):s;if(l===a||l===u){var p=this.clone().set("date",1);p.$d[h](d),p.init(),this.$d=p.set("date",Math.min(this.$D,p.daysInMonth())).toDate()}else h&&this.$d[h](d);return this.init(),this},h.set=function(e,t){return this.clone().$set(e,t)},h.get=function(e){return this[w.p(e)]()},h.add=function(e,s){var c,l=this;e=Number(e);var f=w.p(s),h=function(t){var r=g(l);return w.w(r.date(r.date()+Math.round(t*e)),l)};if(f===a)return this.set(a,this.$M+e);if(f===u)return this.set(u,this.$y+e);if(f===o)return h(1);if(f===i)return h(7);var d=(c={},c[r]=6e4,c[n]=36e5,c[t]=1e3,c)[f]||1,p=this.valueOf()+e*d;return w.w(p,this)},h.subtract=function(e,t){return this.add(-1*e,t)},h.format=function(e){var t=this;if(!this.isValid())return"Invalid Date";var r=e||"YYYY-MM-DDTHH:mm:ssZ",n=w.z(this),o=this.$locale(),i=this.$H,a=this.$m,s=this.$M,u=o.weekdays,c=o.months,f=function(e,n,o,i){return e&&(e[n]||e(t,r))||o[n].substr(0,i)},h=function(e){return w.s(i%12||12,e,"0")},d=o.meridiem||function(e,t,r){var n=e<12?"AM":"PM";return r?n.toLowerCase():n},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:w.s(s+1,2,"0"),MMM:f(o.monthsShort,s,c,3),MMMM:c[s]||c(this,r),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:f(o.weekdaysMin,this.$W,u,2),ddd:f(o.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(i),HH:w.s(i,2,"0"),h:h(1),hh:h(2),a:d(i,a,!0),A:d(i,a,!1),m:String(a),mm:w.s(a,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:n};return r.replace(l,function(e,t){return t||p[e]||n.replace(":","")})},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(e,c,l){var f,h=w.p(c),d=g(e),p=6e4*(d.utcOffset()-this.utcOffset()),v=this-d,m=w.m(this,d);return m=(f={},f[u]=m/12,f[a]=m,f[s]=m/3,f[i]=(v-p)/6048e5,f[o]=(v-p)/864e5,f[n]=v/36e5,f[r]=v/6e4,f[t]=v/1e3,f)[h]||v,l?m:w.a(m)},h.daysInMonth=function(){return this.endOf(a).$D},h.$locale=function(){return v[this.$L]},h.locale=function(e,t){if(!e)return this.$L;var r=this.clone();return r.$L=y(e,t,!0),r},h.clone=function(){return w.w(this.toDate(),this)},h.toDate=function(){return new Date(this.$d)},h.toJSON=function(){return this.toISOString()},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},f}();return g.prototype=b.prototype,g.extend=function(e,t){return e(t,b,g),g},g.locale=y,g.isDayjs=m,g.unix=function(e){return g(1e3*e)},g.en=v[p],g.Ls=v,g}()},function(e,t,r){e.exports=function(){"use strict";return function(e,t){t.prototype.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)}}}()},function(e,t,r){"use strict";var n=r(38);function o(e){this.message=e}o.prototype=new Error,o.prototype.name="InvalidTokenError",e.exports=function(e,t){if("string"!=typeof e)throw new o("Invalid token specified");var r=!0===(t=t||{}).header?0:1;try{return JSON.parse(n(e.split(".")[r]))}catch(e){throw new o("Invalid token specified: "+e.message)}},e.exports.InvalidTokenError=o},function(e,t,r){var n=r(39);e.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(n(e).replace(/(.)/g,function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}(t)}catch(e){return n(t)}}},function(e,t){function r(e){this.message=e}r.prototype=new Error,r.prototype.name="InvalidCharacterError",e.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,o,i=0,a=0,s="";o=t.charAt(a++);~o&&(n=i%4?64*n+o:o,i++%4)?s+=String.fromCharCode(255&n>>(-2*i&6)):0)o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return s}},function(e,t,r){e.exports=function(){var e=[],t=[],r={},n={},o={};function i(e){return"string"==typeof e?new RegExp("^"+e+"$","i"):e}function a(e,t){return e===t?t:e===e.toLowerCase()?t.toLowerCase():e===e.toUpperCase()?t.toUpperCase():e[0]===e[0].toUpperCase()?t.charAt(0).toUpperCase()+t.substr(1).toLowerCase():t.toLowerCase()}function s(e,t){return e.replace(t[0],function(r,n){var o,i,s=(o=t[1],i=arguments,o.replace(/\$(\d{1,2})/g,function(e,t){return i[t]||""}));return a(""===r?e[n-1]:r,s)})}function u(e,t,n){if(!e.length||r.hasOwnProperty(e))return t;for(var o=n.length;o--;){var i=n[o];if(i[0].test(t))return s(t,i)}return t}function c(e,t,r){return function(n){var o=n.toLowerCase();return t.hasOwnProperty(o)?a(n,o):e.hasOwnProperty(o)?a(n,e[o]):u(o,n,r)}}function l(e,t,r,n){return function(n){var o=n.toLowerCase();return!!t.hasOwnProperty(o)||!e.hasOwnProperty(o)&&u(o,o,r)===o}}function f(e,t,r){var n=1===t?f.singular(e):f.plural(e);return(r?t+" ":"")+n}return f.plural=c(o,n,e),f.isPlural=l(o,n,e),f.singular=c(n,o,t),f.isSingular=l(n,o,t),f.addPluralRule=function(t,r){e.push([i(t),r])},f.addSingularRule=function(e,r){t.push([i(e),r])},f.addUncountableRule=function(e){"string"!=typeof e?(f.addPluralRule(e,"$0"),f.addSingularRule(e,"$0")):r[e.toLowerCase()]=!0},f.addIrregularRule=function(e,t){t=t.toLowerCase(),e=e.toLowerCase(),o[e]=t,n[t]=e},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach(function(e){return f.addIrregularRule(e[0],e[1])}),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(e){return f.addPluralRule(e[0],e[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(e){return f.addSingularRule(e[0],e[1])}),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(f.addUncountableRule),f}()}])},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(7)),o=i(r(9));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}var s,u,c=(s=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.response.status,e.next=400===e.t0?3:440===e.t0?6:8;break;case 3:return console.log("Bad request"),o.default.emit({name:"GOAT:SESSION:BADREQUEST",data:t,text:"Bad request"}),e.abrupt("break",10);case 6:return o.default.emit({name:"GOAT:SESSION:EXPIRED",data:t,text:"Session Expired"}),e.abrupt("break",10);case 8:return console.log(t),e.abrupt("break",10);case 10:case"end":return e.stop()}},e,void 0)})),u=function(e){return s.apply(this,arguments)},Object.freeze({interceptAxios:function(){var e;n.default.interceptors.response.use(function(e){return e},(e=a(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t);case 2:return e.abrupt("return",Promise.reject(t));case 3:case"end":return e.stop()}},e,void 0)})),function(t){return e.apply(this,arguments)}))}}));t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=a(r(4)),i=a(r(0));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,null,[{key:"setLocales",value:function(){o.default.locale(e.getLanguage())}},{key:"changeLanguage",value:function(e){o.default.locale(e)}},{key:"getLanguage",value:function(){return i.default.getLanguage()}}]),e}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(10)),o=i(r(86));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.default)({init:function(e){var t=e.connector;this.default=t||this.default},properties:{default:"Pusher",connectors:{Pusher:o.default}},methods:{getConnector:function(e){return this.connectors[e]},connector:function(e){return this.getConnector(this.default)(e)}}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(87)),o=a(r(12)),i=a(r(39));function a(e){return e&&e.__esModule?e:{default:e}}t.default=i.default.compose({init:function(e){var t=e.appKey,r=e.appCluster,i=e.authEndpoint,a=e.token;this.credentials.appKey=t||this.credentials.appKey,this.credentials.appCluster=r||this.credentials.appCluster,this.authEndpoint=i||this.authEndpoint;var s=a||(0,o.default)().connector().user().x_jwt_token;this.instance=new n.default(this.credentials.appKey,{cluster:this.credentials.appCluster,authEndpoint:this.authEndpoint,auth:{headers:{Authorization:"Bearer "+s}}})},properties:{credentials:{appKey:void 0,appCluster:void 0},channels:{here:"pusher:subscription_succeded",error:"pusher:subscription_error",entering:"pusher:member_added",leaving:"pusher:member_removed"},authEndpoint:void 0,instance:void 0,channel:void 0},methods:{join:function(e){return this.channel=this.instance.subscribe("presence-"+e),this},leave:function(){this.instance.subscribe(this.channel).trigger(this.channels.leaving,{user:user}),this.channel=void 0},here:function(e){if("function"!=typeof e)throw new Error("Callback must be a function.");return this.channel.bind(this.channels.error,function(e){throw new Error("Could not subscribe to channel",e)}),this},joining:function(e){if("function"!=typeof e)throw new Error("Callback must be a function.");return this.channel.bind(this.channels.entering,e),this},leaving:function(e){if("function"!=typeof e)throw new Error("Callback must be a function.");return this.channel.bind(this.channels.leaving,e),this}}})},function(e,t,r){
/*!
 * Pusher JavaScript Library v4.4.0
 * https://pusher.com/
 *
 * Copyright 2017, Pusher
 * Released under the MIT licence.
 */
var n;n=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}return r.m=e,r.c=t,r.p="",r(0)}([function(e,t,r){"use strict";var n=r(1);e.exports=n.default},function(e,t,r){"use strict";var n=r(2),o=r(9),i=r(24),a=r(39),s=r(40),u=r(41),c=r(12),l=r(5),f=r(71),h=r(8),d=r(43),p=r(14),v=function(){function e(t,r){var c=this;if(function(e){if(null==e)throw"You must pass your app key when you instantiate Pusher."}(t),!(r=r||{}).cluster&&!r.wsHost&&!r.httpHost){var v=p.default.buildLogSuffix("javascriptQuickStart");h.default.warn("You should always specify a cluster when connecting. "+v)}this.key=t,this.config=o.extend(f.getGlobalConfig(),r.cluster?f.getClusterConfig(r.cluster):{},r),this.channels=d.default.createChannels(),this.global_emitter=new i.default,this.sessionID=Math.floor(1e9*Math.random()),this.timeline=new a.default(this.key,this.sessionID,{cluster:this.config.cluster,features:e.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:s.default.INFO,version:l.default.VERSION}),this.config.disableStats||(this.timelineSender=d.default.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+n.default.TimelineTransport.name}));this.connection=d.default.createConnectionManager(this.key,o.extend({getStrategy:function(e){var t=o.extend({},c.config,e);return u.build(n.default.getDefaultStrategy(t),t)},timeline:this.timeline,activityTimeout:this.config.activity_timeout,pongTimeout:this.config.pong_timeout,unavailableTimeout:this.config.unavailable_timeout},this.config,{useTLS:this.shouldUseTLS()})),this.connection.bind("connected",function(){c.subscribeAll(),c.timelineSender&&c.timelineSender.send(c.connection.isUsingTLS())}),this.connection.bind("message",function(e){var t=0===e.event.indexOf("pusher_internal:");if(e.channel){var r=c.channel(e.channel);r&&r.handleEvent(e)}t||c.global_emitter.emit(e.event,e.data)}),this.connection.bind("connecting",function(){c.channels.disconnect()}),this.connection.bind("disconnected",function(){c.channels.disconnect()}),this.connection.bind("error",function(e){h.default.warn("Error",e)}),e.instances.push(this),this.timeline.info({instances:e.instances.length}),e.isReady&&this.connect()}return e.ready=function(){e.isReady=!0;for(var t=0,r=e.instances.length;t<r;t++)e.instances[t].connect()},e.log=function(t){e.logToConsole&&window.console&&window.console.log&&window.console.log(t)},e.getClientFeatures=function(){return o.keys(o.filterObject({ws:n.default.Transports.ws},function(e){return e.isSupported({})}))},e.prototype.channel=function(e){return this.channels.find(e)},e.prototype.allChannels=function(){return this.channels.all()},e.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var e=this.connection.isUsingTLS(),t=this.timelineSender;this.timelineSenderTimer=new c.PeriodicTimer(6e4,function(){t.send(e)})}},e.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},e.prototype.bind=function(e,t,r){return this.global_emitter.bind(e,t,r),this},e.prototype.unbind=function(e,t,r){return this.global_emitter.unbind(e,t,r),this},e.prototype.bind_global=function(e){return this.global_emitter.bind_global(e),this},e.prototype.unbind_global=function(e){return this.global_emitter.unbind_global(e),this},e.prototype.unbind_all=function(e){return this.global_emitter.unbind_all(),this},e.prototype.subscribeAll=function(){var e;for(e in this.channels.channels)this.channels.channels.hasOwnProperty(e)&&this.subscribe(e)},e.prototype.subscribe=function(e){var t=this.channels.add(e,this);return t.subscriptionPending&&t.subscriptionCancelled?t.reinstateSubscription():t.subscriptionPending||"connected"!==this.connection.state||t.subscribe(),t},e.prototype.unsubscribe=function(e){var t=this.channels.find(e);t&&t.subscriptionPending?t.cancelSubscription():(t=this.channels.remove(e))&&"connected"===this.connection.state&&t.unsubscribe()},e.prototype.send_event=function(e,t,r){return this.connection.send_event(e,t,r)},e.prototype.shouldUseTLS=function(){return"https:"===n.default.getProtocol()||(!0===this.config.forceTLS||Boolean(this.config.encrypted))},e.instances=[],e.isReady=!1,e.logToConsole=!1,e.Runtime=n.default,e.ScriptReceivers=n.default.ScriptReceivers,e.DependenciesReceivers=n.default.DependenciesReceivers,e.auth_callbacks=n.default.auth_callbacks,e}();t.__esModule=!0,t.default=v,n.default.setup(v)},function(e,t,r){"use strict";var n=r(3),o=r(7),i=r(15),a=r(16),s=r(17),u=r(4),c=r(18),l=r(19),f=r(26),h=r(27),d=r(28),p=r(29),v={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:u.ScriptReceivers,DependenciesReceivers:n.DependenciesReceivers,getDefaultStrategy:h.default,Transports:l.default,transportConnectionInitializer:d.default,HTTPFactory:p.default,TimelineTransport:c.default,getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(e){var t=this;window.Pusher=e;var r=function(){t.onDocumentBody(e.ready)};window.JSON?r():n.Dependencies.load("json2",{},r)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getAuthorizers:function(){return{ajax:o.default,jsonp:i.default}},onDocumentBody:function(e){var t=this;document.body?e():setTimeout(function(){t.onDocumentBody(e)},0)},createJSONPRequest:function(e,t){return new s.default(e,t)},createScriptRequest:function(e){return new a.default(e)},getLocalStorage:function(){try{return window.localStorage}catch(e){return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){return new(this.getXHRAPI())},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return f.Network},createWebSocket:function(e){return new(this.getWebSocketAPI())(e)},createSocketRequest:function(e,t){if(this.isXHRSupported())return this.HTTPFactory.createXHR(e,t);if(this.isXDRSupported(0===t.indexOf("https:")))return this.HTTPFactory.createXDR(e,t);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var e=this.getXHRAPI();return Boolean(e)&&void 0!==(new e).withCredentials},isXDRSupported:function(e){var t=e?"https:":"http:",r=this.getProtocol();return Boolean(window.XDomainRequest)&&r===t},addUnloadListener:function(e){void 0!==window.addEventListener?window.addEventListener("unload",e,!1):void 0!==window.attachEvent&&window.attachEvent("onunload",e)},removeUnloadListener:function(e){void 0!==window.addEventListener?window.removeEventListener("unload",e,!1):void 0!==window.detachEvent&&window.detachEvent("onunload",e)}};t.__esModule=!0,t.default=v},function(e,t,r){"use strict";var n=r(4),o=r(5),i=r(6);t.DependenciesReceivers=new n.ScriptReceiverFactory("_pusher_dependencies","Pusher.DependenciesReceivers"),t.Dependencies=new i.default({cdn_http:o.default.cdn_http,cdn_https:o.default.cdn_https,version:o.default.VERSION,suffix:o.default.dependency_suffix,receivers:t.DependenciesReceivers})},function(e,t){"use strict";var r=function(){function e(e,t){this.lastId=0,this.prefix=e,this.name=t}return e.prototype.create=function(e){this.lastId++;var t=this.lastId,r=this.prefix+t,n=this.name+"["+t+"]",o=!1,i=function(){o||(e.apply(null,arguments),o=!0)};return this[t]=i,{number:t,id:r,name:n,callback:i}},e.prototype.remove=function(e){delete this[e.number]},e}();t.ScriptReceiverFactory=r,t.ScriptReceivers=new r("_pusher_script_","Pusher.ScriptReceivers")},function(e,t){"use strict";t.__esModule=!0,t.default={VERSION:"4.4.0",PROTOCOL:7,host:"ws.pusherapp.com",ws_port:80,wss_port:443,ws_path:"",sockjs_host:"sockjs.pusher.com",sockjs_http_port:80,sockjs_https_port:443,sockjs_path:"/pusher",stats_host:"stats.pusher.com",channel_auth_endpoint:"/pusher/auth",channel_auth_transport:"ajax",activity_timeout:12e4,pong_timeout:3e4,unavailable_timeout:1e4,cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""}},function(e,t,r){"use strict";var n=r(4),o=r(2),i=function(){function e(e){this.options=e,this.receivers=e.receivers||n.ScriptReceivers,this.loading={}}return e.prototype.load=function(e,t,r){var n=this;if(n.loading[e]&&n.loading[e].length>0)n.loading[e].push(r);else{n.loading[e]=[r];var i=o.default.createScriptRequest(n.getPath(e,t)),a=n.receivers.create(function(t){if(n.receivers.remove(a),n.loading[e]){var r=n.loading[e];delete n.loading[e];for(var o=function(e){e||i.cleanup()},s=0;s<r.length;s++)r[s](t,o)}});i.send(a)}},e.prototype.getRoot=function(e){var t=o.default.getDocument().location.protocol;return(e&&e.useTLS||"https:"===t?this.options.cdn_https:this.options.cdn_http).replace(/\/*$/,"")+"/"+this.options.version},e.prototype.getPath=function(e,t){return this.getRoot(t)+"/"+e+this.options.suffix+".js"},e}();t.__esModule=!0,t.default=i},function(e,t,r){"use strict";var n=r(8),o=r(2),i=r(14);t.__esModule=!0,t.default=function(e,t,r){var a;for(var s in(a=o.default.createXHR()).open("POST",this.options.authEndpoint,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this.authOptions.headers)a.setRequestHeader(s,this.authOptions.headers[s]);return a.onreadystatechange=function(){if(4===a.readyState)if(200===a.status){var e,t=!1;try{e=JSON.parse(a.responseText),t=!0}catch(e){r(!0,"JSON returned from webapp was invalid, yet status code was 200. Data was: "+a.responseText)}t&&r(!1,e)}else{var o=i.default.buildLogSuffix("authenticationEndpoint");n.default.warn("Couldn't retrieve authentication info. "+a.status+"Clients must be authenticated to join private or presence channels. "+o),r(!0,a.status)}},a.send(this.composeQuery(t)),a}},function(e,t,r){"use strict";var n=r(9),o=r(1),i={debug:function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];o.default.log&&o.default.log(n.stringify.apply(this,arguments))},warn:function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=n.stringify.apply(this,arguments);o.default.log?o.default.log(r):window.console&&(window.console.warn?window.console.warn(r):window.console.log&&window.console.log(r))}};t.__esModule=!0,t.default=i},function(e,t,r){"use strict";var n=r(10),o=r(11);function i(e,t){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(e[r],r,e)}function a(e,t){for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n,e,r));return r}function s(e,t){var r={};return i(e,function(e,n){r[n]=t(e)}),r}function u(e,t){var r={};return i(e,function(n,o){(t&&t(n,o,e,r)||Boolean(n))&&(r[o]=n)}),r}function c(e){var t=[];return i(e,function(e,r){t.push([r,e])}),t}function l(e){return s(e,function(e){return"object"==typeof e&&(e=h(e)),encodeURIComponent(n.default(e.toString()))})}function f(e){var t=[],r=[];return function e(n,o){var i,a,s;switch(typeof n){case"object":if(!n)return null;for(i=0;i<t.length;i+=1)if(t[i]===n)return{$ref:r[i]};if(t.push(n),r.push(o),"[object Array]"===Object.prototype.toString.apply(n))for(s=[],i=0;i<n.length;i+=1)s[i]=e(n[i],o+"["+i+"]");else for(a in s={},n)Object.prototype.hasOwnProperty.call(n,a)&&(s[a]=e(n[a],o+"["+JSON.stringify(a)+"]"));return s;case"number":case"string":case"boolean":return n}}(e,"$")}function h(e){try{return JSON.stringify(e)}catch(t){return JSON.stringify(f(e))}}t.extend=function e(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];for(var o=0;o<r.length;o++){var i=r[o];for(var a in i)i[a]&&i[a].constructor&&i[a].constructor===Object?t[a]=e(t[a]||{},i[a]):t[a]=i[a]}return t},t.stringify=function(){for(var e=["Pusher"],t=0;t<arguments.length;t++)"string"==typeof arguments[t]?e.push(arguments[t]):e.push(h(arguments[t]));return e.join(" : ")},t.arrayIndexOf=function(e,t){var r=Array.prototype.indexOf;if(null===e)return-1;if(r&&e.indexOf===r)return e.indexOf(t);for(var n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1},t.objectApply=i,t.keys=function(e){var t=[];return i(e,function(e,r){t.push(r)}),t},t.values=function(e){var t=[];return i(e,function(e){t.push(e)}),t},t.apply=function(e,t,r){for(var n=0;n<e.length;n++)t.call(r||window,e[n],n,e)},t.map=a,t.mapObject=s,t.filter=function(e,t){t=t||function(e){return!!e};for(var r=[],n=0;n<e.length;n++)t(e[n],n,e,r)&&r.push(e[n]);return r},t.filterObject=u,t.flatten=c,t.any=function(e,t){for(var r=0;r<e.length;r++)if(t(e[r],r,e))return!0;return!1},t.all=function(e,t){for(var r=0;r<e.length;r++)if(!t(e[r],r,e))return!1;return!0},t.encodeParamsObject=l,t.buildQueryString=function(e){return a(c(l(u(e,function(e){return void 0!==e}))),o.default.method("join","=")).join("&")},t.decycleObject=f,t.safeJSONStringify=h},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){return f(c(e))};for(var n=String.fromCharCode,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i={},a=0,s=o.length;a<s;a++)i[o.charAt(a)]=a;var u=function(e){var t=e.charCodeAt(0);return t<128?e:t<2048?n(192|t>>>6)+n(128|63&t):n(224|t>>>12&15)+n(128|t>>>6&63)+n(128|63&t)},c=function(e){return e.replace(/[^\x00-\x7F]/g,u)},l=function(e){var t=[0,2,1][e.length%3],r=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[o.charAt(r>>>18),o.charAt(r>>>12&63),t>=2?"=":o.charAt(r>>>6&63),t>=1?"=":o.charAt(63&r)].join("")},f=window.btoa||function(e){return e.replace(/[\s\S]{1,3}/g,l)}},function(e,t,r){"use strict";var n=r(12),o={now:function(){return Date.now?Date.now():(new Date).valueOf()},defer:function(e){return new n.OneOffTimer(0,e)},method:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Array.prototype.slice.call(arguments,1);return function(t){return t[e].apply(t,n.concat(arguments))}}};t.__esModule=!0,t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(13);function i(e){window.clearTimeout(e)}function a(e){window.clearInterval(e)}var s=function(e){function t(t,r){e.call(this,setTimeout,i,t,function(e){return r(),null})}return n(t,e),t}(o.default);t.OneOffTimer=s;var u=function(e){function t(t,r){e.call(this,setInterval,a,t,function(e){return r(),e})}return n(t,e),t}(o.default);t.PeriodicTimer=u},function(e,t){"use strict";var r=function(){function e(e,t,r,n){var o=this;this.clear=t,this.timer=e(function(){o.timer&&(o.timer=n(o.timer))},r)}return e.prototype.isRunning=function(){return null!==this.timer},e.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},e}();t.__esModule=!0,t.default=r},function(e,t){"use strict";var r={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/authenticating_users"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"}}};t.__esModule=!0,t.default={buildLogSuffix:function(e){var t,n=r.urls[e];return n?(n.fullUrl?t=n.fullUrl:n.path&&(t=r.baseUrl+n.path),t?"See: "+t:""):""}}},function(e,t,r){"use strict";var n=r(8);t.__esModule=!0,t.default=function(e,t,r){void 0!==this.authOptions.headers&&n.default.warn("Warn","To send headers with the auth request, you must use AJAX, rather than JSONP.");var o=e.nextAuthCallbackID.toString();e.nextAuthCallbackID++;var i=e.getDocument(),a=i.createElement("script");e.auth_callbacks[o]=function(e){r(!1,e)};var s="Pusher.auth_callbacks['"+o+"']";a.src=this.options.authEndpoint+"?callback="+encodeURIComponent(s)+"&"+this.composeQuery(t);var u=i.getElementsByTagName("head")[0]||i.documentElement;u.insertBefore(a,u.firstChild)}},function(e,t){"use strict";var r=function(){function e(e){this.src=e}return e.prototype.send=function(e){var t=this,r="Error loading "+t.src;t.script=document.createElement("script"),t.script.id=e.id,t.script.src=t.src,t.script.type="text/javascript",t.script.charset="UTF-8",t.script.addEventListener?(t.script.onerror=function(){e.callback(r)},t.script.onload=function(){e.callback(null)}):t.script.onreadystatechange=function(){"loaded"!==t.script.readyState&&"complete"!==t.script.readyState||e.callback(null)},void 0===t.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(t.errorScript=document.createElement("script"),t.errorScript.id=e.id+"_error",t.errorScript.text=e.name+"('"+r+"');",t.script.async=t.errorScript.async=!1):t.script.async=!0;var n=document.getElementsByTagName("head")[0];n.insertBefore(t.script,n.firstChild),t.errorScript&&n.insertBefore(t.errorScript,t.script.nextSibling)},e.prototype.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},e}();t.__esModule=!0,t.default=r},function(e,t,r){"use strict";var n=r(9),o=r(2),i=function(){function e(e,t){this.url=e,this.data=t}return e.prototype.send=function(e){if(!this.request){var t=n.buildQueryString(this.data),r=this.url+"/"+e.number+"?"+t;this.request=o.default.createScriptRequest(r),this.request.send(e)}},e.prototype.cleanup=function(){this.request&&this.request.cleanup()},e}();t.__esModule=!0,t.default=i},function(e,t,r){"use strict";var n=r(2),o=r(4),i={name:"jsonp",getAgent:function(e,t){return function(r,i){var a="http"+(t?"s":"")+"://"+(e.host||e.options.host)+e.options.path,s=n.default.createJSONPRequest(a,r),u=n.default.ScriptReceivers.create(function(t,r){o.ScriptReceivers.remove(u),s.cleanup(),r&&r.host&&(e.host=r.host),i&&i(t,r)});s.send(u)}}};t.__esModule=!0,t.default=i},function(e,t,r){"use strict";var n=r(20),o=r(22),i=r(21),a=r(2),s=r(3),u=r(9),c=new o.default({file:"sockjs",urls:i.sockjs,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(e,t){return new window.SockJS(e,null,{js_path:s.Dependencies.getPath("sockjs",{useTLS:t.useTLS}),ignore_null_origin:t.ignoreNullOrigin})},beforeOpen:function(e,t){e.send(JSON.stringify({path:t}))}}),l={isSupported:function(e){return a.default.isXDRSupported(e.useTLS)}},f=new o.default(u.extend({},n.streamingConfiguration,l)),h=new o.default(u.extend({},n.pollingConfiguration,l));n.default.xdr_streaming=f,n.default.xdr_polling=h,n.default.sockjs=c,t.__esModule=!0,t.default=n.default},function(e,t,r){"use strict";var n=r(21),o=r(22),i=r(9),a=r(2),s=new o.default({urls:n.ws,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(a.default.getWebSocketAPI())},isSupported:function(){return Boolean(a.default.getWebSocketAPI())},getSocket:function(e){return a.default.createWebSocket(e)}}),u={urls:n.http,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}};t.streamingConfiguration=i.extend({getSocket:function(e){return a.default.HTTPFactory.createStreamingSocket(e)}},u),t.pollingConfiguration=i.extend({getSocket:function(e){return a.default.HTTPFactory.createPollingSocket(e)}},u);var c={isSupported:function(){return a.default.isXHRSupported()}},l={ws:s,xhr_streaming:new o.default(i.extend({},t.streamingConfiguration,c)),xhr_polling:new o.default(i.extend({},t.pollingConfiguration,c))};t.__esModule=!0,t.default=l},function(e,t,r){"use strict";var n=r(5);function o(e,t,r){return e+(t.useTLS?"s":"")+"://"+(t.useTLS?t.hostTLS:t.hostNonTLS)+r}function i(e,t){return"/app/"+e+("?protocol="+n.default.PROTOCOL+"&client=js&version="+n.default.VERSION+(t?"&"+t:""))}t.ws={getInitial:function(e,t){return o("ws",t,(t.httpPath||"")+i(e,"flash=false"))}},t.http={getInitial:function(e,t){return o("http",t,(t.httpPath||"/pusher")+i(e))}},t.sockjs={getInitial:function(e,t){return o("http",t,t.httpPath||"/pusher")},getPath:function(e,t){return i(e)}}},function(e,t,r){"use strict";var n=r(23),o=function(){function e(e){this.hooks=e}return e.prototype.isSupported=function(e){return this.hooks.isSupported(e)},e.prototype.createConnection=function(e,t,r,o){return new n.default(this.hooks,e,t,r,o)},e}();t.__esModule=!0,t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(11),i=r(9),a=r(24),s=r(8),u=r(2),c=function(e){function t(t,r,n,o,i){e.call(this),this.initialize=u.default.transportConnectionInitializer,this.hooks=t,this.name=r,this.priority=n,this.key=o,this.options=i,this.state="new",this.timeline=i.timeline,this.activityTimeout=i.activityTimeout,this.id=this.timeline.generateUniqueID()}return n(t,e),t.prototype.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},t.prototype.supportsPing=function(){return Boolean(this.hooks.supportsPing)},t.prototype.connect=function(){var e=this;if(this.socket||"initialized"!==this.state)return!1;var t=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(t,this.options)}catch(t){return o.default.defer(function(){e.onError(t),e.changeState("closed")}),!1}return this.bindListeners(),s.default.debug("Connecting",{transport:this.name,url:t}),this.changeState("connecting"),!0},t.prototype.close=function(){return!!this.socket&&(this.socket.close(),!0)},t.prototype.send=function(e){var t=this;return"open"===this.state&&(o.default.defer(function(){t.socket&&t.socket.send(e)}),!0)},t.prototype.ping=function(){"open"===this.state&&this.supportsPing()&&this.socket.ping()},t.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},t.prototype.onError=function(e){this.emit("error",{type:"WebSocketError",error:e}),this.timeline.error(this.buildTimelineMessage({error:e.toString()}))},t.prototype.onClose=function(e){e?this.changeState("closed",{code:e.code,reason:e.reason,wasClean:e.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},t.prototype.onMessage=function(e){this.emit("message",e)},t.prototype.onActivity=function(){this.emit("activity")},t.prototype.bindListeners=function(){var e=this;this.socket.onopen=function(){e.onOpen()},this.socket.onerror=function(t){e.onError(t)},this.socket.onclose=function(t){e.onClose(t)},this.socket.onmessage=function(t){e.onMessage(t)},this.supportsPing()&&(this.socket.onactivity=function(){e.onActivity()})},t.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},t.prototype.changeState=function(e,t){this.state=e,this.timeline.info(this.buildTimelineMessage({state:e,params:t})),this.emit(e,t)},t.prototype.buildTimelineMessage=function(e){return i.extend({cid:this.id},e)},t}(a.default);t.__esModule=!0,t.default=c},function(e,t,r){"use strict";var n=r(9),o=r(25),i=function(){function e(e){this.callbacks=new o.default,this.global_callbacks=[],this.failThrough=e}return e.prototype.bind=function(e,t,r){return this.callbacks.add(e,t,r),this},e.prototype.bind_global=function(e){return this.global_callbacks.push(e),this},e.prototype.unbind=function(e,t,r){return this.callbacks.remove(e,t,r),this},e.prototype.unbind_global=function(e){return e?(this.global_callbacks=n.filter(this.global_callbacks||[],function(t){return t!==e}),this):(this.global_callbacks=[],this)},e.prototype.unbind_all=function(){return this.unbind(),this.unbind_global(),this},e.prototype.emit=function(e,t,r){for(var n=0;n<this.global_callbacks.length;n++)this.global_callbacks[n](e,t);var o=this.callbacks.get(e),i=[];if(r?i.push(t,r):t&&i.push(t),o&&o.length>0)for(n=0;n<o.length;n++)o[n].fn.apply(o[n].context||window,i);else this.failThrough&&this.failThrough(e,t);return this},e}();t.__esModule=!0,t.default=i},function(e,t,r){"use strict";var n=r(9),o=function(){function e(){this._callbacks={}}return e.prototype.get=function(e){return this._callbacks[i(e)]},e.prototype.add=function(e,t,r){var n=i(e);this._callbacks[n]=this._callbacks[n]||[],this._callbacks[n].push({fn:t,context:r})},e.prototype.remove=function(e,t,r){if(e||t||r){var o=e?[i(e)]:n.keys(this._callbacks);t||r?this.removeCallback(o,t,r):this.removeAllCallbacks(o)}else this._callbacks={}},e.prototype.removeCallback=function(e,t,r){n.apply(e,function(e){this._callbacks[e]=n.filter(this._callbacks[e]||[],function(e){return t&&t!==e.fn||r&&r!==e.context}),0===this._callbacks[e].length&&delete this._callbacks[e]},this)},e.prototype.removeAllCallbacks=function(e){n.apply(e,function(e){delete this._callbacks[e]},this)},e}();function i(e){return"_"+e}t.__esModule=!0,t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function t(){e.call(this);var t=this;void 0!==window.addEventListener&&(window.addEventListener("online",function(){t.emit("online")},!1),window.addEventListener("offline",function(){t.emit("offline")},!1))}return n(t,e),t.prototype.isOnline=function(){return void 0===window.navigator.onLine||window.navigator.onLine},t}(r(24).default);t.NetInfo=o,t.Network=new o},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){var t;return t=e.useTLS?[":best_connected_ever",":ws_loop",[":delayed",2e3,[":http_fallback_loop"]]]:[":best_connected_ever",":ws_loop",[":delayed",2e3,[":wss_loop"]],[":delayed",5e3,[":http_fallback_loop"]]],[[":def","ws_options",{hostNonTLS:e.wsHost+":"+e.wsPort,hostTLS:e.wsHost+":"+e.wssPort,httpPath:e.wsPath}],[":def","wss_options",[":extend",":ws_options",{useTLS:!0}]],[":def","sockjs_options",{hostNonTLS:e.httpHost+":"+e.httpPort,hostTLS:e.httpHost+":"+e.httpsPort,httpPath:e.httpPath}],[":def","timeouts",{loop:!0,timeout:15e3,timeoutLimit:6e4}],[":def","ws_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:e.activity_timeout}]],[":def","streaming_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:e.activity_timeout}]],[":def_transport","ws","ws",3,":ws_options",":ws_manager"],[":def_transport","wss","ws",3,":wss_options",":ws_manager"],[":def_transport","sockjs","sockjs",1,":sockjs_options"],[":def_transport","xhr_streaming","xhr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xdr_streaming","xdr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xhr_polling","xhr_polling",1,":sockjs_options"],[":def_transport","xdr_polling","xdr_polling",1,":sockjs_options"],[":def","ws_loop",[":sequential",":timeouts",":ws"]],[":def","wss_loop",[":sequential",":timeouts",":wss"]],[":def","sockjs_loop",[":sequential",":timeouts",":sockjs"]],[":def","streaming_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_streaming"],":xhr_streaming",":xdr_streaming"]]],[":def","polling_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_polling"],":xhr_polling",":xdr_polling"]]],[":def","http_loop",[":if",[":is_supported",":streaming_loop"],[":best_connected_ever",":streaming_loop",[":delayed",4e3,[":polling_loop"]]],[":polling_loop"]]],[":def","http_fallback_loop",[":if",[":is_supported",":http_loop"],[":http_loop"],[":sockjs_loop"]]],[":def","strategy",[":cached",18e5,[":first_connected",[":if",[":is_supported",":ws"],t,":http_fallback_loop"]]]]]}},function(e,t,r){"use strict";var n=r(3);t.__esModule=!0,t.default=function(){var e=this;e.timeline.info(e.buildTimelineMessage({transport:e.name+(e.options.useTLS?"s":"")})),e.hooks.isInitialized()?e.changeState("initialized"):e.hooks.file?(e.changeState("initializing"),n.Dependencies.load(e.hooks.file,{useTLS:e.options.useTLS},function(t,r){e.hooks.isInitialized()?(e.changeState("initialized"),r(!0)):(t&&e.onError(t),e.onClose(),r(!1))})):e.onClose()}},function(e,t,r){"use strict";var n=r(30),o=r(32);o.default.createXDR=function(e,t){return this.createRequest(n.default,e,t)},t.__esModule=!0,t.default=o.default},function(e,t,r){"use strict";var n=r(31),o={getRequest:function(e){var t=new window.XDomainRequest;return t.ontimeout=function(){e.emit("error",new n.RequestTimedOut),e.close()},t.onerror=function(t){e.emit("error",t),e.close()},t.onprogress=function(){t.responseText&&t.responseText.length>0&&e.onChunk(200,t.responseText)},t.onload=function(){t.responseText&&t.responseText.length>0&&e.onChunk(200,t.responseText),e.emit("finished",200),e.close()},t},abortRequest:function(e){e.ontimeout=e.onerror=e.onprogress=e.onload=null,e.abort()}};t.__esModule=!0,t.default=o},function(e,t){"use strict";var r=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},n=function(e){function t(){e.apply(this,arguments)}return r(t,e),t}(Error);t.BadEventName=n;var o=function(e){function t(){e.apply(this,arguments)}return r(t,e),t}(Error);t.RequestTimedOut=o;var i=function(e){function t(){e.apply(this,arguments)}return r(t,e),t}(Error);t.TransportPriorityTooLow=i;var a=function(e){function t(){e.apply(this,arguments)}return r(t,e),t}(Error);t.TransportClosed=a;var s=function(e){function t(){e.apply(this,arguments)}return r(t,e),t}(Error);t.UnsupportedFeature=s;var u=function(e){function t(){e.apply(this,arguments)}return r(t,e),t}(Error);t.UnsupportedTransport=u;var c=function(e){function t(){e.apply(this,arguments)}return r(t,e),t}(Error);t.UnsupportedStrategy=c},function(e,t,r){"use strict";var n=r(33),o=r(34),i=r(36),a=r(37),s=r(38),u={createStreamingSocket:function(e){return this.createSocket(i.default,e)},createPollingSocket:function(e){return this.createSocket(a.default,e)},createSocket:function(e,t){return new o.default(e,t)},createXHR:function(e,t){return this.createRequest(s.default,e,t)},createRequest:function(e,t,r){return new n.default(e,t,r)}};t.__esModule=!0,t.default=u},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(2),i=r(24),a=function(e){function t(t,r,n){e.call(this),this.hooks=t,this.method=r,this.url=n}return n(t,e),t.prototype.start=function(e){var t=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){t.close()},o.default.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(e)},t.prototype.close=function(){this.unloader&&(o.default.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},t.prototype.onChunk=function(e,t){for(;;){var r=this.advanceBuffer(t);if(!r)break;this.emit("chunk",{status:e,data:r})}this.isBufferTooLong(t)&&this.emit("buffer_too_long")},t.prototype.advanceBuffer=function(e){var t=e.slice(this.position),r=t.indexOf("\n");return-1!==r?(this.position+=r+1,t.slice(0,r)):null},t.prototype.isBufferTooLong=function(e){return this.position===e.length&&e.length>262144},t}(i.default);t.__esModule=!0,t.default=a},function(e,t,r){"use strict";var n=r(35),o=r(11),i=r(2),a=1,s=function(){function e(e,t){this.hooks=e,this.session=c(1e3)+"/"+function(e){for(var t=[],r=0;r<e;r++)t.push(c(32).toString(32));return t.join("")}(8),this.location=function(e){var t=/([^\?]*)\/*(\??.*)/.exec(e);return{base:t[1],queryString:t[2]}}(t),this.readyState=n.default.CONNECTING,this.openStream()}return e.prototype.send=function(e){return this.sendRaw(JSON.stringify([e]))},e.prototype.ping=function(){this.hooks.sendHeartbeat(this)},e.prototype.close=function(e,t){this.onClose(e,t,!0)},e.prototype.sendRaw=function(e){if(this.readyState!==n.default.OPEN)return!1;try{return i.default.createSocketRequest("POST",u((t=this.location,r=this.session,t.base+"/"+r+"/xhr_send"))).start(e),!0}catch(e){return!1}var t,r},e.prototype.reconnect=function(){this.closeStream(),this.openStream()},e.prototype.onClose=function(e,t,r){this.closeStream(),this.readyState=n.default.CLOSED,this.onclose&&this.onclose({code:e,reason:t,wasClean:r})},e.prototype.onChunk=function(e){var t;if(200===e.status)switch(this.readyState===n.default.OPEN&&this.onActivity(),e.data.slice(0,1)){case"o":t=JSON.parse(e.data.slice(1)||"{}"),this.onOpen(t);break;case"a":t=JSON.parse(e.data.slice(1)||"[]");for(var r=0;r<t.length;r++)this.onEvent(t[r]);break;case"m":t=JSON.parse(e.data.slice(1)||"null"),this.onEvent(t);break;case"h":this.hooks.onHeartbeat(this);break;case"c":t=JSON.parse(e.data.slice(1)||"[]"),this.onClose(t[0],t[1],!0)}},e.prototype.onOpen=function(e){var t,r,o;this.readyState===n.default.CONNECTING?(e&&e.hostname&&(this.location.base=(t=this.location.base,r=e.hostname,(o=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(t))[1]+r+o[3])),this.readyState=n.default.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},e.prototype.onEvent=function(e){this.readyState===n.default.OPEN&&this.onmessage&&this.onmessage({data:e})},e.prototype.onActivity=function(){this.onactivity&&this.onactivity()},e.prototype.onError=function(e){this.onerror&&this.onerror(e)},e.prototype.openStream=function(){var e=this;this.stream=i.default.createSocketRequest("POST",u(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",function(t){e.onChunk(t)}),this.stream.bind("finished",function(t){e.hooks.onFinished(e,t)}),this.stream.bind("buffer_too_long",function(){e.reconnect()});try{this.stream.start()}catch(t){o.default.defer(function(){e.onError(t),e.onClose(1006,"Could not start streaming",!1)})}},e.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},e}();function u(e){var t=-1===e.indexOf("?")?"?":"&";return e+t+"t="+ +new Date+"&n="+a++}function c(e){return Math.floor(Math.random()*e)}t.__esModule=!0,t.default=s},function(e,t){"use strict";var r;!function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSED=3]="CLOSED"}(r||(r={})),t.__esModule=!0,t.default=r},function(e,t){"use strict";t.__esModule=!0,t.default={getReceiveURL:function(e,t){return e.base+"/"+t+"/xhr_streaming"+e.queryString},onHeartbeat:function(e){e.sendRaw("[]")},sendHeartbeat:function(e){e.sendRaw("[]")},onFinished:function(e,t){e.onClose(1006,"Connection interrupted ("+t+")",!1)}}},function(e,t){"use strict";t.__esModule=!0,t.default={getReceiveURL:function(e,t){return e.base+"/"+t+"/xhr"+e.queryString},onHeartbeat:function(){},sendHeartbeat:function(e){e.sendRaw("[]")},onFinished:function(e,t){200===t?e.reconnect():e.onClose(1006,"Connection interrupted ("+t+")",!1)}}},function(e,t,r){"use strict";var n=r(2),o={getRequest:function(e){var t=new(n.default.getXHRAPI());return t.onreadystatechange=t.onprogress=function(){switch(t.readyState){case 3:t.responseText&&t.responseText.length>0&&e.onChunk(t.status,t.responseText);break;case 4:t.responseText&&t.responseText.length>0&&e.onChunk(t.status,t.responseText),e.emit("finished",t.status),e.close()}},t},abortRequest:function(e){e.onreadystatechange=null,e.abort()}};t.__esModule=!0,t.default=o},function(e,t,r){"use strict";var n=r(9),o=r(11),i=r(40),a=function(){function e(e,t,r){this.key=e,this.session=t,this.events=[],this.options=r||{},this.sent=0,this.uniqueID=0}return e.prototype.log=function(e,t){e<=this.options.level&&(this.events.push(n.extend({},t,{timestamp:o.default.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},e.prototype.error=function(e){this.log(i.default.ERROR,e)},e.prototype.info=function(e){this.log(i.default.INFO,e)},e.prototype.debug=function(e){this.log(i.default.DEBUG,e)},e.prototype.isEmpty=function(){return 0===this.events.length},e.prototype.send=function(e,t){var r=this,o=n.extend({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],e(o,function(e,n){e||r.sent++,t&&t(e,n)}),!0},e.prototype.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},e}();t.__esModule=!0,t.default=a},function(e,t){"use strict";var r;!function(e){e[e.ERROR=3]="ERROR",e[e.INFO=6]="INFO",e[e.DEBUG=7]="DEBUG"}(r||(r={})),t.__esModule=!0,t.default=r},function(e,t,r){"use strict";var n=r(9),o=r(11),i=r(42),a=r(31),s=r(64),u=r(65),c=r(66),l=r(67),f=r(68),h=r(69),d=r(70),p=r(2).default.Transports;t.build=function(e,t){return x(e,n.extend({},y,t))[1].strategy};var v={isSupported:function(){return!1},connect:function(e,t){var r=o.default.defer(function(){t(new a.UnsupportedStrategy)});return{abort:function(){r.ensureAborted()},forceMinPriority:function(){}}}};function m(e){return function(t){return[e.apply(this,arguments),t]}}var y={extend:function(e,t,r){return[n.extend({},t,r),e]},def:function(e,t,r){if(void 0!==e[t])throw"Redefining symbol "+t;return e[t]=r,[void 0,e]},def_transport:function(e,t,r,o,i,u){var c,l=p[r];if(!l)throw new a.UnsupportedTransport(r);c=!(e.enabledTransports&&-1===n.arrayIndexOf(e.enabledTransports,t)||e.disabledTransports&&-1!==n.arrayIndexOf(e.disabledTransports,t))?new s.default(t,o,u?u.getAssistant(l):l,n.extend({key:e.key,useTLS:e.useTLS,timeline:e.timeline,ignoreNullOrigin:e.ignoreNullOrigin},i)):v;var f=e.def(e,t,c)[1];return f.Transports=e.Transports||{},f.Transports[t]=c,[void 0,f]},transport_manager:m(function(e,t){return new i.default(t)}),sequential:m(function(e,t){var r=Array.prototype.slice.call(arguments,2);return new u.default(r,t)}),cached:m(function(e,t,r){return new l.default(r,e.Transports,{ttl:t,timeline:e.timeline,useTLS:e.useTLS})}),first_connected:m(function(e,t){return new d.default(t)}),best_connected_ever:m(function(){var e=Array.prototype.slice.call(arguments,1);return new c.default(e)}),delayed:m(function(e,t,r){return new f.default(r,{delay:t})}),if:m(function(e,t,r,n){return new h.default(t,r,n)}),is_supported:m(function(e,t){return function(){return t.isSupported()}})};function g(e){return"string"==typeof e&&":"===e.charAt(0)}function w(e,t){return t[e.slice(1)]}function b(e,t){if(g(e[0])){var r=w(e[0],t);if(e.length>1){if("function"!=typeof r)throw"Calling non-function "+e[0];var o=[n.extend({},t)].concat(n.map(e.slice(1),function(e){return x(e,n.extend({},t))[0]}));return r.apply(this,o)}return[r,t]}return function e(t,r){if(0===t.length)return[[],r];var n=x(t[0],r),o=e(t.slice(1),n[1]);return[[n[0]].concat(o[0]),o[1]]}(e,t)}function x(e,t){return"string"==typeof e?function(e,t){if(!g(e))return[e,t];var r=w(e,t);if(void 0===r)throw"Undefined symbol "+e;return[r,t]}(e,t):"object"==typeof e&&e instanceof Array&&e.length>0?b(e,t):[e,t]}},function(e,t,r){"use strict";var n=r(43),o=function(){function e(e){this.options=e||{},this.livesLeft=this.options.lives||1/0}return e.prototype.getAssistant=function(e){return n.default.createAssistantToTheTransportManager(this,e,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},e.prototype.isAlive=function(){return this.livesLeft>0},e.prototype.reportDeath=function(){this.livesLeft-=1},e}();t.__esModule=!0,t.default=o},function(e,t,r){"use strict";var n=r(44),o=r(45),i=r(48),a=r(49),s=r(50),u=r(51),c=r(54),l=r(52),f=r(62),h=r(63),d={createChannels:function(){return new h.default},createConnectionManager:function(e,t){return new f.default(e,t)},createChannel:function(e,t){return new l.default(e,t)},createPrivateChannel:function(e,t){return new u.default(e,t)},createPresenceChannel:function(e,t){return new s.default(e,t)},createEncryptedChannel:function(e,t){return new c.default(e,t)},createTimelineSender:function(e,t){return new a.default(e,t)},createAuthorizer:function(e,t){return t.authorizer?t.authorizer(e,t):new i.default(e,t)},createHandshake:function(e,t){return new o.default(e,t)},createAssistantToTheTransportManager:function(e,t,r){return new n.default(e,t,r)}};t.__esModule=!0,t.default=d},function(e,t,r){"use strict";var n=r(11),o=r(9),i=function(){function e(e,t,r){this.manager=e,this.transport=t,this.minPingDelay=r.minPingDelay,this.maxPingDelay=r.maxPingDelay,this.pingDelay=void 0}return e.prototype.createConnection=function(e,t,r,i){var a=this;i=o.extend({},i,{activityTimeout:this.pingDelay});var s=this.transport.createConnection(e,t,r,i),u=null,c=function(){s.unbind("open",c),s.bind("closed",l),u=n.default.now()},l=function(e){if(s.unbind("closed",l),1002===e.code||1003===e.code)a.manager.reportDeath();else if(!e.wasClean&&u){var t=n.default.now()-u;t<2*a.maxPingDelay&&(a.manager.reportDeath(),a.pingDelay=Math.max(t/2,a.minPingDelay))}};return s.bind("open",c),s},e.prototype.isSupported=function(e){return this.manager.isAlive()&&this.transport.isSupported(e)},e}();t.__esModule=!0,t.default=i},function(e,t,r){"use strict";var n=r(9),o=r(46),i=r(47),a=function(){function e(e,t){this.transport=e,this.callback=t,this.bindListeners()}return e.prototype.close=function(){this.unbindListeners(),this.transport.close()},e.prototype.bindListeners=function(){var e=this;this.onMessage=function(t){var r;e.unbindListeners();try{r=o.processHandshake(t)}catch(t){return e.finish("error",{error:t}),void e.transport.close()}"connected"===r.action?e.finish("connected",{connection:new i.default(r.id,e.transport),activityTimeout:r.activityTimeout}):(e.finish(r.action,{error:r.error}),e.transport.close())},this.onClosed=function(t){e.unbindListeners();var r=o.getCloseAction(t)||"backoff",n=o.getCloseError(t);e.finish(r,{error:n})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},e.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},e.prototype.finish=function(e,t){this.callback(n.extend({transport:this.transport,action:e},t))},e}();t.__esModule=!0,t.default=a},function(e,t){"use strict";t.decodeMessage=function(e){try{var t=JSON.parse(e.data),r=t.data;if("string"==typeof r)try{r=JSON.parse(t.data)}catch(e){}var n={event:t.event,channel:t.channel,data:r};return t.user_id&&(n.user_id=t.user_id),n}catch(t){throw{type:"MessageParseError",error:t,data:e.data}}},t.encodeMessage=function(e){return JSON.stringify(e)},t.processHandshake=function(e){var r=t.decodeMessage(e);if("pusher:connection_established"===r.event){if(!r.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:r.data.socket_id,activityTimeout:1e3*r.data.activity_timeout}}if("pusher:error"===r.event)return{action:this.getCloseAction(r.data),error:this.getCloseError(r.data)};throw"Invalid handshake"},t.getCloseAction=function(e){return e.code<4e3?e.code>=1002&&e.code<=1004?"backoff":null:4e3===e.code?"tls_only":e.code<4100?"refused":e.code<4200?"backoff":e.code<4300?"retry":"refused"},t.getCloseError=function(e){return 1e3!==e.code&&1001!==e.code?{type:"PusherError",data:{code:e.code,message:e.reason||e.message}}:null}},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(9),i=r(24),a=r(46),s=r(8),u=function(e){function t(t,r){e.call(this),this.id=t,this.transport=r,this.activityTimeout=r.activityTimeout,this.bindListeners()}return n(t,e),t.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},t.prototype.send=function(e){return this.transport.send(e)},t.prototype.send_event=function(e,t,r){var n={event:e,data:t};return r&&(n.channel=r),s.default.debug("Event sent",n),this.send(a.encodeMessage(n))},t.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},t.prototype.close=function(){this.transport.close()},t.prototype.bindListeners=function(){var e=this,t={message:function(t){var r;try{r=a.decodeMessage(t)}catch(r){e.emit("error",{type:"MessageParseError",error:r,data:t.data})}if(void 0!==r){switch(s.default.debug("Event recd",r),r.event){case"pusher:error":e.emit("error",{type:"PusherError",data:r.data});break;case"pusher:ping":e.emit("ping");break;case"pusher:pong":e.emit("pong")}e.emit("message",r)}},activity:function(){e.emit("activity")},error:function(t){e.emit("error",{type:"WebSocketError",error:t})},closed:function(t){r(),t&&t.code&&e.handleCloseEvent(t),e.transport=null,e.emit("closed")}},r=function(){o.objectApply(t,function(t,r){e.transport.unbind(r,t)})};o.objectApply(t,function(t,r){e.transport.bind(r,t)})},t.prototype.handleCloseEvent=function(e){var t=a.getCloseAction(e),r=a.getCloseError(e);r&&this.emit("error",r),t&&this.emit(t,{action:t,error:r})},t}(i.default);t.__esModule=!0,t.default=u},function(e,t,r){"use strict";var n=r(2),o=function(){function e(e,t){this.channel=e;var r=t.authTransport;if(void 0===n.default.getAuthorizers()[r])throw"'"+r+"' is not a recognized auth transport";this.type=r,this.options=t,this.authOptions=(t||{}).auth||{}}return e.prototype.composeQuery=function(e){var t="socket_id="+encodeURIComponent(e)+"&channel_name="+encodeURIComponent(this.channel.name);for(var r in this.authOptions.params)t+="&"+encodeURIComponent(r)+"="+encodeURIComponent(this.authOptions.params[r]);return t},e.prototype.authorize=function(t,r){return e.authorizers=e.authorizers||n.default.getAuthorizers(),e.authorizers[this.type].call(this,n.default,t,r)},e}();t.__esModule=!0,t.default=o},function(e,t,r){"use strict";var n=r(2),o=function(){function e(e,t){this.timeline=e,this.options=t||{}}return e.prototype.send=function(e,t){this.timeline.isEmpty()||this.timeline.send(n.default.TimelineTransport.getAgent(this,e),t)},e}();t.__esModule=!0,t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(51),i=r(8),a=r(53),s=r(14),u=function(e){function t(t,r){e.call(this,t,r),this.members=new a.default}return n(t,e),t.prototype.authorize=function(t,r){var n=this;e.prototype.authorize.call(this,t,function(e,t){if(!e){if(void 0===t.channel_data){var o=s.default.buildLogSuffix("authenticationEndpoint");return i.default.warn("Invalid auth response for channel '"+n.name+"',expected 'channel_data' field. "+o),void r("Invalid auth response")}var a=JSON.parse(t.channel_data);n.members.setMyID(a.user_id)}r(e,t)})},t.prototype.handleEvent=function(e){var t=e.event;if(0===t.indexOf("pusher_internal:"))this.handleInternalEvent(e);else{var r=e.data,n={};e.user_id&&(n.user_id=e.user_id),this.emit(t,r,n)}},t.prototype.handleInternalEvent=function(e){var t=e.event,r=e.data;switch(t){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(e);break;case"pusher_internal:member_added":var n=this.members.addMember(r);this.emit("pusher:member_added",n);break;case"pusher_internal:member_removed":var o=this.members.removeMember(r);o&&this.emit("pusher:member_removed",o)}},t.prototype.handleSubscriptionSucceededEvent=function(e){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(e.data),this.emit("pusher:subscription_succeeded",this.members))},t.prototype.disconnect=function(){this.members.reset(),e.prototype.disconnect.call(this)},t}(o.default);t.__esModule=!0,t.default=u},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(43),i=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.authorize=function(e,t){return o.default.createAuthorizer(this,this.pusher.config).authorize(e,t)},t}(r(52).default);t.__esModule=!0,t.default=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(24),i=r(31),a=r(8),s=r(14),u=function(e){function t(t,r){e.call(this,function(e,r){a.default.debug("No callbacks on "+t+" for "+e)}),this.name=t,this.pusher=r,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}return n(t,e),t.prototype.authorize=function(e,t){return t(!1,{})},t.prototype.trigger=function(e,t){if(0!==e.indexOf("client-"))throw new i.BadEventName("Event '"+e+"' does not start with 'client-'");if(!this.subscribed){var r=s.default.buildLogSuffix("triggeringClientEvents");a.default.warn("Client event triggered before channel 'subscription_succeeded' event . "+r)}return this.pusher.send_event(e,t,this.name)},t.prototype.disconnect=function(){this.subscribed=!1,this.subscriptionPending=!1},t.prototype.handleEvent=function(e){var t=e.event,r=e.data;if("pusher_internal:subscription_succeeded"===t)this.handleSubscriptionSucceededEvent(e);else if(0!==t.indexOf("pusher_internal:")){this.emit(t,r,{})}},t.prototype.handleSubscriptionSucceededEvent=function(e){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",e.data)},t.prototype.subscribe=function(){var e=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,function(t,r){t?e.emit("pusher:subscription_error",r):e.pusher.send_event("pusher:subscribe",{auth:r.auth,channel_data:r.channel_data,channel:e.name})}))},t.prototype.unsubscribe=function(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},t.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},t.prototype.reinstateSubscription=function(){this.subscriptionCancelled=!1},t}(o.default);t.__esModule=!0,t.default=u},function(e,t,r){"use strict";var n=r(9),o=function(){function e(){this.reset()}return e.prototype.get=function(e){return Object.prototype.hasOwnProperty.call(this.members,e)?{id:e,info:this.members[e]}:null},e.prototype.each=function(e){var t=this;n.objectApply(this.members,function(r,n){e(t.get(n))})},e.prototype.setMyID=function(e){this.myID=e},e.prototype.onSubscription=function(e){this.members=e.presence.hash,this.count=e.presence.count,this.me=this.get(this.myID)},e.prototype.addMember=function(e){return null===this.get(e.user_id)&&this.count++,this.members[e.user_id]=e.user_info,this.get(e.user_id)},e.prototype.removeMember=function(e){var t=this.get(e.user_id);return t&&(delete this.members[e.user_id],this.count--),t},e.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},e}();t.__esModule=!0,t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(51),i=r(31),a=r(8),s=r(55),u=r(57),c=function(e){function t(){e.apply(this,arguments),this.key=null}return n(t,e),t.prototype.authorize=function(t,r){var n=this;e.prototype.authorize.call(this,t,function(e,t){if(e)r(!0,t);else{var o=t.shared_secret;if(!o){var i="No shared_secret key in auth payload for encrypted channel: "+n.name;return r(!0,i),void a.default.warn("Error: "+i)}n.key=u.decodeBase64(o),delete t.shared_secret,r(!1,t)}})},t.prototype.trigger=function(e,t){throw new i.UnsupportedFeature("Client events are not currently supported for encrypted channels")},t.prototype.handleEvent=function(t){var r=t.event,n=t.data;0!==r.indexOf("pusher_internal:")&&0!==r.indexOf("pusher:")?this.handleEncryptedEvent(r,n):e.prototype.handleEvent.call(this,t)},t.prototype.handleEncryptedEvent=function(e,t){var r=this;if(this.key)if(t.ciphertext&&t.nonce){var n=u.decodeBase64(t.ciphertext);if(n.length<s.secretbox.overheadLength)a.default.warn("Expected encrypted event ciphertext length to be "+s.secretbox.overheadLength+", got: "+n.length);else{var o=u.decodeBase64(t.nonce);if(o.length<s.secretbox.nonceLength)a.default.warn("Expected encrypted event nonce length to be "+s.secretbox.nonceLength+", got: "+o.length);else{var i=s.secretbox.open(n,o,this.key);if(null===i)return a.default.debug("Failed to decrypted an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),void this.authorize(this.pusher.connection.socket_id,function(t,c){t?a.default.warn("Failed to make a request to the authEndpoint: "+c+". Unable to fetch new key, so dropping encrypted event"):null!==(i=s.secretbox.open(n,o,r.key))?r.emitJSON(e,u.encodeUTF8(i)):a.default.warn("Failed to decrypt event with new key. Dropping encrypted event")});this.emitJSON(e,u.encodeUTF8(i))}}}else a.default.warn("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+t);else a.default.debug("Received encrypted event before key has been retrieved from the authEndpoint")},t.prototype.emitJSON=function(e,t){try{this.emit(e,JSON.parse(t))}catch(r){this.emit(e,t)}return this},t}(o.default);t.__esModule=!0,t.default=c},function(e,t,r){!function(e){"use strict";var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},n=function(){throw new Error("no PRNG")},o=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var a=t(),s=t([1]),u=t([56129,1]),c=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function v(e,t,r,n,o){var i,a=0;for(i=0;i<o;i++)a|=e[t+i]^r[n+i];return(1&a-1>>>8)-1}function m(e,t,r,n){return v(e,t,r,n,16)}function y(e,t,r,n){return v(e,t,r,n,32)}function g(e,t,r,n){!function(e,t,r,n){for(var o,i=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,h=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,v=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,m=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,y=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,g=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,w=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,b=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,x=i,_=a,E=s,O=u,k=c,S=l,A=f,P=h,C=d,R=p,T=v,M=m,j=y,I=g,D=w,N=b,L=0;L<20;L+=2)x^=(o=(j^=(o=(C^=(o=(k^=(o=x+j|0)<<7|o>>>25)+x|0)<<9|o>>>23)+k|0)<<13|o>>>19)+C|0)<<18|o>>>14,S^=(o=(_^=(o=(I^=(o=(R^=(o=S+_|0)<<7|o>>>25)+S|0)<<9|o>>>23)+R|0)<<13|o>>>19)+I|0)<<18|o>>>14,T^=(o=(A^=(o=(E^=(o=(D^=(o=T+A|0)<<7|o>>>25)+T|0)<<9|o>>>23)+D|0)<<13|o>>>19)+E|0)<<18|o>>>14,N^=(o=(M^=(o=(P^=(o=(O^=(o=N+M|0)<<7|o>>>25)+N|0)<<9|o>>>23)+O|0)<<13|o>>>19)+P|0)<<18|o>>>14,x^=(o=(O^=(o=(E^=(o=(_^=(o=x+O|0)<<7|o>>>25)+x|0)<<9|o>>>23)+_|0)<<13|o>>>19)+E|0)<<18|o>>>14,S^=(o=(k^=(o=(P^=(o=(A^=(o=S+k|0)<<7|o>>>25)+S|0)<<9|o>>>23)+A|0)<<13|o>>>19)+P|0)<<18|o>>>14,T^=(o=(R^=(o=(C^=(o=(M^=(o=T+R|0)<<7|o>>>25)+T|0)<<9|o>>>23)+M|0)<<13|o>>>19)+C|0)<<18|o>>>14,N^=(o=(D^=(o=(I^=(o=(j^=(o=N+D|0)<<7|o>>>25)+N|0)<<9|o>>>23)+j|0)<<13|o>>>19)+I|0)<<18|o>>>14;x=x+i|0,_=_+a|0,E=E+s|0,O=O+u|0,k=k+c|0,S=S+l|0,A=A+f|0,P=P+h|0,C=C+d|0,R=R+p|0,T=T+v|0,M=M+m|0,j=j+y|0,I=I+g|0,D=D+w|0,N=N+b|0,e[0]=x>>>0&255,e[1]=x>>>8&255,e[2]=x>>>16&255,e[3]=x>>>24&255,e[4]=_>>>0&255,e[5]=_>>>8&255,e[6]=_>>>16&255,e[7]=_>>>24&255,e[8]=E>>>0&255,e[9]=E>>>8&255,e[10]=E>>>16&255,e[11]=E>>>24&255,e[12]=O>>>0&255,e[13]=O>>>8&255,e[14]=O>>>16&255,e[15]=O>>>24&255,e[16]=k>>>0&255,e[17]=k>>>8&255,e[18]=k>>>16&255,e[19]=k>>>24&255,e[20]=S>>>0&255,e[21]=S>>>8&255,e[22]=S>>>16&255,e[23]=S>>>24&255,e[24]=A>>>0&255,e[25]=A>>>8&255,e[26]=A>>>16&255,e[27]=A>>>24&255,e[28]=P>>>0&255,e[29]=P>>>8&255,e[30]=P>>>16&255,e[31]=P>>>24&255,e[32]=C>>>0&255,e[33]=C>>>8&255,e[34]=C>>>16&255,e[35]=C>>>24&255,e[36]=R>>>0&255,e[37]=R>>>8&255,e[38]=R>>>16&255,e[39]=R>>>24&255,e[40]=T>>>0&255,e[41]=T>>>8&255,e[42]=T>>>16&255,e[43]=T>>>24&255,e[44]=M>>>0&255,e[45]=M>>>8&255,e[46]=M>>>16&255,e[47]=M>>>24&255,e[48]=j>>>0&255,e[49]=j>>>8&255,e[50]=j>>>16&255,e[51]=j>>>24&255,e[52]=I>>>0&255,e[53]=I>>>8&255,e[54]=I>>>16&255,e[55]=I>>>24&255,e[56]=D>>>0&255,e[57]=D>>>8&255,e[58]=D>>>16&255,e[59]=D>>>24&255,e[60]=N>>>0&255,e[61]=N>>>8&255,e[62]=N>>>16&255,e[63]=N>>>24&255}(e,t,r,n)}function w(e,t,r,n){!function(e,t,r,n){for(var o,i=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,h=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,v=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,m=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,y=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,g=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,w=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,b=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,x=0;x<20;x+=2)i^=(o=(y^=(o=(d^=(o=(c^=(o=i+y|0)<<7|o>>>25)+i|0)<<9|o>>>23)+c|0)<<13|o>>>19)+d|0)<<18|o>>>14,l^=(o=(a^=(o=(g^=(o=(p^=(o=l+a|0)<<7|o>>>25)+l|0)<<9|o>>>23)+p|0)<<13|o>>>19)+g|0)<<18|o>>>14,v^=(o=(f^=(o=(s^=(o=(w^=(o=v+f|0)<<7|o>>>25)+v|0)<<9|o>>>23)+w|0)<<13|o>>>19)+s|0)<<18|o>>>14,b^=(o=(m^=(o=(h^=(o=(u^=(o=b+m|0)<<7|o>>>25)+b|0)<<9|o>>>23)+u|0)<<13|o>>>19)+h|0)<<18|o>>>14,i^=(o=(u^=(o=(s^=(o=(a^=(o=i+u|0)<<7|o>>>25)+i|0)<<9|o>>>23)+a|0)<<13|o>>>19)+s|0)<<18|o>>>14,l^=(o=(c^=(o=(h^=(o=(f^=(o=l+c|0)<<7|o>>>25)+l|0)<<9|o>>>23)+f|0)<<13|o>>>19)+h|0)<<18|o>>>14,v^=(o=(p^=(o=(d^=(o=(m^=(o=v+p|0)<<7|o>>>25)+v|0)<<9|o>>>23)+m|0)<<13|o>>>19)+d|0)<<18|o>>>14,b^=(o=(w^=(o=(g^=(o=(y^=(o=b+w|0)<<7|o>>>25)+b|0)<<9|o>>>23)+y|0)<<13|o>>>19)+g|0)<<18|o>>>14;e[0]=i>>>0&255,e[1]=i>>>8&255,e[2]=i>>>16&255,e[3]=i>>>24&255,e[4]=l>>>0&255,e[5]=l>>>8&255,e[6]=l>>>16&255,e[7]=l>>>24&255,e[8]=v>>>0&255,e[9]=v>>>8&255,e[10]=v>>>16&255,e[11]=v>>>24&255,e[12]=b>>>0&255,e[13]=b>>>8&255,e[14]=b>>>16&255,e[15]=b>>>24&255,e[16]=f>>>0&255,e[17]=f>>>8&255,e[18]=f>>>16&255,e[19]=f>>>24&255,e[20]=h>>>0&255,e[21]=h>>>8&255,e[22]=h>>>16&255,e[23]=h>>>24&255,e[24]=d>>>0&255,e[25]=d>>>8&255,e[26]=d>>>16&255,e[27]=d>>>24&255,e[28]=p>>>0&255,e[29]=p>>>8&255,e[30]=p>>>16&255,e[31]=p>>>24&255}(e,t,r,n)}var b=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function x(e,t,r,n,o,i,a){var s,u,c=new Uint8Array(16),l=new Uint8Array(64);for(u=0;u<16;u++)c[u]=0;for(u=0;u<8;u++)c[u]=i[u];for(;o>=64;){for(g(l,c,a,b),u=0;u<64;u++)e[t+u]=r[n+u]^l[u];for(s=1,u=8;u<16;u++)s=s+(255&c[u])|0,c[u]=255&s,s>>>=8;o-=64,t+=64,n+=64}if(o>0)for(g(l,c,a,b),u=0;u<o;u++)e[t+u]=r[n+u]^l[u];return 0}function _(e,t,r,n,o){var i,a,s=new Uint8Array(16),u=new Uint8Array(64);for(a=0;a<16;a++)s[a]=0;for(a=0;a<8;a++)s[a]=n[a];for(;r>=64;){for(g(u,s,o,b),a=0;a<64;a++)e[t+a]=u[a];for(i=1,a=8;a<16;a++)i=i+(255&s[a])|0,s[a]=255&i,i>>>=8;r-=64,t+=64}if(r>0)for(g(u,s,o,b),a=0;a<r;a++)e[t+a]=u[a];return 0}function E(e,t,r,n,o){var i=new Uint8Array(32);w(i,n,o,b);for(var a=new Uint8Array(8),s=0;s<8;s++)a[s]=n[s+16];return _(e,t,r,a,i)}function O(e,t,r,n,o,i,a){var s=new Uint8Array(32);w(s,i,a,b);for(var u=new Uint8Array(8),c=0;c<8;c++)u[c]=i[c+16];return x(e,t,r,n,o,u,s)}var k=function(e){var t,r,n,o,i,a,s,u;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),n=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|n<<6),o=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(n>>>7|o<<9),i=255&e[8]|(255&e[9])<<8,this.r[4]=255&(o>>>4|i<<12),this.r[5]=i>>>1&8190,a=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(i>>>14|a<<2),s=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(a>>>11|s<<5),u=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(s>>>8|u<<8),this.r[9]=u>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function S(e,t,r,n,o,i){var a=new k(i);return a.update(r,n,o),a.finish(e,t),0}function A(e,t,r,n,o,i){var a=new Uint8Array(16);return S(a,0,r,n,o,i),m(e,t,a,0)}function P(e,t,r,n,o){var i;if(r<32)return-1;for(O(e,0,t,0,r,n,o),S(e,16,e,32,r-32,e),i=0;i<16;i++)e[i]=0;return 0}function C(e,t,r,n,o){var i,a=new Uint8Array(32);if(r<32)return-1;if(E(a,0,32,n,o),0!==A(t,16,t,32,r-32,a))return-1;for(O(e,0,t,0,r,n,o),i=0;i<32;i++)e[i]=0;return 0}function R(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function T(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function M(e,t,r){for(var n,o=~(r-1),i=0;i<16;i++)n=o&(e[i]^t[i]),e[i]^=n,t[i]^=n}function j(e,r){var n,o,i,a=t(),s=t();for(n=0;n<16;n++)s[n]=r[n];for(T(s),T(s),T(s),o=0;o<2;o++){for(a[0]=s[0]-65517,n=1;n<15;n++)a[n]=s[n]-65535-(a[n-1]>>16&1),a[n-1]&=65535;a[15]=s[15]-32767-(a[14]>>16&1),i=a[15]>>16&1,a[14]&=65535,M(s,a,1-i)}for(n=0;n<16;n++)e[2*n]=255&s[n],e[2*n+1]=s[n]>>8}function I(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return j(r,e),j(n,t),y(r,0,n,0)}function D(e){var t=new Uint8Array(32);return j(t,e),1&t[0]}function N(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function L(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function F(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function U(e,t,r){var n,o,i=0,a=0,s=0,u=0,c=0,l=0,f=0,h=0,d=0,p=0,v=0,m=0,y=0,g=0,w=0,b=0,x=0,_=0,E=0,O=0,k=0,S=0,A=0,P=0,C=0,R=0,T=0,M=0,j=0,I=0,D=0,N=r[0],L=r[1],F=r[2],U=r[3],$=r[4],B=r[5],z=r[6],q=r[7],Y=r[8],H=r[9],J=r[10],V=r[11],W=r[12],K=r[13],G=r[14],X=r[15];i+=(n=t[0])*N,a+=n*L,s+=n*F,u+=n*U,c+=n*$,l+=n*B,f+=n*z,h+=n*q,d+=n*Y,p+=n*H,v+=n*J,m+=n*V,y+=n*W,g+=n*K,w+=n*G,b+=n*X,a+=(n=t[1])*N,s+=n*L,u+=n*F,c+=n*U,l+=n*$,f+=n*B,h+=n*z,d+=n*q,p+=n*Y,v+=n*H,m+=n*J,y+=n*V,g+=n*W,w+=n*K,b+=n*G,x+=n*X,s+=(n=t[2])*N,u+=n*L,c+=n*F,l+=n*U,f+=n*$,h+=n*B,d+=n*z,p+=n*q,v+=n*Y,m+=n*H,y+=n*J,g+=n*V,w+=n*W,b+=n*K,x+=n*G,_+=n*X,u+=(n=t[3])*N,c+=n*L,l+=n*F,f+=n*U,h+=n*$,d+=n*B,p+=n*z,v+=n*q,m+=n*Y,y+=n*H,g+=n*J,w+=n*V,b+=n*W,x+=n*K,_+=n*G,E+=n*X,c+=(n=t[4])*N,l+=n*L,f+=n*F,h+=n*U,d+=n*$,p+=n*B,v+=n*z,m+=n*q,y+=n*Y,g+=n*H,w+=n*J,b+=n*V,x+=n*W,_+=n*K,E+=n*G,O+=n*X,l+=(n=t[5])*N,f+=n*L,h+=n*F,d+=n*U,p+=n*$,v+=n*B,m+=n*z,y+=n*q,g+=n*Y,w+=n*H,b+=n*J,x+=n*V,_+=n*W,E+=n*K,O+=n*G,k+=n*X,f+=(n=t[6])*N,h+=n*L,d+=n*F,p+=n*U,v+=n*$,m+=n*B,y+=n*z,g+=n*q,w+=n*Y,b+=n*H,x+=n*J,_+=n*V,E+=n*W,O+=n*K,k+=n*G,S+=n*X,h+=(n=t[7])*N,d+=n*L,p+=n*F,v+=n*U,m+=n*$,y+=n*B,g+=n*z,w+=n*q,b+=n*Y,x+=n*H,_+=n*J,E+=n*V,O+=n*W,k+=n*K,S+=n*G,A+=n*X,d+=(n=t[8])*N,p+=n*L,v+=n*F,m+=n*U,y+=n*$,g+=n*B,w+=n*z,b+=n*q,x+=n*Y,_+=n*H,E+=n*J,O+=n*V,k+=n*W,S+=n*K,A+=n*G,P+=n*X,p+=(n=t[9])*N,v+=n*L,m+=n*F,y+=n*U,g+=n*$,w+=n*B,b+=n*z,x+=n*q,_+=n*Y,E+=n*H,O+=n*J,k+=n*V,S+=n*W,A+=n*K,P+=n*G,C+=n*X,v+=(n=t[10])*N,m+=n*L,y+=n*F,g+=n*U,w+=n*$,b+=n*B,x+=n*z,_+=n*q,E+=n*Y,O+=n*H,k+=n*J,S+=n*V,A+=n*W,P+=n*K,C+=n*G,R+=n*X,m+=(n=t[11])*N,y+=n*L,g+=n*F,w+=n*U,b+=n*$,x+=n*B,_+=n*z,E+=n*q,O+=n*Y,k+=n*H,S+=n*J,A+=n*V,P+=n*W,C+=n*K,R+=n*G,T+=n*X,y+=(n=t[12])*N,g+=n*L,w+=n*F,b+=n*U,x+=n*$,_+=n*B,E+=n*z,O+=n*q,k+=n*Y,S+=n*H,A+=n*J,P+=n*V,C+=n*W,R+=n*K,T+=n*G,M+=n*X,g+=(n=t[13])*N,w+=n*L,b+=n*F,x+=n*U,_+=n*$,E+=n*B,O+=n*z,k+=n*q,S+=n*Y,A+=n*H,P+=n*J,C+=n*V,R+=n*W,T+=n*K,M+=n*G,j+=n*X,w+=(n=t[14])*N,b+=n*L,x+=n*F,_+=n*U,E+=n*$,O+=n*B,k+=n*z,S+=n*q,A+=n*Y,P+=n*H,C+=n*J,R+=n*V,T+=n*W,M+=n*K,j+=n*G,I+=n*X,b+=(n=t[15])*N,a+=38*(_+=n*F),s+=38*(E+=n*U),u+=38*(O+=n*$),c+=38*(k+=n*B),l+=38*(S+=n*z),f+=38*(A+=n*q),h+=38*(P+=n*Y),d+=38*(C+=n*H),p+=38*(R+=n*J),v+=38*(T+=n*V),m+=38*(M+=n*W),y+=38*(j+=n*K),g+=38*(I+=n*G),w+=38*(D+=n*X),i=(n=(i+=38*(x+=n*L))+(o=1)+65535)-65536*(o=Math.floor(n/65536)),a=(n=a+o+65535)-65536*(o=Math.floor(n/65536)),s=(n=s+o+65535)-65536*(o=Math.floor(n/65536)),u=(n=u+o+65535)-65536*(o=Math.floor(n/65536)),c=(n=c+o+65535)-65536*(o=Math.floor(n/65536)),l=(n=l+o+65535)-65536*(o=Math.floor(n/65536)),f=(n=f+o+65535)-65536*(o=Math.floor(n/65536)),h=(n=h+o+65535)-65536*(o=Math.floor(n/65536)),d=(n=d+o+65535)-65536*(o=Math.floor(n/65536)),p=(n=p+o+65535)-65536*(o=Math.floor(n/65536)),v=(n=v+o+65535)-65536*(o=Math.floor(n/65536)),m=(n=m+o+65535)-65536*(o=Math.floor(n/65536)),y=(n=y+o+65535)-65536*(o=Math.floor(n/65536)),g=(n=g+o+65535)-65536*(o=Math.floor(n/65536)),w=(n=w+o+65535)-65536*(o=Math.floor(n/65536)),b=(n=b+o+65535)-65536*(o=Math.floor(n/65536)),i=(n=(i+=o-1+37*(o-1))+(o=1)+65535)-65536*(o=Math.floor(n/65536)),a=(n=a+o+65535)-65536*(o=Math.floor(n/65536)),s=(n=s+o+65535)-65536*(o=Math.floor(n/65536)),u=(n=u+o+65535)-65536*(o=Math.floor(n/65536)),c=(n=c+o+65535)-65536*(o=Math.floor(n/65536)),l=(n=l+o+65535)-65536*(o=Math.floor(n/65536)),f=(n=f+o+65535)-65536*(o=Math.floor(n/65536)),h=(n=h+o+65535)-65536*(o=Math.floor(n/65536)),d=(n=d+o+65535)-65536*(o=Math.floor(n/65536)),p=(n=p+o+65535)-65536*(o=Math.floor(n/65536)),v=(n=v+o+65535)-65536*(o=Math.floor(n/65536)),m=(n=m+o+65535)-65536*(o=Math.floor(n/65536)),y=(n=y+o+65535)-65536*(o=Math.floor(n/65536)),g=(n=g+o+65535)-65536*(o=Math.floor(n/65536)),w=(n=w+o+65535)-65536*(o=Math.floor(n/65536)),b=(n=b+o+65535)-65536*(o=Math.floor(n/65536)),i+=o-1+37*(o-1),e[0]=i,e[1]=a,e[2]=s,e[3]=u,e[4]=c,e[5]=l,e[6]=f,e[7]=h,e[8]=d,e[9]=p,e[10]=v,e[11]=m,e[12]=y,e[13]=g,e[14]=w,e[15]=b}function $(e,t){U(e,t,t)}function B(e,r){var n,o=t();for(n=0;n<16;n++)o[n]=r[n];for(n=253;n>=0;n--)$(o,o),2!==n&&4!==n&&U(o,o,r);for(n=0;n<16;n++)e[n]=o[n]}function z(e,r,n){var o,i,a=new Uint8Array(32),s=new Float64Array(80),c=t(),l=t(),f=t(),h=t(),d=t(),p=t();for(i=0;i<31;i++)a[i]=r[i];for(a[31]=127&r[31]|64,a[0]&=248,N(s,n),i=0;i<16;i++)l[i]=s[i],h[i]=c[i]=f[i]=0;for(c[0]=h[0]=1,i=254;i>=0;--i)M(c,l,o=a[i>>>3]>>>(7&i)&1),M(f,h,o),L(d,c,f),F(c,c,f),L(f,l,h),F(l,l,h),$(h,d),$(p,c),U(c,f,c),U(f,l,d),L(d,c,f),F(c,c,f),$(l,c),F(f,h,p),U(c,f,u),L(c,c,h),U(f,f,c),U(c,h,p),U(h,l,s),$(l,d),M(c,l,o),M(f,h,o);for(i=0;i<16;i++)s[i+16]=c[i],s[i+32]=f[i],s[i+48]=l[i],s[i+64]=h[i];var v=s.subarray(32),m=s.subarray(16);return B(v,v),U(m,m,v),j(e,m),0}function q(e,t){return z(e,t,i)}function Y(e,t){return n(t,32),q(e,t)}function H(e,t,r){var n=new Uint8Array(32);return z(n,r,t),w(e,o,n,b)}k.prototype.blocks=function(e,t,r){for(var n,o,i,a,s,u,c,l,f,h,d,p,v,m,y,g,w,b,x,_=this.fin?0:2048,E=this.h[0],O=this.h[1],k=this.h[2],S=this.h[3],A=this.h[4],P=this.h[5],C=this.h[6],R=this.h[7],T=this.h[8],M=this.h[9],j=this.r[0],I=this.r[1],D=this.r[2],N=this.r[3],L=this.r[4],F=this.r[5],U=this.r[6],$=this.r[7],B=this.r[8],z=this.r[9];r>=16;)h=f=0,h+=(E+=8191&(n=255&e[t+0]|(255&e[t+1])<<8))*j,h+=(O+=8191&(n>>>13|(o=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*z),h+=(k+=8191&(o>>>10|(i=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*B),h+=(S+=8191&(i>>>7|(a=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*$),f=(h+=(A+=8191&(a>>>4|(s=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*U))>>>13,h&=8191,h+=(P+=s>>>1&8191)*(5*F),h+=(C+=8191&(s>>>14|(u=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*L),h+=(R+=8191&(u>>>11|(c=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*N),h+=(T+=8191&(c>>>8|(l=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*D),d=f+=(h+=(M+=l>>>5|_)*(5*I))>>>13,d+=E*I,d+=O*j,d+=k*(5*z),d+=S*(5*B),f=(d+=A*(5*$))>>>13,d&=8191,d+=P*(5*U),d+=C*(5*F),d+=R*(5*L),d+=T*(5*N),f+=(d+=M*(5*D))>>>13,d&=8191,p=f,p+=E*D,p+=O*I,p+=k*j,p+=S*(5*z),f=(p+=A*(5*B))>>>13,p&=8191,p+=P*(5*$),p+=C*(5*U),p+=R*(5*F),p+=T*(5*L),v=f+=(p+=M*(5*N))>>>13,v+=E*N,v+=O*D,v+=k*I,v+=S*j,f=(v+=A*(5*z))>>>13,v&=8191,v+=P*(5*B),v+=C*(5*$),v+=R*(5*U),v+=T*(5*F),m=f+=(v+=M*(5*L))>>>13,m+=E*L,m+=O*N,m+=k*D,m+=S*I,f=(m+=A*j)>>>13,m&=8191,m+=P*(5*z),m+=C*(5*B),m+=R*(5*$),m+=T*(5*U),y=f+=(m+=M*(5*F))>>>13,y+=E*F,y+=O*L,y+=k*N,y+=S*D,f=(y+=A*I)>>>13,y&=8191,y+=P*j,y+=C*(5*z),y+=R*(5*B),y+=T*(5*$),g=f+=(y+=M*(5*U))>>>13,g+=E*U,g+=O*F,g+=k*L,g+=S*N,f=(g+=A*D)>>>13,g&=8191,g+=P*I,g+=C*j,g+=R*(5*z),g+=T*(5*B),w=f+=(g+=M*(5*$))>>>13,w+=E*$,w+=O*U,w+=k*F,w+=S*L,f=(w+=A*N)>>>13,w&=8191,w+=P*D,w+=C*I,w+=R*j,w+=T*(5*z),b=f+=(w+=M*(5*B))>>>13,b+=E*B,b+=O*$,b+=k*U,b+=S*F,f=(b+=A*L)>>>13,b&=8191,b+=P*N,b+=C*D,b+=R*I,b+=T*j,x=f+=(b+=M*(5*z))>>>13,x+=E*z,x+=O*B,x+=k*$,x+=S*U,f=(x+=A*F)>>>13,x&=8191,x+=P*L,x+=C*N,x+=R*D,x+=T*I,E=h=8191&(f=(f=((f+=(x+=M*j)>>>13)<<2)+f|0)+(h&=8191)|0),O=d+=f>>>=13,k=p&=8191,S=v&=8191,A=m&=8191,P=y&=8191,C=g&=8191,R=w&=8191,T=b&=8191,M=x&=8191,t+=16,r-=16;this.h[0]=E,this.h[1]=O,this.h[2]=k,this.h[3]=S,this.h[4]=A,this.h[5]=P,this.h[6]=C,this.h[7]=R,this.h[8]=T,this.h[9]=M},k.prototype.finish=function(e,t){var r,n,o,i,a=new Uint16Array(10);if(this.leftover){for(i=this.leftover,this.buffer[i++]=1;i<16;i++)this.buffer[i]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,i=2;i<10;i++)this.h[i]+=r,r=this.h[i]>>>13,this.h[i]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,a[0]=this.h[0]+5,r=a[0]>>>13,a[0]&=8191,i=1;i<10;i++)a[i]=this.h[i]+r,r=a[i]>>>13,a[i]&=8191;for(a[9]-=8192,n=(1^r)-1,i=0;i<10;i++)a[i]&=n;for(n=~n,i=0;i<10;i++)this.h[i]=this.h[i]&n|a[i];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),o=this.h[0]+this.pad[0],this.h[0]=65535&o,i=1;i<8;i++)o=(this.h[i]+this.pad[i]|0)+(o>>>16)|0,this.h[i]=65535&o;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},k.prototype.update=function(e,t,r){var n,o;if(this.leftover){for((o=16-this.leftover)>r&&(o=r),n=0;n<o;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=o,t+=o,this.leftover+=o,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(o=r-r%16,this.blocks(e,t,o),t+=o,r-=o),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var J=P,V=C;var W=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function K(e,t,r,n){for(var o,i,a,s,u,c,l,f,h,d,p,v,m,y,g,w,b,x,_,E,O,k,S,A,P,C,R=new Int32Array(16),T=new Int32Array(16),M=e[0],j=e[1],I=e[2],D=e[3],N=e[4],L=e[5],F=e[6],U=e[7],$=t[0],B=t[1],z=t[2],q=t[3],Y=t[4],H=t[5],J=t[6],V=t[7],K=0;n>=128;){for(_=0;_<16;_++)E=8*_+K,R[_]=r[E+0]<<24|r[E+1]<<16|r[E+2]<<8|r[E+3],T[_]=r[E+4]<<24|r[E+5]<<16|r[E+6]<<8|r[E+7];for(_=0;_<80;_++)if(o=M,i=j,a=I,s=D,u=N,c=L,l=F,U,h=$,d=B,p=z,v=q,m=Y,y=H,g=J,V,S=65535&(k=V),A=k>>>16,P=65535&(O=U),C=O>>>16,S+=65535&(k=(Y>>>14|N<<18)^(Y>>>18|N<<14)^(N>>>9|Y<<23)),A+=k>>>16,P+=65535&(O=(N>>>14|Y<<18)^(N>>>18|Y<<14)^(Y>>>9|N<<23)),C+=O>>>16,S+=65535&(k=Y&H^~Y&J),A+=k>>>16,P+=65535&(O=N&L^~N&F),C+=O>>>16,O=W[2*_],S+=65535&(k=W[2*_+1]),A+=k>>>16,P+=65535&O,C+=O>>>16,O=R[_%16],A+=(k=T[_%16])>>>16,P+=65535&O,C+=O>>>16,P+=(A+=(S+=65535&k)>>>16)>>>16,S=65535&(k=x=65535&S|A<<16),A=k>>>16,P=65535&(O=b=65535&P|(C+=P>>>16)<<16),C=O>>>16,S+=65535&(k=($>>>28|M<<4)^(M>>>2|$<<30)^(M>>>7|$<<25)),A+=k>>>16,P+=65535&(O=(M>>>28|$<<4)^($>>>2|M<<30)^($>>>7|M<<25)),C+=O>>>16,A+=(k=$&B^$&z^B&z)>>>16,P+=65535&(O=M&j^M&I^j&I),C+=O>>>16,f=65535&(P+=(A+=(S+=65535&k)>>>16)>>>16)|(C+=P>>>16)<<16,w=65535&S|A<<16,S=65535&(k=v),A=k>>>16,P=65535&(O=s),C=O>>>16,A+=(k=x)>>>16,P+=65535&(O=b),C+=O>>>16,j=o,I=i,D=a,N=s=65535&(P+=(A+=(S+=65535&k)>>>16)>>>16)|(C+=P>>>16)<<16,L=u,F=c,U=l,M=f,B=h,z=d,q=p,Y=v=65535&S|A<<16,H=m,J=y,V=g,$=w,_%16==15)for(E=0;E<16;E++)O=R[E],S=65535&(k=T[E]),A=k>>>16,P=65535&O,C=O>>>16,O=R[(E+9)%16],S+=65535&(k=T[(E+9)%16]),A+=k>>>16,P+=65535&O,C+=O>>>16,b=R[(E+1)%16],S+=65535&(k=((x=T[(E+1)%16])>>>1|b<<31)^(x>>>8|b<<24)^(x>>>7|b<<25)),A+=k>>>16,P+=65535&(O=(b>>>1|x<<31)^(b>>>8|x<<24)^b>>>7),C+=O>>>16,b=R[(E+14)%16],A+=(k=((x=T[(E+14)%16])>>>19|b<<13)^(b>>>29|x<<3)^(x>>>6|b<<26))>>>16,P+=65535&(O=(b>>>19|x<<13)^(x>>>29|b<<3)^b>>>6),C+=O>>>16,C+=(P+=(A+=(S+=65535&k)>>>16)>>>16)>>>16,R[E]=65535&P|C<<16,T[E]=65535&S|A<<16;S=65535&(k=$),A=k>>>16,P=65535&(O=M),C=O>>>16,O=e[0],A+=(k=t[0])>>>16,P+=65535&O,C+=O>>>16,C+=(P+=(A+=(S+=65535&k)>>>16)>>>16)>>>16,e[0]=M=65535&P|C<<16,t[0]=$=65535&S|A<<16,S=65535&(k=B),A=k>>>16,P=65535&(O=j),C=O>>>16,O=e[1],A+=(k=t[1])>>>16,P+=65535&O,C+=O>>>16,C+=(P+=(A+=(S+=65535&k)>>>16)>>>16)>>>16,e[1]=j=65535&P|C<<16,t[1]=B=65535&S|A<<16,S=65535&(k=z),A=k>>>16,P=65535&(O=I),C=O>>>16,O=e[2],A+=(k=t[2])>>>16,P+=65535&O,C+=O>>>16,C+=(P+=(A+=(S+=65535&k)>>>16)>>>16)>>>16,e[2]=I=65535&P|C<<16,t[2]=z=65535&S|A<<16,S=65535&(k=q),A=k>>>16,P=65535&(O=D),C=O>>>16,O=e[3],A+=(k=t[3])>>>16,P+=65535&O,C+=O>>>16,C+=(P+=(A+=(S+=65535&k)>>>16)>>>16)>>>16,e[3]=D=65535&P|C<<16,t[3]=q=65535&S|A<<16,S=65535&(k=Y),A=k>>>16,P=65535&(O=N),C=O>>>16,O=e[4],A+=(k=t[4])>>>16,P+=65535&O,C+=O>>>16,C+=(P+=(A+=(S+=65535&k)>>>16)>>>16)>>>16,e[4]=N=65535&P|C<<16,t[4]=Y=65535&S|A<<16,S=65535&(k=H),A=k>>>16,P=65535&(O=L),C=O>>>16,O=e[5],A+=(k=t[5])>>>16,P+=65535&O,C+=O>>>16,C+=(P+=(A+=(S+=65535&k)>>>16)>>>16)>>>16,e[5]=L=65535&P|C<<16,t[5]=H=65535&S|A<<16,S=65535&(k=J),A=k>>>16,P=65535&(O=F),C=O>>>16,O=e[6],A+=(k=t[6])>>>16,P+=65535&O,C+=O>>>16,C+=(P+=(A+=(S+=65535&k)>>>16)>>>16)>>>16,e[6]=F=65535&P|C<<16,t[6]=J=65535&S|A<<16,S=65535&(k=V),A=k>>>16,P=65535&(O=U),C=O>>>16,O=e[7],A+=(k=t[7])>>>16,P+=65535&O,C+=O>>>16,C+=(P+=(A+=(S+=65535&k)>>>16)>>>16)>>>16,e[7]=U=65535&P|C<<16,t[7]=V=65535&S|A<<16,K+=128,n-=128}return n}function G(e,t,r){var n,o=new Int32Array(8),i=new Int32Array(8),a=new Uint8Array(256),s=r;for(o[0]=1779033703,o[1]=3144134277,o[2]=1013904242,o[3]=2773480762,o[4]=1359893119,o[5]=2600822924,o[6]=528734635,o[7]=1541459225,i[0]=4089235720,i[1]=2227873595,i[2]=4271175723,i[3]=1595750129,i[4]=2917565137,i[5]=725511199,i[6]=4215389547,i[7]=327033209,K(o,i,t,r),r%=128,n=0;n<r;n++)a[n]=t[s-r+n];for(a[r]=128,a[(r=256-128*(r<112?1:0))-9]=0,p(a,r-8,s/536870912|0,s<<3),K(o,i,a,r),n=0;n<8;n++)p(e,8*n,o[n],i[n]);return 0}function X(e,r){var n=t(),o=t(),i=t(),a=t(),s=t(),u=t(),c=t(),f=t(),h=t();F(n,e[1],e[0]),F(h,r[1],r[0]),U(n,n,h),L(o,e[0],e[1]),L(h,r[0],r[1]),U(o,o,h),U(i,e[3],r[3]),U(i,i,l),U(a,e[2],r[2]),L(a,a,a),F(s,o,n),F(u,a,i),L(c,a,i),L(f,o,n),U(e[0],s,u),U(e[1],f,c),U(e[2],c,u),U(e[3],s,f)}function Q(e,t,r){var n;for(n=0;n<4;n++)M(e[n],t[n],r)}function Z(e,r){var n=t(),o=t(),i=t();B(i,r[2]),U(n,r[0],i),U(o,r[1],i),j(e,o),e[31]^=D(n)<<7}function ee(e,t,r){var n,o;for(R(e[0],a),R(e[1],s),R(e[2],s),R(e[3],a),o=255;o>=0;--o)Q(e,t,n=r[o/8|0]>>(7&o)&1),X(t,e),X(e,e),Q(e,t,n)}function te(e,r){var n=[t(),t(),t(),t()];R(n[0],f),R(n[1],h),R(n[2],s),U(n[3],f,h),ee(e,n,r)}function re(e,r,o){var i,a=new Uint8Array(64),s=[t(),t(),t(),t()];for(o||n(r,32),G(a,r,32),a[0]&=248,a[31]&=127,a[31]|=64,te(s,a),Z(e,s),i=0;i<32;i++)r[i+32]=e[i];return 0}var ne=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function oe(e,t){var r,n,o,i;for(n=63;n>=32;--n){for(r=0,o=n-32,i=n-12;o<i;++o)t[o]+=r-16*t[n]*ne[o-(n-32)],r=t[o]+128>>8,t[o]-=256*r;t[o]+=r,t[n]=0}for(r=0,o=0;o<32;o++)t[o]+=r-(t[31]>>4)*ne[o],r=t[o]>>8,t[o]&=255;for(o=0;o<32;o++)t[o]-=r*ne[o];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function ie(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;oe(e,r)}function ae(e,r,n,o){var i,a,s=new Uint8Array(64),u=new Uint8Array(64),c=new Uint8Array(64),l=new Float64Array(64),f=[t(),t(),t(),t()];G(s,o,32),s[0]&=248,s[31]&=127,s[31]|=64;var h=n+64;for(i=0;i<n;i++)e[64+i]=r[i];for(i=0;i<32;i++)e[32+i]=s[32+i];for(G(c,e.subarray(32),n+32),ie(c),te(f,c),Z(e,f),i=32;i<64;i++)e[i]=o[i];for(G(u,e,n+64),ie(u),i=0;i<64;i++)l[i]=0;for(i=0;i<32;i++)l[i]=c[i];for(i=0;i<32;i++)for(a=0;a<32;a++)l[i+a]+=u[i]*s[a];return oe(e.subarray(32),l),h}function se(e,r){var n=t(),o=t(),i=t(),u=t(),l=t(),f=t(),h=t();return R(e[2],s),N(e[1],r),$(i,e[1]),U(u,i,c),F(i,i,e[2]),L(u,e[2],u),$(l,u),$(f,l),U(h,f,l),U(n,h,i),U(n,n,u),function(e,r){var n,o=t();for(n=0;n<16;n++)o[n]=r[n];for(n=250;n>=0;n--)$(o,o),1!==n&&U(o,o,r);for(n=0;n<16;n++)e[n]=o[n]}(n,n),U(n,n,i),U(n,n,u),U(n,n,u),U(e[0],n,u),$(o,e[0]),U(o,o,u),I(o,i)&&U(e[0],e[0],d),$(o,e[0]),U(o,o,u),I(o,i)?-1:(D(e[0])===r[31]>>7&&F(e[0],a,e[0]),U(e[3],e[0],e[1]),0)}function ue(e,r,n,o){var i,a=new Uint8Array(32),s=new Uint8Array(64),u=[t(),t(),t(),t()],c=[t(),t(),t(),t()];if(-1,n<64)return-1;if(se(c,o))return-1;for(i=0;i<n;i++)e[i]=r[i];for(i=0;i<32;i++)e[i+32]=o[i];if(G(s,e,n),ie(s),ee(u,c,s),te(c,r.subarray(32)),X(u,c),Z(a,u),n-=64,y(r,0,a,0)){for(i=0;i<n;i++)e[i]=0;return-1}for(i=0;i<n;i++)e[i]=r[i+64];return n}var ce=32,le=24,fe=32,he=32,de=le;function pe(e,t){if(e.length!==ce)throw new Error("bad key size");if(t.length!==le)throw new Error("bad nonce size")}function ve(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function me(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:w,crypto_stream_xor:O,crypto_stream:E,crypto_stream_salsa20_xor:x,crypto_stream_salsa20:_,crypto_onetimeauth:S,crypto_onetimeauth_verify:A,crypto_verify_16:m,crypto_verify_32:y,crypto_secretbox:P,crypto_secretbox_open:C,crypto_scalarmult:z,crypto_scalarmult_base:q,crypto_box_beforenm:H,crypto_box_afternm:J,crypto_box:function(e,t,r,n,o,i){var a=new Uint8Array(32);return H(a,o,i),J(e,t,r,n,a)},crypto_box_open:function(e,t,r,n,o,i){var a=new Uint8Array(32);return H(a,o,i),V(e,t,r,n,a)},crypto_box_keypair:Y,crypto_hash:G,crypto_sign:ae,crypto_sign_keypair:re,crypto_sign_open:ue,crypto_secretbox_KEYBYTES:ce,crypto_secretbox_NONCEBYTES:le,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:fe,crypto_box_SECRETKEYBYTES:he,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:de,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64},e.randomBytes=function(e){var t=new Uint8Array(e);return n(t,e),t},e.secretbox=function(e,t,r){ve(e,t,r),pe(r,t);for(var n=new Uint8Array(32+e.length),o=new Uint8Array(n.length),i=0;i<e.length;i++)n[i+32]=e[i];return P(o,n,n.length,t,r),o.subarray(16)},e.secretbox.open=function(e,t,r){ve(e,t,r),pe(r,t);for(var n=new Uint8Array(16+e.length),o=new Uint8Array(n.length),i=0;i<e.length;i++)n[i+16]=e[i];return n.length<32?null:0!==C(o,n,n.length,t,r)?null:o.subarray(32)},e.secretbox.keyLength=ce,e.secretbox.nonceLength=le,e.secretbox.overheadLength=16,e.scalarMult=function(e,t){if(ve(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var r=new Uint8Array(32);return z(r,e,t),r},e.scalarMult.base=function(e){if(ve(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return q(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,n,o){var i=e.box.before(n,o);return e.secretbox(t,r,i)},e.box.before=function(e,t){ve(e,t),function(e,t){if(e.length!==fe)throw new Error("bad public key size");if(t.length!==he)throw new Error("bad secret key size")}(e,t);var r=new Uint8Array(32);return H(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,o){var i=e.box.before(n,o);return e.secretbox.open(t,r,i)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(fe),t=new Uint8Array(he);return Y(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(ve(e),e.length!==he)throw new Error("bad secret key size");var t=new Uint8Array(fe);return q(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=fe,e.box.secretKeyLength=he,e.box.sharedKeyLength=32,e.box.nonceLength=de,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(ve(e,t),64!==t.length)throw new Error("bad secret key size");var r=new Uint8Array(64+e.length);return ae(r,e,e.length,t),r},e.sign.open=function(e,t){if(ve(e,t),32!==t.length)throw new Error("bad public key size");var r=new Uint8Array(e.length),n=ue(r,e,e.length,t);if(n<0)return null;for(var o=new Uint8Array(n),i=0;i<o.length;i++)o[i]=r[i];return o},e.sign.detached=function(t,r){for(var n=e.sign(t,r),o=new Uint8Array(64),i=0;i<o.length;i++)o[i]=n[i];return o},e.sign.detached.verify=function(e,t,r){if(ve(e,t,r),64!==t.length)throw new Error("bad signature size");if(32!==r.length)throw new Error("bad public key size");var n,o=new Uint8Array(64+e.length),i=new Uint8Array(64+e.length);for(n=0;n<64;n++)o[n]=t[n];for(n=0;n<e.length;n++)o[n+64]=e[n];return ue(i,o,o.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(64);return re(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(ve(e),64!==e.length)throw new Error("bad secret key size");for(var t=new Uint8Array(32),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(ve(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(32),r=new Uint8Array(64),n=0;n<32;n++)r[n]=e[n];return re(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=32,e.sign.secretKeyLength=64,e.sign.seedLength=32,e.sign.signatureLength=64,e.hash=function(e){ve(e);var t=new Uint8Array(64);return G(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return ve(e,t),0!==e.length&&0!==t.length&&(e.length===t.length&&0===v(e,0,t,0,e.length))},e.setPRNG=function(e){n=e},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){e.setPRNG(function(e,r){var n,o=new Uint8Array(r);for(n=0;n<r;n+=65536)t.getRandomValues(o.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)e[n]=o[n];me(o)})}else(t=r(56))&&t.randomBytes&&e.setPRNG(function(e,r){var n,o=t.randomBytes(r);for(n=0;n<r;n++)e[n]=o[n];me(o)})}()}(void 0!==e&&e.exports?e.exports:self.nacl=self.nacl||{})},function(e,t){},function(e,t,r){(function(t){!function(t,r){"use strict";void 0!==e&&e.exports?e.exports=r():t.nacl?t.nacl.util=r():(t.nacl={},t.nacl.util=r())}(this,function(){"use strict";var e={};function r(e){if(!/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e))throw new TypeError("invalid encoding")}return e.decodeUTF8=function(e){if("string"!=typeof e)throw new TypeError("expected string");var t,r=unescape(encodeURIComponent(e)),n=new Uint8Array(r.length);for(t=0;t<r.length;t++)n[t]=r.charCodeAt(t);return n},e.encodeUTF8=function(e){var t,r=[];for(t=0;t<e.length;t++)r.push(String.fromCharCode(e[t]));return decodeURIComponent(escape(r.join("")))},"undefined"==typeof atob?void 0!==t.from?(e.encodeBase64=function(e){return t.from(e).toString("base64")},e.decodeBase64=function(e){return r(e),new Uint8Array(Array.prototype.slice.call(t.from(e,"base64"),0))}):(e.encodeBase64=function(e){return new t(e).toString("base64")},e.decodeBase64=function(e){return r(e),new Uint8Array(Array.prototype.slice.call(new t(e,"base64"),0))}):(e.encodeBase64=function(e){var t,r=[],n=e.length;for(t=0;t<n;t++)r.push(String.fromCharCode(e[t]));return btoa(r.join(""))},e.decodeBase64=function(e){r(e);var t,n=atob(e),o=new Uint8Array(n.length);for(t=0;t<n.length;t++)o[t]=n.charCodeAt(t);return o}),e})}).call(t,r(58).Buffer)},function(e,t,r){
/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";var n=r(59),o=r(60),i=r(61);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=h(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(t,r),o=(e=s(e,n)).write(t,r);o!==n&&(e=e.slice(0,o));return e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|d(t.length);return 0===(e=s(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):h(e,t);if("Buffer"===t.type&&i(t.data))return h(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=s(e,t<0?0:0|d(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function h(e,t){var r=t.length<0?0:0|d(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function d(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return $(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return B(e).length;default:if(n)return $(e).length;t=(""+t).toLowerCase(),n=!0}}function v(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,o);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):y(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function y(e,t,r,n,o){var i,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var l=-1;for(i=r;i<s;i++)if(c(e,i)===c(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(r+u>s&&(r=s-u),i=r;i>=0;i--){for(var f=!0,h=0;h<u;h++)if(c(e,i+h)!==c(t,h)){f=!1;break}if(f)return i}return-1}function g(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function w(e,t,r,n){return z($(t,e.length-r),e,r,n)}function b(e,t,r,n){return z(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function x(e,t,r,n){return b(e,t,r,n)}function _(e,t,r,n){return z(B(t),e,r,n)}function E(e,t,r,n){return z(function(e,t){for(var r,n,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(t,e.length-r),e,r,n)}function O(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function k(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var i,a,s,u,c=e[o],l=null,f=c>239?4:c>223?3:c>191?2:1;if(o+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(i=e[o+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(u=(15&c)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),o+=f}return function(e){var t=e.length;if(t<=S)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=S));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==window.TYPED_ARRAY_SUPPORT?window.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return c(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return l(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var a=e[r];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,o),o+=a.length}return n},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?k(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,r);case"utf8":case"utf-8":return k(this,t,r);case"ascii":return A(this,t,r);case"latin1":case"binary":return P(this,t,r);case"base64":return O(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,o){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(i,a),c=this.slice(n,o),l=e.slice(t,r),f=0;f<s;++f)if(c[f]!==l[f]){i=c[f],a=l[f];break}return i<a?-1:a<i?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return g(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":return b(this,e,t,r);case"latin1":case"binary":return x(this,e,t,r);case"base64":return _(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function A(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function P(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function C(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=t;i<r;++i)o+=U(e[i]);return o}function R(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function T(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,r,n,o,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function j(e,t,r,n){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-r,2);o<i;++o)e[r+o]=(t&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function I(e,t,r,n){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-r,4);o<i;++o)e[r+o]=t>>>8*(n?o:3-o)&255}function D(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(e,t,r,n,i){return i||D(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function L(e,t,r,n,i){return i||D(e,0,r,8),o.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var o=t-e;r=new u(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||T(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||T(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},u.prototype.readUInt8=function(e,t){return t||T(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||T(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||T(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||T(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||T(e,t,this.length);for(var n=t,o=1,i=this[e+--n];n>0&&(o*=256);)i+=this[e+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||T(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||T(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||T(e,4,this.length),o.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||T(e,4,this.length),o.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||T(e,8,this.length),o.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||T(e,8,this.length),o.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||M(this,e,t,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||M(this,e,t,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):j(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):j(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):I(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);M(this,e,t,r,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<r&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);M(this,e,t,r,o-1,-o)}var i=r-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):j(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):j(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):I(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return N(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return N(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return L(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return L(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o,i=n-r;if(this===e&&r<t&&t<n)for(o=i-1;o>=0;--o)e[o+t]=this[o+r];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),t);return i},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var a=u.isBuffer(e)?e:$(new u(e,n).toString()),s=a.length;for(i=0;i<r-t;++i)this[i+t]=a[i%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function $(e,t){var r;t=t||1/0;for(var n=e.length,o=null,i=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function B(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}},function(e,t){"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){for(var t,r=u(e),i=r[0],a=r[1],s=new o(function(e,t,r){return 3*(t+r)/4-r}(0,i,a)),c=0,l=a>0?i-4:i,f=0;f<l;f+=4)t=n[e.charCodeAt(f)]<<18|n[e.charCodeAt(f+1)]<<12|n[e.charCodeAt(f+2)]<<6|n[e.charCodeAt(f+3)],s[c++]=t>>16&255,s[c++]=t>>8&255,s[c++]=255&t;2===a&&(t=n[e.charCodeAt(f)]<<2|n[e.charCodeAt(f+1)]>>4,s[c++]=255&t);1===a&&(t=n[e.charCodeAt(f)]<<10|n[e.charCodeAt(f+1)]<<4|n[e.charCodeAt(f+2)]>>2,s[c++]=t>>8&255,s[c++]=255&t);return s},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],a=0,s=n-o;a<s;a+=16383)i.push(c(e,a,a+16383>s?s:a+16383));1===o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return i.join("")};for(var r=[],n=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=i.length;a<s;++a)r[a]=i[a],n[i.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,n){for(var o,i,a=[],s=t;s<n;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,o){var i,a,s=8*o-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?o-1:0,h=r?-1:1,d=e[t+f];for(f+=h,i=d&(1<<-l)-1,d>>=-l,l+=s;l>0;i=256*i+e[t+f],f+=h,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=n;l>0;a=256*a+e[t+f],f+=h,l-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),i-=c}return(d?-1:1)*a*Math.pow(2,i-n)},t.write=function(e,t,r,n,o,i){var a,s,u,c=8*i-o-1,l=(1<<c)-1,f=l>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:i-1,p=n?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,o),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;e[r+d]=255&s,d+=p,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[r+d]=255&a,d+=p,a/=256,c-=8);e[r+d-p]|=128*v}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(24),i=r(12),a=r(8),s=r(9),u=r(2),c=function(e){function t(t,r){var n=this;e.call(this),this.key=t,this.options=r||{},this.state="initialized",this.connection=null,this.usingTLS=!!r.useTLS,this.timeline=this.options.timeline,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var o=u.default.getNetwork();o.bind("online",function(){n.timeline.info({netinfo:"online"}),"connecting"!==n.state&&"unavailable"!==n.state||n.retryIn(0)}),o.bind("offline",function(){n.timeline.info({netinfo:"offline"}),n.connection&&n.sendActivityCheck()}),this.updateStrategy()}return n(t,e),t.prototype.connect=function(){this.connection||this.runner||(this.strategy.isSupported()?(this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()):this.updateState("failed"))},t.prototype.send=function(e){return!!this.connection&&this.connection.send(e)},t.prototype.send_event=function(e,t,r){return!!this.connection&&this.connection.send_event(e,t,r)},t.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},t.prototype.isUsingTLS=function(){return this.usingTLS},t.prototype.startConnecting=function(){var e=this,t=function(r,n){r?e.runner=e.strategy.connect(0,t):"error"===n.action?(e.emit("error",{type:"HandshakeError",error:n.error}),e.timeline.error({handshakeError:n.error})):(e.abortConnecting(),e.handshakeCallbacks[n.action](n))};this.runner=this.strategy.connect(0,t)},t.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},t.prototype.disconnectInternally=function(){(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection)&&this.abandonConnection().close()},t.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})},t.prototype.retryIn=function(e){var t=this;this.timeline.info({action:"retry",delay:e}),e>0&&this.emit("connecting_in",Math.round(e/1e3)),this.retryTimer=new i.OneOffTimer(e||0,function(){t.disconnectInternally(),t.connect()})},t.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},t.prototype.setUnavailableTimer=function(){var e=this;this.unavailableTimer=new i.OneOffTimer(this.options.unavailableTimeout,function(){e.updateState("unavailable")})},t.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},t.prototype.sendActivityCheck=function(){var e=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new i.OneOffTimer(this.options.pongTimeout,function(){e.timeline.error({pong_timed_out:e.options.pongTimeout}),e.retryIn(0)})},t.prototype.resetActivityCheck=function(){var e=this;this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new i.OneOffTimer(this.activityTimeout,function(){e.sendActivityCheck()}))},t.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},t.prototype.buildConnectionCallbacks=function(e){var t=this;return s.extend({},e,{message:function(e){t.resetActivityCheck(),t.emit("message",e)},ping:function(){t.send_event("pusher:pong",{})},activity:function(){t.resetActivityCheck()},error:function(e){t.emit("error",{type:"WebSocketError",error:e})},closed:function(){t.abandonConnection(),t.shouldRetry()&&t.retryIn(1e3)}})},t.prototype.buildHandshakeCallbacks=function(e){var t=this;return s.extend({},e,{connected:function(e){t.activityTimeout=Math.min(t.options.activityTimeout,e.activityTimeout,e.connection.activityTimeout||1/0),t.clearUnavailableTimer(),t.setConnection(e.connection),t.socket_id=t.connection.id,t.updateState("connected",{socket_id:t.socket_id})}})},t.prototype.buildErrorCallbacks=function(){var e=this,t=function(t){return function(r){r.error&&e.emit("error",{type:"WebSocketError",error:r.error}),t(r)}};return{tls_only:t(function(){e.usingTLS=!0,e.updateStrategy(),e.retryIn(0)}),refused:t(function(){e.disconnect()}),backoff:t(function(){e.retryIn(1e3)}),retry:t(function(){e.retryIn(0)})}},t.prototype.setConnection=function(e){for(var t in this.connection=e,this.connectionCallbacks)this.connection.bind(t,this.connectionCallbacks[t]);this.resetActivityCheck()},t.prototype.abandonConnection=function(){if(this.connection){for(var e in this.stopActivityCheck(),this.connectionCallbacks)this.connection.unbind(e,this.connectionCallbacks[e]);var t=this.connection;return this.connection=null,t}},t.prototype.updateState=function(e,t){var r=this.state;if(this.state=e,r!==e){var n=e;"connected"===n&&(n+=" with new socket ID "+t.socket_id),a.default.debug("State changed",r+" -> "+n),this.timeline.info({state:e,params:t}),this.emit("state_change",{previous:r,current:e}),this.emit(e,t)}},t.prototype.shouldRetry=function(){return"connecting"===this.state||"connected"===this.state},t}(o.default);t.__esModule=!0,t.default=c},function(e,t,r){"use strict";var n=r(9),o=r(43),i=r(31),a=function(){function e(){this.channels={}}return e.prototype.add=function(e,t){return this.channels[e]||(this.channels[e]=function(e,t){if(0===e.indexOf("private-encrypted-")){if("ReactNative"==navigator.product){throw new i.UnsupportedFeature("Encrypted channels are not yet supported when using React Native builds.")}return o.default.createEncryptedChannel(e,t)}return 0===e.indexOf("private-")?o.default.createPrivateChannel(e,t):0===e.indexOf("presence-")?o.default.createPresenceChannel(e,t):o.default.createChannel(e,t)}(e,t)),this.channels[e]},e.prototype.all=function(){return n.values(this.channels)},e.prototype.find=function(e){return this.channels[e]},e.prototype.remove=function(e){var t=this.channels[e];return delete this.channels[e],t},e.prototype.disconnect=function(){n.objectApply(this.channels,function(e){e.disconnect()})},e}();t.__esModule=!0,t.default=a},function(e,t,r){"use strict";var n=r(43),o=r(11),i=r(31),a=r(9),s=function(){function e(e,t,r,n){this.name=e,this.priority=t,this.transport=r,this.options=n||{}}return e.prototype.isSupported=function(){return this.transport.isSupported({useTLS:this.options.useTLS})},e.prototype.connect=function(e,t){var r=this;if(!this.isSupported())return u(new i.UnsupportedStrategy,t);if(this.priority<e)return u(new i.TransportPriorityTooLow,t);var o=!1,s=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),c=null,l=function(){s.unbind("initialized",l),s.connect()},f=function(){c=n.default.createHandshake(s,function(e){o=!0,p(),t(null,e)})},h=function(e){p(),t(e)},d=function(){var e;p(),e=a.safeJSONStringify(s),t(new i.TransportClosed(e))},p=function(){s.unbind("initialized",l),s.unbind("open",f),s.unbind("error",h),s.unbind("closed",d)};return s.bind("initialized",l),s.bind("open",f),s.bind("error",h),s.bind("closed",d),s.initialize(),{abort:function(){o||(p(),c?c.close():s.close())},forceMinPriority:function(e){o||r.priority<e&&(c?c.close():s.close())}}},e}();function u(e,t){return o.default.defer(function(){t(e)}),{abort:function(){},forceMinPriority:function(){}}}t.__esModule=!0,t.default=s},function(e,t,r){"use strict";var n=r(9),o=r(11),i=r(12),a=function(){function e(e,t){this.strategies=e,this.loop=Boolean(t.loop),this.failFast=Boolean(t.failFast),this.timeout=t.timeout,this.timeoutLimit=t.timeoutLimit}return e.prototype.isSupported=function(){return n.any(this.strategies,o.default.method("isSupported"))},e.prototype.connect=function(e,t){var r=this,n=this.strategies,o=0,i=this.timeout,a=null,s=function(u,c){c?t(null,c):(o+=1,r.loop&&(o%=n.length),o<n.length?(i&&(i*=2,r.timeoutLimit&&(i=Math.min(i,r.timeoutLimit))),a=r.tryStrategy(n[o],e,{timeout:i,failFast:r.failFast},s)):t(!0))};return a=this.tryStrategy(n[o],e,{timeout:i,failFast:this.failFast},s),{abort:function(){a.abort()},forceMinPriority:function(t){e=t,a&&a.forceMinPriority(t)}}},e.prototype.tryStrategy=function(e,t,r,n){var o=null,a=null;return r.timeout>0&&(o=new i.OneOffTimer(r.timeout,function(){a.abort(),n(!0)})),a=e.connect(t,function(e,t){e&&o&&o.isRunning()&&!r.failFast||(o&&o.ensureAborted(),n(e,t))}),{abort:function(){o&&o.ensureAborted(),a.abort()},forceMinPriority:function(e){a.forceMinPriority(e)}}},e}();t.__esModule=!0,t.default=a},function(e,t,r){"use strict";var n=r(9),o=r(11),i=function(){function e(e){this.strategies=e}return e.prototype.isSupported=function(){return n.any(this.strategies,o.default.method("isSupported"))},e.prototype.connect=function(e,t){return function(e,t,r){var o=n.map(e,function(e,n,o,i){return e.connect(t,r(n,i))});return{abort:function(){n.apply(o,a)},forceMinPriority:function(e){n.apply(o,function(t){t.forceMinPriority(e)})}}}(this.strategies,e,function(e,r){return function(o,i){r[e].error=o,o?function(e){return n.all(e,function(e){return Boolean(e.error)})}(r)&&t(!0):(n.apply(r,function(e){e.forceMinPriority(i.transport.priority)}),t(null,i))}})},e}();function a(e){e.error||e.aborted||(e.abort(),e.aborted=!0)}t.__esModule=!0,t.default=i},function(e,t,r){"use strict";var n=r(11),o=r(2),i=r(65),a=r(9),s=function(){function e(e,t,r){this.strategy=e,this.transports=t,this.ttl=r.ttl||18e5,this.usingTLS=r.useTLS,this.timeline=r.timeline}return e.prototype.isSupported=function(){return this.strategy.isSupported()},e.prototype.connect=function(e,t){var r=this.usingTLS,s=function(e){var t=o.default.getLocalStorage();if(t)try{var r=t[u(e)];if(r)return JSON.parse(r)}catch(t){c(e)}return null}(r),l=[this.strategy];if(s&&s.timestamp+this.ttl>=n.default.now()){var f=this.transports[s.transport];f&&(this.timeline.info({cached:!0,transport:s.transport,latency:s.latency}),l.push(new i.default([f],{timeout:2*s.latency+1e3,failFast:!0})))}var h=n.default.now(),d=l.pop().connect(e,function i(s,f){s?(c(r),l.length>0?(h=n.default.now(),d=l.pop().connect(e,i)):t(s)):(!function(e,t,r){var i=o.default.getLocalStorage();if(i)try{i[u(e)]=a.safeJSONStringify({timestamp:n.default.now(),transport:t,latency:r})}catch(e){}}(r,f.transport.name,n.default.now()-h),t(null,f))});return{abort:function(){d.abort()},forceMinPriority:function(t){e=t,d&&d.forceMinPriority(t)}}},e}();function u(e){return"pusherTransport"+(e?"TLS":"NonTLS")}function c(e){var t=o.default.getLocalStorage();if(t)try{delete t[u(e)]}catch(e){}}t.__esModule=!0,t.default=s},function(e,t,r){"use strict";var n=r(12),o=function(){function e(e,t){var r=t.delay;this.strategy=e,this.options={delay:r}}return e.prototype.isSupported=function(){return this.strategy.isSupported()},e.prototype.connect=function(e,t){var r,o=this.strategy,i=new n.OneOffTimer(this.options.delay,function(){r=o.connect(e,t)});return{abort:function(){i.ensureAborted(),r&&r.abort()},forceMinPriority:function(t){e=t,r&&r.forceMinPriority(t)}}},e}();t.__esModule=!0,t.default=o},function(e,t){"use strict";var r=function(){function e(e,t,r){this.test=e,this.trueBranch=t,this.falseBranch=r}return e.prototype.isSupported=function(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()},e.prototype.connect=function(e,t){return(this.test()?this.trueBranch:this.falseBranch).connect(e,t)},e}();t.__esModule=!0,t.default=r},function(e,t){"use strict";var r=function(){function e(e){this.strategy=e}return e.prototype.isSupported=function(){return this.strategy.isSupported()},e.prototype.connect=function(e,t){var r=this.strategy.connect(e,function(e,n){n&&r.abort(),t(e,n)});return r},e}();t.__esModule=!0,t.default=r},function(e,t,r){"use strict";var n=r(5);t.getGlobalConfig=function(){return{wsHost:n.default.host,wsPort:n.default.ws_port,wssPort:n.default.wss_port,wsPath:n.default.ws_path,httpHost:n.default.sockjs_host,httpPort:n.default.sockjs_http_port,httpsPort:n.default.sockjs_https_port,httpPath:n.default.sockjs_path,statsHost:n.default.stats_host,authEndpoint:n.default.channel_auth_endpoint,authTransport:n.default.channel_auth_transport,activity_timeout:n.default.activity_timeout,pong_timeout:n.default.pong_timeout,unavailable_timeout:n.default.unavailable_timeout}},t.getClusterConfig=function(e){return{wsHost:"ws-"+e+".pusher.com",httpHost:"sockjs-"+e+".pusher.com"}}}])},e.exports=n()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=s(r(89)),i=s(r(0)),a=s(r(11));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}var c=function(){var e,t,r,s=(e=u(regeneratorRuntime.mark(function e(t){var r,n=t.submission,o=t.vm;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!p(r=d(n))){e.next=3;break}return e.abrupt("return",Object.assign({},h(o),{groupId:r}));case 3:return e.abrupt("return",Object.assign({},f(o),{groupId:r}));case 4:case"end":return e.stop()}},e,this)})),function(t){return e.apply(this,arguments)}),c=(t=u(regeneratorRuntime.mark(function e(t){var r=t.submission,n=t.vm,o=t.info;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!p(d(r))){e.next=3;break}return e.abrupt("return",m({submission:r,vm:n,info:o}));case 3:return e.abrupt("return",v({submission:r,vm:n,info:o}));case 4:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)}),l=(r=u(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)});function f(e){return{progressSteps:["1","2","3"],steps:[{title:e.$t("Group Name"),text:e.$t("Give the group a name"),inputValidator:function(t){return new Promise(function(r,n){""!==t?r():n(new Error(e.$t("The group name is already taken")))})}},{title:e.$t("Current Participant Name"),text:e.$t("Give the current participant a name")},{title:e.$t("Next participant Name"),text:e.$t("Give the next participant a name")}]}}function h(e){return{progressSteps:["1"],steps:[{title:e.$t("Participant Name"),text:e.$t("Give the next participant a name")}]}}function d(e){return i.default.get(function(){return(0,a.default)().getParallelSurvey(e).groupId})}function p(e){return!!e}function v(e){var t=e.submission,r=e.vm,i=e.info,s=i[0],u=i[1],c=i[2],l={groupId:(0,o.default)(),groupName:s,participantName:u,submissionId:t._id};return r.currentSubmission.parallelSurvey=(0,a.default)().setParallelSurvey(l),{parallelSurvey:(0,a.default)().setParallelSurvey(n({},l,{participantName:c}))}}function m(e){var t=e.submission,r=e.info[0],n=(0,a.default)().getParallelSurvey(t);return n.participantName=r,{parallelSurvey:(0,a.default)().setParallelSurvey(n)}}return Object.freeze({createWizard:s,createNewSurvey:c,assignSelfId:l})}();t.default=c},function(e,t,r){var n=r(90),o=r(91);e.exports=function(e,t,r){var i=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||o(a)}},function(e,t){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);e.exports=function(){return r(n),n}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,o=r;return[o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]]].join("")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=a(r(11)),i=a(r(9));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,null,[{key:"fromJsonFile",value:function(t,r){var n=new FileReader;n.onload=function(t){var n=void 0;try{n=JSON.parse(t.target.result)}catch(e){throw new Error("The Json file could not be parsed")}e.parseJson(n,r)},n.readAsText(t)}},{key:"parseJson",value:function(){var t=s(regeneratorRuntime.mark(function t(r,n){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=e.getFormIOInstance(n),Promise.each(r,function(){var t=s(regeneratorRuntime.mark(function t(r,i){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.prepareSubmission(r),t.next=3,e.saveSubmission(a,o,n);case 3:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}()).then(function(){i.default.emit({name:"FAST:DATA:IMPORTED",data:{imported:!0},text:"Data was imported"})}).catch(function(e){console.log(e),n.$swal(n.$t("Import Error!"),n.$t("Your submission could not be Imported. Please check the format of your Json file."),"error")});case 2:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}()},{key:"emitNotification",value:function(e){e.$eventHub.emit("FAST-DATA_IMPORTED")}},{key:"prepareSubmission",value:function(e){return(e.id||e._id)&&(delete e.id,delete e._id),e.modified&&delete e.modified,e.owner&&delete e.owner,{data:e.data?e.data:e,redirect:!1,syncError:!1,draft:!0,trigger:"importSubmission"}}},{key:"saveSubmission",value:function(){var e=s(regeneratorRuntime.mark(function e(t,r,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.default)("*").add({submission:t,formio:r});case 2:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()}]),e}();t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(94),a=(n=i)&&n.__esModule?n:{default:n};function s(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,null,[{key:"get",value:function(){var e=this;return{priority:0,preRequest:function(){var t=s(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("GET"!==r.method){e.next=2;break}return e.abrupt("return",a.default.handle(r));case 2:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),request:function(){var t=s(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("GET"!==r.method){e.next=2;break}return e.abrupt("return",a.default.handle(r));case 2:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}(),staticRequest:function(){var t=s(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("GET"!==r.method){e.next=2;break}return e.abrupt("return",a.default.handle(r));case 2:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()}}}]),e}();t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(5),a=(n=i)&&n.__esModule?n:{default:n};function s(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,null,[{key:"handle",value:function(){var t=s(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(-1!==r.url.indexOf("form.io")){t.next=2;break}return t.abrupt("return",e.handleExternalAPI(r));case 2:if("form"!==r.type){t.next=4;break}return t.abrupt("return",e.handleLocalForm(r));case 4:if("select"!==r.type||-1===r.url.indexOf("form.io")){t.next=6;break}return t.abrupt("return",e.handleInternalResource(r));case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"handleExternalAPI",value:function(){return null}},{key:"handleLocalForm",value:function(){var e=s(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.default.local().where("data.path","=",t.formio.formId).first();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleInternalResource",value:function(){var e=s(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 4:if(e.sent.filter(function(e){return void 0===e.data._id})[0]){e.next=8;break}return e.abrupt("return");case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=a(r(33)),i=a(r(2));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,null,[{key:"string",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.default.local().first();case 2:return r=e.sent,"",n=(0,o.default)(t,r.MD5_KEY),e.abrupt("return",n);case 6:case"end":return e.stop()}},e,this)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})});return function(e){return t.apply(this,arguments)}}()}]),e}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(0),i=(n=o)&&n.__esModule?n:{default:n};var a,s,u,c,l=(u=0,a=regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==u){e.next=2;break}throw new Error("You must asign a timeframe. Cannot Schedule every 0 milliseconds. Did you call function every()?");case 2:r=function(e,t){var r=Date.now,n="undefined"!=typeof window&&window.requestAnimationFrame,o=r(),i=void 0;return n(function a(){r()-o<t||(o+=t,e()),i||n(a)}),{clear:function(){i=1}}},n=i.default.debounce(t,2e3),r(n,milliseconds);case 5:case"end":return e.stop()}},e,void 0)}),s=function(){var e=a.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});t(s)}("next")})},c=function(e){return s.apply(this,arguments)},Object.freeze({set:c,every:function(e){u=e}}));t.default=l}])});
//# sourceMappingURL=goatjs.min.js.map