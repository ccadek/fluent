!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("@goatlab/fluent-loopback",[],t):"object"==typeof exports?exports["@goatlab/fluent-loopback"]=t():e["@goatlab/fluent-loopback"]=t()}(this,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=8)}([function(e,t,r){"use strict";var n=r(3),o=r(13),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function u(e){return null!==e&&"object"==typeof e}function s(e){return"[object Function]"===i.call(e)}function c(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),a(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:o,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:u,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:s,isStream:function(e){return u(e)&&s(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]=r}for(var n=0,o=arguments.length;n<o;n++)c(arguments[n],r);return t},extend:function(e,t,r){return c(t,function(t,o){e[o]=r&&"function"==typeof t?n(t,r):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,r){"use strict";(function(t){var n=r(0),o=r(16),i={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u,s={adapter:("undefined"!=typeof XMLHttpRequest?u=r(4):void 0!==t&&(u=r(4)),u),transformRequest:[function(e,t){return o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};s.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],function(e){s.headers[e]={}}),n.forEach(["post","put","patch"],function(e){s.headers[e]=n.merge(i)}),e.exports=s}).call(this,r(15))},function(e,t,r){e.exports=r(12)},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){"use strict";var n=r(0),o=r(17),i=r(19),a=r(20),u=r(21),s=r(5),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||r(22);e.exports=function(e){return new Promise(function(t,f){var l=e.data,d=e.headers;n.isFormData(l)&&delete d["Content-Type"];var p=new XMLHttpRequest,h="onreadystatechange",m=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in p||u(e.url)||(p=new window.XDomainRequest,h="onload",m=!0,p.onprogress=function(){},p.ontimeout=function(){}),e.auth){var v=e.auth.username||"",g=e.auth.password||"";d.Authorization="Basic "+c(v+":"+g)}if(p.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p[h]=function(){if(p&&(4===p.readyState||m)&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:1223===p.status?204:p.status,statusText:1223===p.status?"No Content":p.statusText,headers:r,config:e,request:p};o(t,f,n),p=null}},p.onerror=function(){f(s("Network Error",e,null,p)),p=null},p.ontimeout=function(){f(s("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",p)),p=null},n.isStandardBrowserEnv()){var y=r(23),w=(e.withCredentials||u(e.url))&&e.xsrfCookieName?y.read(e.xsrfCookieName):void 0;w&&(d[e.xsrfHeaderName]=w)}if("setRequestHeader"in p&&n.forEach(d,function(e,t){void 0===l&&"content-type"===t.toLowerCase()?delete d[t]:p.setRequestHeader(t,e)}),e.withCredentials&&(p.withCredentials=!0),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){p&&(p.abort(),f(e),p=null)}),void 0===l&&(l=null),p.send(l)})}},function(e,t,r){"use strict";var n=r(18);e.exports=function(e,t,r,o,i){var a=new Error(e);return n(a,t,r,o,i)}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(9),i=(n=o)&&n.__esModule?n:{default:n};t.default=i.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=f(r(10)),a=f(r(11)),u=f(r(2)),s=r(31),c=f(r(33));function f(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function p(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}t.default=s.Interface.compose({methods:{baseUrl:function(){var e=this.connector,t=e.baseUrl,r=e.name;if(!t)throw new Error('You did not provide a baseUrl for the "'+r+'" connector');return t.replace(/\/+$/,"")},get:function(){var e=this;return p(regeneratorRuntime.mark(function t(){var r,n,a,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.ownerId&&e.andWhere("owner","=",e.ownerId),r=void 0,n=void 0,t.next=5,(0,i.default)(e.httpGET());case 5:if(a=t.sent,u=o(a,2),r=u[0],n=u[1],!r){t.next=12;break}throw console.log(r),new Error("Error while getting submissions");case 12:if(!(n&&n.data&&n.data.hasOwnProperty("meta")&&e.selectArray.length>0)){t.next=15;break}return n.data.data=e.jsApplySelect(n.data.data),t.abrupt("return",[n.data]);case 15:return t.abrupt("return",e.jsApplySelect(n&&n.data));case 16:case"end":return t.stop()}},t,e)}))()},all:function(){var e=this;return p(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.get());case 1:case"end":return t.stop()}},t,e)}))()},paginate:function(e){var t=this;return p(regeneratorRuntime.mark(function r(){var n,o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=2;break}throw new Error("Paginator cannot be empty");case 2:return t.paginator=e,n={},r.next=6,t.get();case 6:if((o=r.sent)[0]){r.next=9;break}throw new Error("The query was not paginated");case 9:return n.data=o[0].data,n.paginator={page:o[0].meta.currentPage,rowsPerPage:o[0].meta.itemsPerPage,rowsNumber:o[0].meta.totalItemCount},r.abrupt("return",n);case 12:case"end":return r.stop()}},r,t)}))()},raw:function(e){if(!e)throw new Error("No query was received");return this.rawQuery=e,this},insert:function(e){var t=this;return p(regeneratorRuntime.mark(function r(){var u,s,c,f,l,d,p,h,m;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(Array.isArray(e)){r.next=3;break}return r.next=3,t.validate(e);case 3:return u=t&&t.baseUrl()?t.baseUrl():void 0,s=a.default.get(function(){return t.remoteConnection.path},void 0),r.next=7,t.getForm(u,s);case 7:return c=r.sent,f=t.getHeaders(),l=n({data:e,form:c._id},f),r.next=12,(0,i.default)(t.httpPOST(l));case 12:if(d=r.sent,p=o(d,2),h=p[0],m=p[1],!h){r.next=18;break}throw new Error("Cannot insert data");case 18:return r.abrupt("return",m.data);case 19:case"end":return r.stop()}},r,t)}))()},tableView:function(e){var t=this;return p(regeneratorRuntime.mark(function r(){var n,o,i,u,s;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=t&&t.baseUrl()?t.baseUrl():void 0,o=a.default.get(function(){return t.remoteConnection.path},void 0),r.next=4,t.getForm(n,o);case 4:if(i=r.sent){r.next=7;break}throw new Error("Could not find form");case 7:return u=i.components,s=t.getTableViewComponents(u),s=[].concat(d(s),["id as _id","modified as HumanUpdated"]),t.select(s),r.abrupt("return",t.paginate(e));case 12:case"end":return r.stop()}},r,t)}))()},getTableViewComponents:function(e){return a.default.findComponents(e,{input:!0,tableView:!0}).filter(function(e){return!(""===e.label)}).map(function(e){return"data."+e.key+" as "+e.key})},getForm:function(e,t){var r=this;return p(regeneratorRuntime.mark(function e(){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.Fluent.model({properties:{name:"Form",config:{remote:{path:"form",pullForm:!0}}}})(),e.next=3,n.local().where("data.path","=",t).first();case 3:return o=e.sent,e.abrupt("return",o.data);case 5:case"end":return e.stop()}},e,r)}))()},getUrl:function(){return(this&&this.baseUrl()?this.baseUrl():void 0)+"/submissions"},getHeaders:function(){var e={},t={};return"undefined"!=typeof localStorage&&(t=localStorage.getItem("formioToken")),(this.remoteConnection.token||""===this.remoteConnection.token)&&(t=this.remoteConnection.token),t?(e[this.getTokenType(t)]=t,e):e},getPage:function(){return this.paginator&&this.paginator.page?"page="+this.paginator.page+"&":""},getPaginatorLimit:function(e){return this.paginator&&this.paginator.rowsPerPage?n({},e,{limit:this.paginator.rowsPerPage}):e},httpGET:function(){var e=this;return p(regeneratorRuntime.mark(function t(){var r,o,i,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={},o=e.getUrl(),i=e.getHeaders(),t.next=5,e.getFilters(r);case 5:if(r=t.sent,r=e.getLimit(r),r=e.getSkip(r),r=e.getSelect(r),r=e.getOrderBy(r),r=e.getPaginatorLimit(r),a=e.getPage(),e.rawQuery&&(r.limit=r.limit||e.rawQuery.limit,r.skip=r.skip||e.rawQuery.skip,r.order=r.order||e.rawQuery.order,r.fields=n({},r.fields,e.rawQuery.fields),r.where=n({},r.where.and[0],e.rawQuery.where)),r.where=n({},r.where,{deleted:null}),o=o+"?"+a+"filter="+encodeURI(JSON.stringify(r)),t.t0=!0,t.t0){t.next=20;break}return t.next=19,c.default.isOnline();case 19:t.t0=t.sent;case 20:if(t.t0){t.next=23;break}throw new Error("Cannot make get request to "+o+".You are not online");case 23:return t.abrupt("return",u.default.get(o,{headers:i}));case 24:case"end":return t.stop()}},t,e)}))()},httpPOST:function(e){var t=this;return p(regeneratorRuntime.mark(function r(){var n,o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(n=t.getUrl(),o=t.getHeaders(),r.t0=!0,r.t0){r.next=7;break}return r.next=6,c.default.isOnline();case 6:r.t0=r.sent;case 7:if(r.t0){r.next=10;break}throw new Error("Cannot make request post to "+n+".You are not online");case 10:return r.abrupt("return",u.default.post(n,e,{headers:o}));case 11:case"end":return r.stop()}},r,t)}))()},getTokenType:function(e){return e.length>32?"x-jwt-token":"x-token"},getFilters:function(e){var t=this;return p(regeneratorRuntime.mark(function r(){var n,o,i,u;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.whereArray,o=t&&t.baseUrl()?t.baseUrl():void 0,i=a.default.get(function(){return t.remoteConnection.path},void 0),r.next=5,t.getForm(o,i);case 5:if(u=r.sent,e.where={and:[]},u._id&&e.where.and.push({form:u._id}),n&&0!==n.length){r.next=10;break}return r.abrupt("return",e);case 10:return n.forEach(function(t){var r=t[0],n=t[1],o=t[2];switch(n){case"=":e.where.and.push(l({},r,o));break;case"!=":e.where.and.push(l({},r,{neq:o}));break;case">":e.where.and.push(l({},r,{gt:o}));break;case">=":e.where.and.push(l({},r,{gte:o}));break;case"<":e.where.and.push(l({},r,{lt:o}));break;case"<=":e.where.and.push(l({},r,{lte:o}));break;case"in":e.where.and.push(l({},r,{inq:o}));break;case"nin":e.where.and.push(l({},r,{nin:o}));break;case"exists":e.where.and.push(l({},r,{exists:!0}));break;case"!exists":e.where.and.push(l({},r,{exists:!1}));break;case"regex":e.where.and.push(l({},"data."+r,{regexp:o}))}}),r.abrupt("return",e);case 12:case"end":return r.stop()}},r,t)}))()},getOrderBy:function(e){return this.orderByArray&&0!==this.orderByArray.length?n({},e,{order:this.orderByArray[0]+" "+this.orderByArray[1].toUpperCase()}):e},getLimit:function(e){return this.limitNumber&&0!==this.limitNumber||(this.limitNumber=this.rawQuery&&this.rawQuery.limit||50),n({},e,{limit:this.limitNumber})},getSkip:function(e){return this.offsetNumber||(this.offsetNumber=this.rawQuery&&this.rawQuery.skip||0),n({},e,{skip:this.offsetNumber})},getSelect:function(e){var t=this.selectArray;if((t=t.map(function(e){return e=(e=e.split(" as ")[0]).includes("_id")?"id":e})).find(function(e){return e.startsWith("data.")})&&t.unshift("data"),!t)return e;var r={};return t.forEach(function(e){r[e]=!0}),n({},e,{fields:r})}}})},function(e,t,r){"use strict";function n(e,t){return e.then(function(e){return[null,e]}).catch(function(e){return t&&Object.assign(e,t),[e,void 0]})}r.r(t),r.d(t,"to",function(){return n}),t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var i,a,u,s=(i=function(e,t){try{return e()}catch(e){return t}},a=function(e,t,r){var n=t;t.includes(" as ")&&(n=(t=t.split(" as "))[0]);var o=i(function(){return Array.isArray(t)&&t[1].trim()},void 0),a=n.replace(/\[/g,".").replace(/]/g,"").split(".").filter(Boolean).map(function(e){return e.trim()});return{label:o||n,value:a.every(function(t){return!(t&&void 0===(e=e[t]))})?e:r}},u=function e(t,r,o,i,a){t&&(i=i||"",t.forEach(function(t){if(t){var u=t.columns&&Array.isArray(t.columns),s=t.rows&&Array.isArray(t.rows),c=t.components&&Array.isArray(t.components),f=!1,l=t.key?i?i+"."+t.key:t.key:"";a&&(t.parent=n({},a),delete t.parent.components,delete t.parent.componentMap,delete t.parent.columns,delete t.parent.rows),(o||t.tree||!u&&!s&&!c)&&(f=r(t,l));var d=function(){return t.key&&!["panel","table","well","columns","fieldset","tabs","form"].includes(t.type)&&(["datagrid","container","editgrid"].includes(t.type)||t.tree)?l:t.key&&"form"===t.type?l+".data":i};f||(u?t.columns.forEach(function(n){return e(n.components,r,o,d(),a?t:null)}):s?t.rows.forEach(function(n){Array.isArray(n)&&n.forEach(function(n){return e(n.components,r,o,d(),a?t:null)})}):c&&e(t.components,r,o,d(),a?t:null))}}))},Object.freeze({cloneDeep:function(e){return JSON.parse(JSON.stringify(e))},get:i,orderBy:function(){},isEmpty:function(e){if(!e)return!0;if(Array.isArray(e)||"string"==typeof e)return!e.length;for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0},debounce:function(e,t){var r=void 0;return function(){var n=this,o=arguments;clearTimeout(r),r=setTimeout(function(){return e.apply(n,o)},t)}},getFromPath:a,deleteNulls:function e(t){var r=t,n=r instanceof Array;for(var i in r)null===r[i]?n?r.splice(i,1):delete r[i]:"object"===o(r[i])&&e(r[i]);return r},eachComponent:u,findComponents:function(e,t){var r=[];return u(e,function(e,n){(function(e,t){if("string"==typeof t)return e.key===t;var r=!1;return Object.keys(t).forEach(function(n){if(!(r=a(e,n).value===t[n]))return!1}),r})(e,t)&&(e.path=n,r.push(e))},!0),r},unixDate:function(){return Math.round(+new Date/1e3)}}));t.default=s},function(e,t,r){"use strict";var n=r(0),o=r(3),i=r(14),a=r(1);function u(e){var t=new i(e),r=o(i.prototype.request,t);return n.extend(r,i.prototype,t),n.extend(r,t),r}var s=u(a);s.Axios=i,s.create=function(e){return u(n.merge(a,e))},s.Cancel=r(7),s.CancelToken=r(29),s.isCancel=r(6),s.all=function(e){return Promise.all(e)},s.spread=r(30),e.exports=s,e.exports.default=s},function(e,t){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(r(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,r){"use strict";var n=r(1),o=r(0),i=r(24),a=r(25);function u(e){this.defaults=e,this.interceptors={request:new i,response:new i}}u.prototype.request=function(e){"string"==typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),(e=o.merge(n,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[a,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)r=r.then(t.shift(),t.shift());return r},o.forEach(["delete","get","head","options"],function(e){u.prototype[e]=function(t,r){return this.request(o.merge(r||{},{method:e,url:t}))}}),o.forEach(["post","put","patch"],function(e){u.prototype[e]=function(t,r,n){return this.request(o.merge(n||{},{method:e,url:t,data:r}))}}),e.exports=u},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var s,c=[],f=!1,l=-1;function d(){f&&s&&(f=!1,s.length?c=s.concat(c):l=-1,c.length&&p())}function p(){if(!f){var e=u(d);f=!0;for(var t=c.length;t;){for(s=c,c=[];++l<t;)s&&s[l].run();l=-1,t=c.length}s=null,f=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new h(e,t)),1!==c.length||f||u(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t){n.forEach(e,function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])})}},function(e,t,r){"use strict";var n=r(5);e.exports=function(e,t,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e}},function(e,t,r){"use strict";var n=r(0);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(n.isURLSearchParams(t))i=t.toString();else{var a=[];n.forEach(t,function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))}))}),i=a.join("&")}return i&&(e+=(-1===e.indexOf("?")?"?":"&")+i),e}},function(e,t,r){"use strict";var n=r(0),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,i,a={};return e?(n.forEach(e.split("\n"),function(e){if(i=e.indexOf(":"),t=n.trim(e.substr(0,i)).toLowerCase(),r=n.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([r]):a[t]?a[t]+", "+r:r}}),a):a}},function(e,t,r){"use strict";var n=r(0);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},function(e,t,r){"use strict";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function o(){this.message="String contains an invalid character"}o.prototype=new Error,o.prototype.code=5,o.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,r,i=String(e),a="",u=0,s=n;i.charAt(0|u)||(s="=",u%1);a+=s.charAt(63&t>>8-u%1*8)){if((r=i.charCodeAt(u+=.75))>255)throw new o;t=t<<8|r}return a}},function(e,t,r){"use strict";var n=r(0);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,i,a){var u=[];u.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&u.push("expires="+new Date(r).toGMTString()),n.isString(o)&&u.push("path="+o),n.isString(i)&&u.push("domain="+i),!0===a&&u.push("secure"),document.cookie=u.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){"use strict";var n=r(0);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=o},function(e,t,r){"use strict";var n=r(0),o=r(26),i=r(6),a=r(1),u=r(27),s=r(28);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.baseURL&&!u(e.url)&&(e.url=s(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return c(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(t){return i(t)||(c(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t,r){return n.forEach(r,function(r){e=r(e,t)}),e}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";var n=r(7);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var r=this;e(function(e){r.reason||(r.reason=new n(e),t(r.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o(function(t){e=t}),cancel:e}},e.exports=o},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){"use strict";(function(e){var r,n,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==(void 0===e?"undefined":a(e))&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=13)}([function(e,t,r){var n=r(2),o=r(17),i=r(6),a=r(18),u=r(1),s=r(3),c=r(8),f=r(7),l=Array.prototype.concat;function d(){var e=l.apply([],arguments).filter(s);return 0===e.length?void 0:e}function p(e){if(!u(e))return e;var t=e.methods,r=e.properties,n=e.props,o=e.initializers,i=e.init,s=e.composers,l=e.deepProperties,p=e.deepProps,h=e.propertyDescriptors,m=e.staticProperties,v=e.statics,g=e.staticDeepProperties,y=e.deepStatics,w=e.configuration,b=e.conf,x=e.deepConfiguration,E=e.deepConf,A=u(n)||u(r)?f({},n,r):void 0,P=u(p)?c({},p):void 0;P=u(l)?c(P,l):P;var O=u(v)||u(m)?f({},v,m):void 0,k=u(y)?c({},y):void 0;k=u(g)?c(k,g):k;var _=e.staticPropertyDescriptors;a(e.name)&&(_=f({},_||{},{name:{value:e.name}}));var C=u(b)||u(w)?f({},b,w):void 0,j=u(E)?c({},E):void 0;j=u(x)?c(j,x):j;var S=d(i,o),F=d(s),R={};return t&&(R.methods=t),A&&(R.properties=A),S&&(R.initializers=S),F&&(R.composers=F),P&&(R.deepProperties=P),O&&(R.staticProperties=O),k&&(R.staticDeepProperties=k),h&&(R.propertyDescriptors=h),_&&(R.staticPropertyDescriptors=_),C&&(R.configuration=C),j&&(R.deepConfiguration=j),R}function h(){for(var e=arguments.length,t=[],r=0;r<e;r+=1){var o=arguments[r];t.push(i(o)?o:p(o))}return n.apply(this||m,t)}var m=o.compose({staticProperties:{create:function(){return this.apply(this,arguments)},compose:h}}),v=o.compose.staticProperties;for(var g in v)h[g]=v[g].bind(m);h.compose=h.bind(),e.exports=h},function(e,t){e.exports=function(e){var t=void 0===e?"undefined":a(e);return Boolean(e)&&("object"===t||"function"===t)}},function(e,t,r){var n=r(5),o=r(3),i=r(1),a=r(6),u=r(15),s=r(7),c=r(8),f=Array.prototype.slice;function l(e,t){var r=function e(t){var r=e.compose||{},n={__proto__:r.methods};if(c(n,r.deepProperties),s(n,r.properties),Object.defineProperties(n,r.propertyDescriptors||{}),!r.initializers||0===r.initializers.length)return n;void 0===t&&(t={});for(var i=r.initializers,a=i.length,u=0;u<a;u+=1){var l=i[u];if(o(l)){var d=l.call(n,t,{instance:n,stamp:e,args:f.apply(arguments)});n=void 0===d?n:d}}return n};e.staticDeepProperties&&c(r,e.staticDeepProperties),e.staticProperties&&s(r,e.staticProperties),e.staticPropertyDescriptors&&Object.defineProperties(r,e.staticPropertyDescriptors);var n=o(r.compose)?r.compose:t;return s(r.compose=function(){return n.apply(this,arguments)},e),r}function d(e,t,r){if(n(t)){var i=t.length,a=e[r]||[];e[r]=a;for(var u=0;u<i;u+=1){var s=t[u];o(s)&&a.indexOf(s)<0&&a.push(s)}}}function p(e,t,r,n){i(t[r])&&(i(e[r])||(e[r]={}),n(e[r],t[r]))}function h(e,t,r){p(e,t,r,c)}function m(e,t,r){p(e,t,r,s)}function v(e,t){var r=t&&t.compose||t;m(e,r,"methods"),m(e,r,"properties"),h(e,r,"deepProperties"),m(e,r,"propertyDescriptors"),m(e,r,"staticProperties"),h(e,r,"staticDeepProperties"),m(e,r,"staticPropertyDescriptors"),m(e,r,"configuration"),h(e,r,"deepConfiguration"),d(e,r.initializers,"initializers"),d(e,r.composers,"composers")}e.exports=function e(){var t={},r=[];u(this)&&(v(t,this),r.push(this));for(var o=0;o<arguments.length;o++){var i=arguments[o];u(i)&&(v(t,i),r.push(i))}var s=l(t,e),c=t.composers;if(n(c)&&c.length>0)for(var f=0;f<c.length;f+=1){var d=(0,c[f])({stamp:s,composables:r});s=a(d)?d:s}return s}},function(e,t){e.exports=function(e){return"function"==typeof e}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==("undefined"==typeof window?"undefined":a(window))&&(r=window)}e.exports=r},function(e,t){e.exports=Array.isArray},function(e,t,r){var n=r(3);e.exports=function(e){return n(e)&&n(e.compose)}},function(e,t){e.exports=Object.assign},function(e,t,r){var n=r(16),o=r(1),i=r(5);function a(e,t){if(void 0===t)return e;if(i(t))return(i(e)?e:[]).concat(t);if(!n(t))return t;for(var r=o(e)?e:{},u=Object.keys(t),s=0;s<u.length;s+=1){var c=u[s],f=t[c];if(void 0!==f){var l=r[c],d=n(l)||i(f)?l:{};r[c]=a(d,f)}}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++)e=a(e,arguments[t]);return e}},function(e,t,r){(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(0)),o=i(r(19));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.default)({properties:{name:"baseModel",config:{remote:{path:void 0,token:void 0,pullForm:!1},local:{connector:"loki"},merge:{connector:"formio-loki"}}},methods:{getModelName:function(){return this.name},getFluentConfig:function(){var t=void 0;return"undefined"!=typeof window&&window&&window._FLUENT_?t=window._FLUENT_:e&&e._FLUENT_&&(t=e._FLUENT_),t},getConnector:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Array.isArray(e)?this.getConnectorFromArray(e,t,r):e instanceof Object?e:void 0},getConnectorFromArray:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(1===e.length)return e[0];if(this.config&&this.config[t]&&this.config[t].connector){var o=e.find(function(e){return e.name===r.config[t].connector});if(o instanceof Object)return o}if(n){var i=e.find(function(e){return e.name===n});if(i instanceof Object)return i}var a=e.find(function(e){return e.default});return a instanceof Object?a:void 0},remote:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.token,r=void 0===t?void 0:t,n=e.pullForm,o=void 0===n?void 0:n,i=e.connectorName,a=void 0===i?void 0:i,u=this.getFluentConfig(),s=u&&u.connectors&&u.connectors.remote;if(!s)throw new Error("No remote connector was defined. Please define it using Fluent.config()");var c=this.getConnector(s,"remote",a||!1);if(this.config.remote.token=r||this.config.remote.token,o&&(this.config.remote.pullForm=o||this.config.remote.pullForm),c)return c.connector({remoteConnection:this.config.remote,connector:c});throw new Error("No default remote connector found. Please assign one as your default in Fluent.config")},local:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).connectorName,t=void 0===e?void 0:e,r=this.getFluentConfig(),n=r&&r.connectors&&r.connectors.local;if(!n)throw new Error("No local connector was defined. Please define it using Fluent.config()");var o=this.getConnector(n,"local",t||!1);if(o)return o.connector({name:this.name,connector:o});throw new Error("No default local connector found. Please assign one as your default in Fluent.config")},merged:function(){var e=this.local(),t=this.remote(),r=this.getFluentConfig(),n=r&&r.connectors&&r.connectors.merge;if(!n)throw new Error("No merge connector was defined. Please define it using Fluent.config()");var o=this.getConnector(n,"merge");if(o)return o.connector({local:e,remote:t,name:this.name,connector:o});throw new Error("No default merge connector found. Please assign one as your default in Fluent.config")}}}).compose(o.default)}).call(this,r(4))},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=a(r(0)),i=a(r(11));function a(e){return e&&e.__esModule?e:{default:e}}function u(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}t.default=(0,o.default)({init:function(e){if(!Array.isArray(e))throw new Error("Collect method only accepts arrays of data");this.data=e},properties:{data:[]},methods:{get:function(){return this.data},all:function(){return this.get()},avg:function(e){return this.average(e)},average:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[].concat(u(this.data)),r=t.reduce(function(t,r){var n=r;if(r instanceof Object){var o=i.default.getFromPath(r,e,void 0);void 0!==o&&o.value&&(n=o.value)}return t+n},0);try{return r/t.length}catch(e){throw new Error('Division between "'+r+'" and "'+t.length+'" is not valid.')}},chunkApply:function(e,t){var r,n=this;return(r=regeneratorRuntime.mark(function r(){var o,i,a,u;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==t){r.next=2;break}throw new Error("Callback function not defined.");case 2:return o=n.data.length,i=0,n.chunks(e),a=function(r,n){return r.then(function(){return Promise.all(n.map(function(e){return t(e)}))}).then(function(){i=i+e>o?o:i+e,console.log("Processed "+i+"/"+o+" elements...")})},console.log("Processed "+i+"/"+o+" elements..."),u=n.data.reduce(a,Promise.resolve()),r.abrupt("return",u);case 9:case"end":return r.stop()}},r,n)}),function(){var e=r.apply(this,arguments);return new Promise(function(t,r){return function n(o,i){try{var a=e[o](i),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});t(u)}("next")})})()},chunks:function(e){for(var t=[].concat(u(this.data)),r=[];t.length;)r.push(t.splice(0,e));return this.data=r,this},collapse:function(){var e=[].concat(u(this.data)),t=[];return e.forEach(function(e){Array.isArray(e)?e.forEach(function(e){t.push(e)}):t.push(e)}),this.data=t,this},unChunk:function(){return this.collapse()},combine:function(e){var t=[].concat(u(this.data)),r=void 0;return t.forEach(function(t,o){t instanceof Object?(r||(r=[]),r[o]=n({},t,{_value:e[o]})):(r||(r={}),r[t]=e[o])}),this.data=r,this},concat:function(e){return this.data=[].concat(u(this.data),u(e)),this},contains:function(){var e=void 0,t=void 0,r=void 0;return 1===arguments.length?(this.isFunction(arguments.length<=0?void 0:arguments[0])&&(r=arguments.length<=0?void 0:arguments[0]),e=arguments.length<=0?void 0:arguments[0]):(e=arguments.length<=1?void 0:arguments[1],t=arguments.length<=0?void 0:arguments[0]),[].concat(u(this.data)).some(function(n,o){if(r)return!!r(n,o);var a=n;if(n instanceof Object){var u=i.default.getFromPath(n,t,void 0);u.value&&(a=u.value)}return a===e})},duplicatesBy:function(e){var t=[].concat(u(this.data)),r=[];return t.reduce(function(t,n){var o=e.reduce(function(e,t){return e+i.default.getFromPath(n,t,"").value},"");return t.hasOwnProperty(o)?r.push(n):t[o]=!0,t},{}),this.data=r,this},count:function(){return this.data.length},isFunction:function(e){return e&&"[object Function]"==={}.toString.call(e)}}})},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=(n=function(e,t){try{return e()}catch(e){return t}},Object.freeze({get:n,getFromPath:function(e,t,r){var o=t;t.includes(" as ")&&(o=(t=t.split(" as "))[0]);var i=n(function(){return Array.isArray(t)&&t[1].trim()},void 0),a=o.replace(/\[/g,".").replace(/]/g,"").split(".").filter(Boolean).map(function(e){return e.trim()});return{label:i||o,value:a.every(function(t){return!(t&&void 0===(e=e[t]))})?e:r}}}));t.default=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==a(Symbol.iterator)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":a(e)},o=s(r(0)),i=s(r(11)),u=s(r(10));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function f(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})}}t.default=(0,o.default)({init:function(e){var t=e.name,r=e.remoteConnection,n=e.connector;if(!t&&!r)throw new Error("Model must have a name or path");if(!n)throw new Error("Model must have a connector. Please register one using Fluent.config");this.name=t||this.name,this.remoteConnection=r||this.remoteConnection,this.connector=n||this.connector,this.chainReference=[],this.whereArray=[],this.orWhereArray=[],this.selectArray=[],this.orderByArray=[],this.limitNumber=void 0,this.offsetNumber=void 0,this.populate=[],this.chunk=null,this.pullSize=null,this.ownerId=void 0,this.paginator=void 0,this.rawQuery=void 0},properties:{operators:["=","<",">","<=",">=","<>","!=","in","nin","like","regexp","startsWith","endsWith","contains"]},methods:{get:function(){throw new Error("get() method not implemented")},all:function(){throw new Error("all() method not implemented")},find:function(e){throw new Error("find() method not implemented")},findOne:function(){throw new Error("findOne() method not implemented")},remove:function(){throw new Error("remove() method not implemented")},softDelete:function(){throw new Error("softDelete() method not implemented")},insert:function(){throw new Error("insert() method not implemented")},update:function(){throw new Error("update() method not implemented")},clear:function(){throw new Error("clear() method not implemented")},updateOrCreate:function(){throw new Error("updateOrCreate() method not implemented")},findAndRemove:function(){throw new Error("findAndRemove() method not implemented")},paginate:function(){throw new Error("paginate() method not implemented")},tableView:function(){throw new Error("tableView() method not implemented")},raw:function(){throw new Error("raw() method not implemented")},owner:function(e){return this.chainReference.push({method:"owner",args:e}),this.ownerId=e,this},own:function(e){return this.owner(e)},first:function(){var e=this;return f(regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get();case 2:return r=t.sent,t.abrupt("return",i.default.get(function(){return r[0]},[]));case 4:case"end":return t.stop()}},t,e)}))()},collect:function(){var e=this;return f(regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get();case 2:if(r=t.sent,Array.isArray(r)){t.next=5;break}throw new Error("Collect method only accepts arrays of data");case 5:return t.abrupt("return",(0,u.default)(r));case 6:case"end":return t.stop()}},t,e)}))()},select:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t=this.prepareInput(t),this.chainReference.push({method:"select",args:t}),this.selectArray=this.selectArray.concat(t).filter(function(e,t,r){return r.indexOf(e)===t}),this},jsApplySelect:function(e){var t=this,r=Array.isArray(e)?[].concat(c(e)):[e];return this.selectArray.length>0&&(r=r.map(function(e){var r={};return t.selectArray.forEach(function(t){var o=i.default.getFromPath(e,t,void 0),a=i.default.get(function(){return o.value},void 0);void 0!==a&&("object"===(void 0===a?"undefined":n(a))&&a.hasOwnProperty("data")&&a.data.hasOwnProperty("name")?r[o.label]=a.data.name:r[o.label]=a)}),r})),r},offset:function(e){return this.chainReference.push({method:"offset",args:e}),this.offsetNumber=e,this},skip:function(e){return this.offset(e)},where:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.chainReference.push({method:"where",args:r}),this.whereArray=[],(r=Array.isArray(r[0])?r:[r]).forEach(function(t){if(3!==t.length)throw new Error('There where clouse is not properly formatted, expecting: ["attribute", "operator","value"] but got "'+JSON.stringify(t)+'" ');e.whereArray.push(t)}),this},andWhere:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.chainReference.push({method:"andWhere",args:r}),(r=Array.isArray(r[0])?r:[r]).forEach(function(t){if(3!==t.length)throw new Error('There where clouse is not properly formatted, expecting: ["attribute", "operator","value"] but got "'+JSON.stringify(t)+'" ');e.whereArray.push(t)}),this},orWhere:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.chainReference.push({method:"orWhere",args:r}),(r=Array.isArray(r[0])?r:[r]).forEach(function(t){if(3!==t.length)throw new Error('There orWhere clouse is not properly formatted, expecting: ["attribute", "operator","value"] but got "'+JSON.stringify(t)+'" ');e.orWhereArray.push(t)}),this},limit:function(e){return this.chainReference.push({method:"limit",args:e}),this.limitNumber=e,this},take:function(e){return this.limit(e)},pluck:function(e){var t=this;return f(regeneratorRuntime.mark(function r(){var n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t.chainReference.push({method:"pluck",args:e}),r.next=3,t.get();case 3:return n=(n=r.sent).map(function(t){var r=i.default.getFromPath(t,e,void 0);if(void 0!==r.value)return r.value}),r.abrupt("return",n);case 6:case"end":return r.stop()}},r,t)}))()},orderBy:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.chainReference.push({method:"orderBy",args:t}),this.orderByArray=t,this},jsApplyOrderBy:function(e){var t=[].concat(c(e));if(0===this.orderByArray.length)return t;var r=this.orderByArray[0];if(this.selectArray.length>0&&(r.includes(".")||r.includes("[")))throw new Error('Cannot orderBy nested attribute "'+r+'" when using Select. You must rename the attribute');var n=this.orderByArray[1],o=this.orderByArray[2];return o||(o="string"),t.sort(function(e,t){var a=i.default.getFromPath(e,r,void 0).value,u=i.default.getFromPath(t,r,void 0).value;if(void 0===a||void 0===u)throw new Error('Cannot order by property "'+r+'" not all values have this property');return o.includes("string")||o.includes("number")?"asc"===n?a>u?1:a<u?-1:0:a>u?-1:a<u?1:0:o.includes("date")?"asc"===n?new Date(a)-new Date(u):new Date(u)-new Date(a):void 0})},prepareInput:function(e){var t=[];return e.forEach(function(e){var r=Array.isArray(e)?e:e.split(",");r=r.map(function(e){return e.trim()}),t=t.concat(r)}),t.filter(function(e,t,r){return r.indexOf(e)===t}),t},ArrayInsert:function(e,t){var r=this;return f(regeneratorRuntime.mark(function n(){var o,i,a,u,s,c,f,l;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:o=1,i=e.length,a=!0,u=!1,s=void 0,n.prev=5,c=e[Symbol.iterator]();case 7:if(a=(f=c.next()).done){n.next=26;break}return l=f.value,t&&t.showProgress&&console.log("Inserting "+o+" of "+i),n.prev=10,n.next=13,r.insert(l,t);case 13:n.sent,t&&t.showProgress&&console.log("Element "+o+" inserted"),o++,n.next=23;break;case 18:n.prev=18,n.t0=n.catch(10),console.log("ERROR - Element "+o+" - "+JSON.stringify(l)+" could not be inserted"),console.log(n.t0),o++;case 23:a=!0,n.next=7;break;case 26:n.next=32;break;case 28:n.prev=28,n.t1=n.catch(5),u=!0,s=n.t1;case 32:n.prev=32,n.prev=33,!a&&c.return&&c.return();case 35:if(n.prev=35,!u){n.next=38;break}throw s;case 38:return n.finish(35);case 39:return n.finish(32);case 40:case"end":return n.stop()}},n,r,[[5,28,32,40],[10,18],[33,,35,39]])}))()}}})},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Event=t.MergeConnector=t.Interface=t.Fluent=t.Model=void 0;var n=s(r(14)),o=s(r(9)),i=s(r(12)),a=s(r(20)),u=s(r(21));function s(e){return e&&e.__esModule?e:{default:e}}t.Model=o.default,t.Fluent=n.default,t.Interface=i.default,t.MergeConnector=a.default,t.Event=u.default},function(e,t,r){(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(0)),o=a(r(9)),i=a(r(10));function a(e){return e&&e.__esModule?e:{default:e}}function u(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var s=(0,n.default)({init:function(){this.registerGlobalVariable()},properties:{},methods:{model:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.registerModel(t),o.default.compose.apply(o.default,u(t))},extend:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.registerModel(t),o.default.compose.apply(o.default,u(t))},compose:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.registerModel(t),o.default.compose.apply(o.default,u(t))},collect:function(e){return(0,i.default)(e)},registerGlobalVariable:function(){"undefined"!=typeof window&&window&&!window._FLUENT_&&(window._FLUENT_={connectors:{},models:{}}),e&&!e._FLUENT_&&(e._FLUENT_={connectors:{},models:{}})},registerModel:function(t){var r=t&&t[0]&&t[0].properties&&t[0].properties.name?t[0].properties.name:void 0;if(r&&"baseModel"!==r){if("string"!=typeof r)throw new Error("You must assign a name to your Model when using Fluent.compose");"undefined"==typeof window?e._FLUENT_.models[r]=!0:window._FLUENT_.models[r]=!0}},config:function(t){var r=t.REMOTE_CONNECTORS,n=void 0===r?void 0:r,o=t.LOCAL_CONNECTORS,i=void 0===o?void 0:o,a=t.MERGE_CONNECTORS,u=void 0===a?void 0:a;"undefined"!=typeof window&&window&&(window._FLUENT_.connectors={local:i,remote:n,merge:u}),void 0!==e&&e&&(e._FLUENT_.connectors={local:i,remote:n,merge:u})},getConfig:function(){return"undefined"!=typeof window&&window?window._FLUENT_:void 0!==e&&e?e._FLUENT_:void 0}}})();t.default=s}).call(this,r(4))},function(e,t,r){e.exports=r(1)},function(e,t){e.exports=function(e){return Boolean(e)&&"object"==(void 0===e?"undefined":a(e))&&Object.getPrototypeOf(e)===Object.prototype}},function(e,t,r){var n=r(2);function o(e){return function(t){var r={};return r[e]=t,this&&this.compose?this.compose(r):n(r)}}var i=o("properties"),a=o("staticProperties"),u=o("configuration"),s=o("deepProperties"),c=o("staticDeepProperties"),f=o("deepConfiguration"),l=o("initializers");e.exports=n({staticProperties:{methods:o("methods"),props:i,properties:i,statics:a,staticProperties:a,conf:u,configuration:u,deepProps:s,deepProperties:s,deepStatics:c,staticDeepProperties:c,deepConf:f,deepConfiguration:f,init:l,initializers:l,composers:o("composers"),propertyDescriptors:o("propertyDescriptors"),staticPropertyDescriptors:o("staticPropertyDescriptors")}})},function(e,t){e.exports=function(e){return"string"==typeof e}},function(e,t,r){var n=r(2),o=new WeakMap,i=function(e,t){function r(){var t=o.get(this);return e.apply(t,arguments)}return Object.defineProperty(r,"name",{value:t,configurable:!0}),r};function a(e,t){var r=t.stamp.compose,n=r.deepConfiguration.Privatize.methods,a={};o.set(a,this);var u=r.methods;if(!u)return a;for(var s=Object.keys(u),c=0;c<s.length;c++){var f=s[c];n.indexOf(f)<0&&(a[f]=i(u[f],f))}if("undefined"!=typeof Symbol){var l=Symbol.for("stamp");u[l]&&(a[l]=t.stamp)}return a}var u=n({initializers:[a],deepConfiguration:{Privatize:{methods:[]}},staticProperties:{privatizeMethods:function(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];"string"==typeof r&&r.length>0&&e.push(r)}return(this&&this.compose?this:u).compose({deepConfiguration:{Privatize:{methods:e}}})}},composers:[function(e){var t=e.stamp.compose.initializers;t.splice(t.indexOf(a),1),t.push(a)}]});e.exports=u},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=(n=r(12))&&n.__esModule?n:{default:n};t.default=o.default.compose({properties:{localFx:void 0,remoteFx:void 0},init:function(e){this.connectors=e},methods:{get:function(){var e,t=this;return(e=regeneratorRuntime.mark(function e(){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.prepareMergedFunctions(),e.next=3,t.localFx.get();case 3:return r=e.sent,e.next=6,t.remoteFx.get();case 6:return n=e.sent,e.abrupt("return",r.concat(n));case 8:case"end":return e.stop()}},e,t)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(o,i){try{var a=t[o](i),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})})()},prepareMergedFunctions:function(){var e=this;this.localFx=this.connectors.local,this.remoteFx=this.connectors.remote,this.chainReference.forEach(function(t){var r=t.method,n=t.args;e.localFx=e.localFx[r](n),e.remoteFx=e.remoteFx[r](n)})}}})},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.freeze({emit:function(e){var t=e.name,r=e.data,n=e.text;if(!t)throw new Error("Event must have a name.");if(!r)throw new Error("Event must have data.");if(!n)throw new Error("Event must have a text.");var o=function(e,t){var r=document.createEvent("CustomEvent");return t=t||{bubbles:!1,cancelable:!1,detail:void 0},r.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r}(t,{detail:{data:r,text:n}});window.dispatchEvent(o)},listen:function(e){var t=e.name,r=e.callback;if(!t)throw new Error("Listener must have a name.");if(!r)throw new Error("Listener must have a callback.");window.addEventListener(t,r)},remove:function(e){var t=e.name,r=e.callback;if(!t)throw new Error("Listener must have a name to detach");if(!r)throw new Error("Listener must have a callback to detach");window.removeEventListener(t,r)}});t.default=n}])},"object"==a(t)&&"object"==a(e)?e.exports=i():(n=[],void 0===(o="function"==typeof(r=i)?r.apply(t,n):r)||(e.exports=o))}).call(this,r(32)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(34)),o=i(r(2));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(){var e="undefined"==typeof window||!window||!window.navigator||window.navigator.onLine;return Object.freeze({isOnline:function(){return new Promise(function(e,t){o.default.get("https://yesno.wtf/api").then(function(t){e(!0)}).catch(function(t){e(!1)})})},initEventListeners:function(){n.default.listen({name:"online",callback:function(){console.log("App is now online"),e||(e=!0,n.default.emit({name:"FAST:CONNECTION:ONLINE",data:e,text:"Application is now online"}))}}),n.default.listen({name:"offline",callback:function(){console.log("App is now offline"),e&&(e=!1,n.default.emit({name:"FAST:CONNECTION:OFFLINE",data:e,text:"Application is now offline"}))}})}})}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){var e=function(e,t){var r=document.createEvent("CustomEvent");return t=t||{bubbles:!1,cancelable:!1,detail:void 0},r.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r};return Object.freeze({emit:function(t){var r=t.name,n=t.data,o=t.text;if(!r)throw new Error("Event must have a name.");if(!n)throw new Error("Event must have data.");if(!o)throw new Error("Event must have a text.");var i=e(r,{detail:{data:n,text:o}});window.dispatchEvent(i)},listen:function(e){var t=e.name,r=e.callback;if(!t)throw new Error("Listener must have a name.");if(!r)throw new Error("Listener must have a callback.");window.addEventListener(t,r)},remove:function(e){var t=e.name,r=e.callback;if(!t)throw new Error("Listener must have a name to detach");if(!r)throw new Error("Listener must have a callback to detach");window.removeEventListener(t,r)}})}();t.default=n}])});
//# sourceMappingURL=fluent-loopback.min.js.map